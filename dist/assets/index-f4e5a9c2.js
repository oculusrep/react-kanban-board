var Wx=Object.defineProperty;var Yx=(e,t,n)=>t in e?Wx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>(Yx(e,typeof t!="symbol"?t+"":t,n),n);function Hx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Bg={exports:{}},Tl={},Ug={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=Symbol.for("react.element"),Vx=Symbol.for("react.portal"),Gx=Symbol.for("react.fragment"),qx=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),Xx=Symbol.for("react.forward_ref"),Zx=Symbol.for("react.suspense"),eb=Symbol.for("react.memo"),tb=Symbol.for("react.lazy"),Fp=Symbol.iterator;function nb(e){return e===null||typeof e!="object"?null:(e=Fp&&e[Fp]||e["@@iterator"],typeof e=="function"?e:null)}var Wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yg=Object.assign,Hg={};function Ws(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||Wg}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zg(){}zg.prototype=Ws.prototype;function qd(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||Wg}var Kd=qd.prototype=new zg;Kd.constructor=qd;Yg(Kd,Ws.prototype);Kd.isPureReactComponent=!0;var $p=Array.isArray,Vg=Object.prototype.hasOwnProperty,Qd={current:null},Gg={key:!0,ref:!0,__self:!0,__source:!0};function qg(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Vg.call(t,r)&&!Gg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gi,type:e,key:o,ref:i,props:s,_owner:Qd.current}}function rb(e,t){return{$$typeof:gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jd(e){return typeof e=="object"&&e!==null&&e.$$typeof===gi}function sb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bp=/\/+/g;function yc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sb(""+e.key):t.toString(36)}function pa(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case gi:case Vx:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+yc(i,0):r,$p(s)?(n="",e!=null&&(n=e.replace(Bp,"$&/")+"/"),pa(s,t,n,"",function(c){return c})):s!=null&&(Jd(s)&&(s=rb(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Bp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",$p(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+yc(o,a);i+=pa(o,t,n,l,s)}else if(l=nb(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+yc(o,a++),i+=pa(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ii(e,t,n){if(e==null)return e;var r=[],s=0;return pa(e,r,"","",function(o){return t.call(n,o,s++)}),r}function ob(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},ha={transition:null},ib={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ha,ReactCurrentOwner:Qd};function Kg(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ii,forEach:function(e,t,n){Ii(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ii(e,function(){t++}),t},toArray:function(e){return Ii(e,function(t){return t})||[]},only:function(e){if(!Jd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Ws;X.Fragment=Gx;X.Profiler=Kx;X.PureComponent=qd;X.StrictMode=qx;X.Suspense=Zx;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ib;X.act=Kg;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yg({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Qd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Vg.call(t,l)&&!Gg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gi,type:e.type,key:s,ref:o,props:r,_owner:i}};X.createContext=function(e){return e={$$typeof:Jx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qx,_context:e},e.Consumer=e};X.createElement=qg;X.createFactory=function(e){var t=qg.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Xx,render:e}};X.isValidElement=Jd;X.lazy=function(e){return{$$typeof:tb,_payload:{_status:-1,_result:e},_init:ob}};X.memo=function(e,t){return{$$typeof:eb,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ha.transition;ha.transition={};try{e()}finally{ha.transition=t}};X.unstable_act=Kg;X.useCallback=function(e,t){return et.current.useCallback(e,t)};X.useContext=function(e){return et.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return et.current.useDeferredValue(e)};X.useEffect=function(e,t){return et.current.useEffect(e,t)};X.useId=function(){return et.current.useId()};X.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return et.current.useMemo(e,t)};X.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};X.useRef=function(e){return et.current.useRef(e)};X.useState=function(e){return et.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return et.current.useTransition()};X.version="18.3.1";Ug.exports=X;var b=Ug.exports;const T=$g(b),Qg=Hx({__proto__:null,default:T},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=b,lb=Symbol.for("react.element"),cb=Symbol.for("react.fragment"),ub=Object.prototype.hasOwnProperty,db=ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fb={key:!0,ref:!0,__self:!0,__source:!0};function Jg(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ub.call(t,r)&&!fb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:lb,type:e,key:o,ref:i,props:s,_owner:db.current}}Tl.Fragment=cb;Tl.jsx=Jg;Tl.jsxs=Jg;Bg.exports=Tl;var p=Bg.exports,Cu={},Xg={exports:{}},yt={},Zg={exports:{}},ev={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,O){var L=D.length;D.push(O);e:for(;0<L;){var Y=L-1>>>1,Z=D[Y];if(0<s(Z,O))D[Y]=O,D[L]=Z,L=Y;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var O=D[0],L=D.pop();if(L!==O){D[0]=L;e:for(var Y=0,Z=D.length,Ee=Z>>>1;Y<Ee;){var Ne=2*(Y+1)-1,Mt=D[Ne],nt=Ne+1,hr=D[nt];if(0>s(Mt,L))nt<Z&&0>s(hr,Mt)?(D[Y]=hr,D[nt]=L,Y=nt):(D[Y]=Mt,D[Ne]=L,Y=Ne);else if(nt<Z&&0>s(hr,L))D[Y]=hr,D[nt]=L,Y=nt;else break e}}return O}function s(D,O){var L=D.sortIndex-O.sortIndex;return L!==0?L:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=D)r(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(c)}}function _(D){if(w=!1,y(D),!g)if(n(l)!==null)g=!0,F(S);else{var O=n(c);O!==null&&I(_,O.startTime-D)}}function S(D,O){g=!1,w&&(w=!1,v(E),E=-1),h=!0;var L=f;try{for(y(O),d=n(l);d!==null&&(!(d.expirationTime>O)||D&&!j());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var Z=Y(d.expirationTime<=O);O=e.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),y(O)}else r(l);d=n(l)}if(d!==null)var Ee=!0;else{var Ne=n(c);Ne!==null&&I(_,Ne.startTime-O),Ee=!1}return Ee}finally{d=null,f=L,h=!1}}var k=!1,C=null,E=-1,N=5,P=-1;function j(){return!(e.unstable_now()-P<N)}function B(){if(C!==null){var D=e.unstable_now();P=D;var O=!0;try{O=C(!0,D)}finally{O?M():(k=!1,C=null)}}else k=!1}var M;if(typeof m=="function")M=function(){m(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=B,M=function(){H.postMessage(null)}}else M=function(){x(B,0)};function F(D){C=D,k||(k=!0,M())}function I(D,O){E=x(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,F(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var L=f;f=O;try{return D()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=f;f=D;try{return O()}finally{f=L}},e.unstable_scheduleCallback=function(D,O,L){var Y=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Y+L:Y):L=Y,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=L+Z,D={id:u++,callback:O,priorityLevel:D,startTime:L,expirationTime:Z,sortIndex:-1},L>Y?(D.sortIndex=L,t(c,D),n(l)===null&&D===n(c)&&(w?(v(E),E=-1):w=!0,I(_,L-Y))):(D.sortIndex=Z,t(l,D),g||h||(g=!0,F(S))),D},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(D){var O=f;return function(){var L=f;f=O;try{return D.apply(this,arguments)}finally{f=L}}}})(ev);Zg.exports=ev;var pb=Zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb=b,vt=pb;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tv=new Set,Uo={};function Yr(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Uo[e]=t,e=0;e<t.length;e++)tv.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,mb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Up={},Wp={};function gb(e){return Eu.call(Wp,e)?!0:Eu.call(Up,e)?!1:mb.test(e)?Wp[e]=!0:(Up[e]=!0,!1)}function vb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yb(e,t,n,r){if(t===null||typeof t>"u"||vb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xd=/[\-:]([a-z])/g;function Zd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xd,Zd);Ue[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xd,Zd);Ue[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xd,Zd);Ue[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ef(e,t,n,r){var s=Ue.hasOwnProperty(t)?Ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yb(t,n,s,r)&&(n=null),r||s===null?gb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rn=hb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mi=Symbol.for("react.element"),ss=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),Nu=Symbol.for("react.profiler"),nv=Symbol.for("react.provider"),rv=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),sv=Symbol.for("react.offscreen"),Yp=Symbol.iterator;function no(e){return e===null||typeof e!="object"?null:(e=Yp&&e[Yp]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,wc;function bo(e){if(wc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wc=t&&t[1]||""}return`
`+wc+e}var xc=!1;function bc(e,t){if(!e||xc)return"";xc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{xc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bo(e):""}function wb(e){switch(e.tag){case 5:return bo(e.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 2:case 15:return e=bc(e.type,!1),e;case 11:return e=bc(e.type.render,!1),e;case 1:return e=bc(e.type,!0),e;default:return""}}function Ou(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case ss:return"Portal";case Nu:return"Profiler";case tf:return"StrictMode";case Pu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rv:return(e.displayName||"Context")+".Consumer";case nv:return(e._context.displayName||"Context")+".Provider";case nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rf:return t=e.displayName||null,t!==null?t:Ou(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return Ou(e(t))}catch{}}return null}function xb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ou(t);case 8:return t===tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ov(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bb(e){var t=ov(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ai(e){e._valueTracker||(e._valueTracker=bb(e))}function iv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ov(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ru(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=or(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function av(e,t){t=t.checked,t!=null&&ef(e,"checked",t,!1)}function ju(e,t){av(e,t);var n=or(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Iu(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Iu(e,t,n){(t!=="number"||Ma(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _o=Array.isArray;function gs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+or(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(_o(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:or(n)}}function lv(e,t){var n=or(t.value),r=or(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Li,uv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_b=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(e){_b.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),No[t]=No[e]})});function dv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||No.hasOwnProperty(e)&&No[e]?(""+t).trim():t+"px"}function fv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Sb=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lu(e,t){if(t){if(Sb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=null;function sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bu=null,vs=null,ys=null;function qp(e){if(e=wi(e)){if(typeof Bu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Ml(t),Bu(e.stateNode,e.type,t))}}function pv(e){vs?ys?ys.push(e):ys=[e]:vs=e}function hv(){if(vs){var e=vs,t=ys;if(ys=vs=null,qp(e),t)for(e=0;e<t.length;e++)qp(t[e])}}function mv(e,t){return e(t)}function gv(){}var _c=!1;function vv(e,t,n){if(_c)return e(t,n);_c=!0;try{return mv(e,t,n)}finally{_c=!1,(vs!==null||ys!==null)&&(gv(),hv())}}function Yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Uu=!1;if(Cn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Uu=!1}function kb(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Po=!1,Aa=null,La=!1,Wu=null,Db={onError:function(e){Po=!0,Aa=e}};function Cb(e,t,n,r,s,o,i,a,l){Po=!1,Aa=null,kb.apply(Db,arguments)}function Eb(e,t,n,r,s,o,i,a,l){if(Cb.apply(this,arguments),Po){if(Po){var c=Aa;Po=!1,Aa=null}else throw Error(R(198));La||(La=!0,Wu=c)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kp(e){if(Hr(e)!==e)throw Error(R(188))}function Nb(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Kp(s),e;if(o===r)return Kp(s),t;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function wv(e){return e=Nb(e),e!==null?xv(e):null}function xv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xv(e);if(t!==null)return t;e=e.sibling}return null}var bv=vt.unstable_scheduleCallback,Qp=vt.unstable_cancelCallback,Pb=vt.unstable_shouldYield,Tb=vt.unstable_requestPaint,Se=vt.unstable_now,Ob=vt.unstable_getCurrentPriorityLevel,of=vt.unstable_ImmediatePriority,_v=vt.unstable_UserBlockingPriority,Fa=vt.unstable_NormalPriority,Rb=vt.unstable_LowPriority,Sv=vt.unstable_IdlePriority,Ol=null,on=null;function jb(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Ab,Ib=Math.log,Mb=Math.LN2;function Ab(e){return e>>>=0,e===0?32:31-(Ib(e)/Mb|0)|0}var Fi=64,$i=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $a(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=So(a):(o&=i,o!==0&&(r=So(o)))}else i=n&~s,i!==0?r=So(i):o!==0&&(r=So(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yt(t),s=1<<n,r|=e[n],t&=~s;return r}function Lb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Yt(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=Lb(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Yu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kv(){var e=Fi;return Fi<<=1,!(Fi&4194240)&&(Fi=64),e}function Sc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=n}function $b(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Yt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function af(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function Dv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cv,lf,Ev,Nv,Pv,Hu=!1,Bi=[],Gn=null,qn=null,Kn=null,Ho=new Map,zo=new Map,Un=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function so(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=wi(t),t!==null&&lf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ub(e,t,n,r,s){switch(t){case"focusin":return Gn=so(Gn,e,t,n,r,s),!0;case"dragenter":return qn=so(qn,e,t,n,r,s),!0;case"mouseover":return Kn=so(Kn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ho.set(o,so(Ho.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,zo.set(o,so(zo.get(o)||null,e,t,n,r,s)),!0}return!1}function Tv(e){var t=kr(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=yv(n),t!==null){e.blockedOn=t,Pv(e.priority,function(){Ev(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$u=r,n.target.dispatchEvent(r),$u=null}else return t=wi(n),t!==null&&lf(t),e.blockedOn=n,!1;t.shift()}return!0}function Xp(e,t,n){ma(e)&&n.delete(t)}function Wb(){Hu=!1,Gn!==null&&ma(Gn)&&(Gn=null),qn!==null&&ma(qn)&&(qn=null),Kn!==null&&ma(Kn)&&(Kn=null),Ho.forEach(Xp),zo.forEach(Xp)}function oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,Wb)))}function Vo(e){function t(s){return oo(s,e)}if(0<Bi.length){oo(Bi[0],e);for(var n=1;n<Bi.length;n++){var r=Bi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gn!==null&&oo(Gn,e),qn!==null&&oo(qn,e),Kn!==null&&oo(Kn,e),Ho.forEach(t),zo.forEach(t),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)Tv(n),n.blockedOn===null&&Un.shift()}var ws=Rn.ReactCurrentBatchConfig,Ba=!0;function Yb(e,t,n,r){var s=le,o=ws.transition;ws.transition=null;try{le=1,cf(e,t,n,r)}finally{le=s,ws.transition=o}}function Hb(e,t,n,r){var s=le,o=ws.transition;ws.transition=null;try{le=4,cf(e,t,n,r)}finally{le=s,ws.transition=o}}function cf(e,t,n,r){if(Ba){var s=zu(e,t,n,r);if(s===null)jc(e,t,r,Ua,n),Jp(e,r);else if(Ub(s,e,t,n,r))r.stopPropagation();else if(Jp(e,r),t&4&&-1<Bb.indexOf(e)){for(;s!==null;){var o=wi(s);if(o!==null&&Cv(o),o=zu(e,t,n,r),o===null&&jc(e,t,r,Ua,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else jc(e,t,r,null,n)}}var Ua=null;function zu(e,t,n,r){if(Ua=null,e=sf(r),e=kr(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ua=e,null}function Ov(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ob()){case of:return 1;case _v:return 4;case Fa:case Rb:return 16;case Sv:return 536870912;default:return 16}default:return 16}}var Hn=null,uf=null,ga=null;function Rv(){if(ga)return ga;var e,t=uf,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return ga=s.slice(e,1<r?1-r:void 0)}function va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Zp(){return!1}function wt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ui:Zp,this.isPropagationStopped=Zp,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),t}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=wt(Ys),yi=xe({},Ys,{view:0,detail:0}),zb=wt(yi),kc,Dc,io,Rl=xe({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(kc=e.screenX-io.screenX,Dc=e.screenY-io.screenY):Dc=kc=0,io=e),kc)},movementY:function(e){return"movementY"in e?e.movementY:Dc}}),eh=wt(Rl),Vb=xe({},Rl,{dataTransfer:0}),Gb=wt(Vb),qb=xe({},yi,{relatedTarget:0}),Cc=wt(qb),Kb=xe({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Qb=wt(Kb),Jb=xe({},Ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xb=wt(Jb),Zb=xe({},Ys,{data:0}),th=wt(Zb),e_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n_[e])?!!t[e]:!1}function ff(){return r_}var s_=xe({},yi,{key:function(e){if(e.key){var t=e_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(e){return e.type==="keypress"?va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o_=wt(s_),i_=xe({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=wt(i_),a_=xe({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),l_=wt(a_),c_=xe({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),u_=wt(c_),d_=xe({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f_=wt(d_),p_=[9,13,27,32],pf=Cn&&"CompositionEvent"in window,To=null;Cn&&"documentMode"in document&&(To=document.documentMode);var h_=Cn&&"TextEvent"in window&&!To,jv=Cn&&(!pf||To&&8<To&&11>=To),rh=String.fromCharCode(32),sh=!1;function Iv(e,t){switch(e){case"keyup":return p_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function m_(e,t){switch(e){case"compositionend":return Mv(t);case"keypress":return t.which!==32?null:(sh=!0,rh);case"textInput":return e=t.data,e===rh&&sh?null:e;default:return null}}function g_(e,t){if(is)return e==="compositionend"||!pf&&Iv(e,t)?(e=Rv(),ga=uf=Hn=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jv&&t.locale!=="ko"?null:t.data;default:return null}}var v_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v_[e.type]:t==="textarea"}function Av(e,t,n,r){pv(r),t=Wa(t,"onChange"),0<t.length&&(n=new df("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oo=null,Go=null;function y_(e){Gv(e,0)}function jl(e){var t=cs(e);if(iv(t))return e}function w_(e,t){if(e==="change")return t}var Lv=!1;if(Cn){var Ec;if(Cn){var Nc="oninput"in document;if(!Nc){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Nc=typeof ih.oninput=="function"}Ec=Nc}else Ec=!1;Lv=Ec&&(!document.documentMode||9<document.documentMode)}function ah(){Oo&&(Oo.detachEvent("onpropertychange",Fv),Go=Oo=null)}function Fv(e){if(e.propertyName==="value"&&jl(Go)){var t=[];Av(t,Go,e,sf(e)),vv(y_,t)}}function x_(e,t,n){e==="focusin"?(ah(),Oo=t,Go=n,Oo.attachEvent("onpropertychange",Fv)):e==="focusout"&&ah()}function b_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(Go)}function __(e,t){if(e==="click")return jl(t)}function S_(e,t){if(e==="input"||e==="change")return jl(t)}function k_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:k_;function qo(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Eu.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ch(e,t){var n=lh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lh(n)}}function $v(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$v(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bv(){for(var e=window,t=Ma();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ma(e.document)}return t}function hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D_(e){var t=Bv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$v(n.ownerDocument.documentElement,n)){if(r!==null&&hf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=ch(n,o);var i=ch(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var C_=Cn&&"documentMode"in document&&11>=document.documentMode,as=null,Vu=null,Ro=null,Gu=!1;function uh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gu||as==null||as!==Ma(r)||(r=as,"selectionStart"in r&&hf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ro&&qo(Ro,r)||(Ro=r,r=Wa(Vu,"onSelect"),0<r.length&&(t=new df("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=as)))}function Wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ls={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},Pc={},Uv={};Cn&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Il(e){if(Pc[e])return Pc[e];if(!ls[e])return e;var t=ls[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uv)return Pc[e]=t[n];return e}var Wv=Il("animationend"),Yv=Il("animationiteration"),Hv=Il("animationstart"),zv=Il("transitionend"),Vv=new Map,dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){Vv.set(e,t),Yr(t,[e])}for(var Tc=0;Tc<dh.length;Tc++){var Oc=dh[Tc],E_=Oc.toLowerCase(),N_=Oc[0].toUpperCase()+Oc.slice(1);ur(E_,"on"+N_)}ur(Wv,"onAnimationEnd");ur(Yv,"onAnimationIteration");ur(Hv,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(zv,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function fh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Eb(r,t,void 0,e),e.currentTarget=null}function Gv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;fh(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;fh(s,a,c),o=l}}}if(La)throw e=Wu,La=!1,Wu=null,e}function fe(e,t){var n=t[Xu];n===void 0&&(n=t[Xu]=new Set);var r=e+"__bubble";n.has(r)||(qv(t,e,2,!1),n.add(r))}function Rc(e,t,n){var r=0;t&&(r|=4),qv(n,e,r,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Ko(e){if(!e[Yi]){e[Yi]=!0,tv.forEach(function(n){n!=="selectionchange"&&(P_.has(n)||Rc(n,!1,e),Rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Rc("selectionchange",!1,t))}}function qv(e,t,n,r){switch(Ov(t)){case 1:var s=Yb;break;case 4:s=Hb;break;default:s=cf}n=s.bind(null,t,n,e),s=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=kr(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}vv(function(){var c=o,u=sf(n),d=[];e:{var f=Vv.get(e);if(f!==void 0){var h=df,g=e;switch(e){case"keypress":if(va(n)===0)break e;case"keydown":case"keyup":h=o_;break;case"focusin":g="focus",h=Cc;break;case"focusout":g="blur",h=Cc;break;case"beforeblur":case"afterblur":h=Cc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Gb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=l_;break;case Wv:case Yv:case Hv:h=Qb;break;case zv:h=u_;break;case"scroll":h=zb;break;case"wheel":h=f_;break;case"copy":case"cut":case"paste":h=Xb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nh}var w=(t&4)!==0,x=!w&&e==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,v!==null&&(_=Yo(m,v),_!=null&&w.push(Qo(m,_,y)))),x)break;m=m.return}0<w.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==$u&&(g=n.relatedTarget||n.fromElement)&&(kr(g)||g[En]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?kr(g):null,g!==null&&(x=Hr(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(w=eh,_="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=nh,_="onPointerLeave",v="onPointerEnter",m="pointer"),x=h==null?f:cs(h),y=g==null?f:cs(g),f=new w(_,m+"leave",h,n,u),f.target=x,f.relatedTarget=y,_=null,kr(u)===c&&(w=new w(v,m+"enter",g,n,u),w.target=y,w.relatedTarget=x,_=w),x=_,h&&g)t:{for(w=h,v=g,m=0,y=w;y;y=Gr(y))m++;for(y=0,_=v;_;_=Gr(_))y++;for(;0<m-y;)w=Gr(w),m--;for(;0<y-m;)v=Gr(v),y--;for(;m--;){if(w===v||v!==null&&w===v.alternate)break t;w=Gr(w),v=Gr(v)}w=null}else w=null;h!==null&&ph(d,f,h,w,!1),g!==null&&x!==null&&ph(d,x,g,w,!0)}}e:{if(f=c?cs(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=w_;else if(oh(f))if(Lv)S=S_;else{S=b_;var k=x_}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=__);if(S&&(S=S(e,c))){Av(d,S,n,u);break e}k&&k(e,f,c),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Iu(f,"number",f.value)}switch(k=c?cs(c):window,e){case"focusin":(oh(k)||k.contentEditable==="true")&&(as=k,Vu=c,Ro=null);break;case"focusout":Ro=Vu=as=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,uh(d,n,u);break;case"selectionchange":if(C_)break;case"keydown":case"keyup":uh(d,n,u)}var C;if(pf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else is?Iv(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(jv&&n.locale!=="ko"&&(is||E!=="onCompositionStart"?E==="onCompositionEnd"&&is&&(C=Rv()):(Hn=u,uf="value"in Hn?Hn.value:Hn.textContent,is=!0)),k=Wa(c,E),0<k.length&&(E=new th(E,e,null,n,u),d.push({event:E,listeners:k}),C?E.data=C:(C=Mv(n),C!==null&&(E.data=C)))),(C=h_?m_(e,n):g_(e,n))&&(c=Wa(c,"onBeforeInput"),0<c.length&&(u=new th("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Gv(d,t)})}function Qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Yo(e,n),o!=null&&r.unshift(Qo(e,o,s)),o=Yo(e,t),o!=null&&r.push(Qo(e,o,s))),e=e.return}return r}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ph(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Yo(n,o),l!=null&&i.unshift(Qo(n,l,a))):s||(l=Yo(n,o),l!=null&&i.push(Qo(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var T_=/\r\n?/g,O_=/\u0000|\uFFFD/g;function hh(e){return(typeof e=="string"?e:""+e).replace(T_,`
`).replace(O_,"")}function Hi(e,t,n){if(t=hh(t),hh(e)!==t&&n)throw Error(R(425))}function Ya(){}var qu=null,Ku=null;function Qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,R_=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,j_=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(e){return mh.resolve(null).then(e).catch(I_)}:Ju;function I_(e){setTimeout(function(){throw e})}function Ic(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vo(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),tn="__reactFiber$"+Hs,Jo="__reactProps$"+Hs,En="__reactContainer$"+Hs,Xu="__reactEvents$"+Hs,M_="__reactListeners$"+Hs,A_="__reactHandles$"+Hs;function kr(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gh(e);e!==null;){if(n=e[tn])return n;e=gh(e)}return t}e=n,n=e.parentNode}return null}function wi(e){return e=e[tn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Ml(e){return e[Jo]||null}var Zu=[],us=-1;function dr(e){return{current:e}}function pe(e){0>us||(e.current=Zu[us],Zu[us]=null,us--)}function de(e,t){us++,Zu[us]=e.current,e.current=t}var ir={},Ge=dr(ir),at=dr(!1),Ir=ir;function Ds(e,t){var n=e.type.contextTypes;if(!n)return ir;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function Ha(){pe(at),pe(Ge)}function vh(e,t,n){if(Ge.current!==ir)throw Error(R(168));de(Ge,t),de(at,n)}function Kv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,xb(e)||"Unknown",s));return xe({},n,r)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,Ir=Ge.current,de(Ge,e),de(at,at.current),!0}function yh(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Kv(e,t,Ir),r.__reactInternalMemoizedMergedChildContext=e,pe(at),pe(Ge),de(Ge,e)):pe(at),de(at,n)}var gn=null,Al=!1,Mc=!1;function Qv(e){gn===null?gn=[e]:gn.push(e)}function L_(e){Al=!0,Qv(e)}function fr(){if(!Mc&&gn!==null){Mc=!0;var e=0,t=le;try{var n=gn;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gn=null,Al=!1}catch(s){throw gn!==null&&(gn=gn.slice(e+1)),bv(of,fr),s}finally{le=t,Mc=!1}}return null}var ds=[],fs=0,Va=null,Ga=0,kt=[],Dt=0,Mr=null,vn=1,yn="";function yr(e,t){ds[fs++]=Ga,ds[fs++]=Va,Va=e,Ga=t}function Jv(e,t,n){kt[Dt++]=vn,kt[Dt++]=yn,kt[Dt++]=Mr,Mr=e;var r=vn;e=yn;var s=32-Yt(r)-1;r&=~(1<<s),n+=1;var o=32-Yt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,vn=1<<32-Yt(t)+s|n<<s|r,yn=o+e}else vn=1<<o|n<<s|r,yn=e}function mf(e){e.return!==null&&(yr(e,1),Jv(e,1,0))}function gf(e){for(;e===Va;)Va=ds[--fs],ds[fs]=null,Ga=ds[--fs],ds[fs]=null;for(;e===Mr;)Mr=kt[--Dt],kt[Dt]=null,yn=kt[--Dt],kt[Dt]=null,vn=kt[--Dt],kt[Dt]=null}var pt=null,dt=null,he=!1,Ut=null;function Xv(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,dt=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:vn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,dt=null,!0):!1;default:return!1}}function ed(e){return(e.mode&1)!==0&&(e.flags&128)===0}function td(e){if(he){var t=dt;if(t){var n=t;if(!wh(e,t)){if(ed(e))throw Error(R(418));t=Qn(n.nextSibling);var r=pt;t&&wh(e,t)?Xv(r,n):(e.flags=e.flags&-4097|2,he=!1,pt=e)}}else{if(ed(e))throw Error(R(418));e.flags=e.flags&-4097|2,he=!1,pt=e}}}function xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function zi(e){if(e!==pt)return!1;if(!he)return xh(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qu(e.type,e.memoizedProps)),t&&(t=dt)){if(ed(e))throw Zv(),Error(R(418));for(;t;)Xv(e,t),t=Qn(t.nextSibling)}if(xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=pt?Qn(e.stateNode.nextSibling):null;return!0}function Zv(){for(var e=dt;e;)e=Qn(e.nextSibling)}function Cs(){dt=pt=null,he=!1}function vf(e){Ut===null?Ut=[e]:Ut.push(e)}var F_=Rn.ReactCurrentBatchConfig;function ao(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bh(e){var t=e._init;return t(e._payload)}function ey(e){function t(v,m){if(e){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=er(v,m),v.index=0,v.sibling=null,v}function o(v,m,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,y,_){return m===null||m.tag!==6?(m=Wc(y,v.mode,_),m.return=v,m):(m=s(m,y),m.return=v,m)}function l(v,m,y,_){var S=y.type;return S===os?u(v,m,y.props.children,_,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$n&&bh(S)===m.type)?(_=s(m,y.props),_.ref=ao(v,m,y),_.return=v,_):(_=ka(y.type,y.key,y.props,null,v.mode,_),_.ref=ao(v,m,y),_.return=v,_)}function c(v,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Yc(y,v.mode,_),m.return=v,m):(m=s(m,y.children||[]),m.return=v,m)}function u(v,m,y,_,S){return m===null||m.tag!==7?(m=Tr(y,v.mode,_,S),m.return=v,m):(m=s(m,y),m.return=v,m)}function d(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wc(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Mi:return y=ka(m.type,m.key,m.props,null,v.mode,y),y.ref=ao(v,null,m),y.return=v,y;case ss:return m=Yc(m,v.mode,y),m.return=v,m;case $n:var _=m._init;return d(v,_(m._payload),y)}if(_o(m)||no(m))return m=Tr(m,v.mode,y,null),m.return=v,m;Vi(v,m)}return null}function f(v,m,y,_){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(v,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mi:return y.key===S?l(v,m,y,_):null;case ss:return y.key===S?c(v,m,y,_):null;case $n:return S=y._init,f(v,m,S(y._payload),_)}if(_o(y)||no(y))return S!==null?null:u(v,m,y,_,null);Vi(v,y)}return null}function h(v,m,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(y)||null,a(m,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mi:return v=v.get(_.key===null?y:_.key)||null,l(m,v,_,S);case ss:return v=v.get(_.key===null?y:_.key)||null,c(m,v,_,S);case $n:var k=_._init;return h(v,m,y,k(_._payload),S)}if(_o(_)||no(_))return v=v.get(y)||null,u(m,v,_,S,null);Vi(m,_)}return null}function g(v,m,y,_){for(var S=null,k=null,C=m,E=m=0,N=null;C!==null&&E<y.length;E++){C.index>E?(N=C,C=null):N=C.sibling;var P=f(v,C,y[E],_);if(P===null){C===null&&(C=N);break}e&&C&&P.alternate===null&&t(v,C),m=o(P,m,E),k===null?S=P:k.sibling=P,k=P,C=N}if(E===y.length)return n(v,C),he&&yr(v,E),S;if(C===null){for(;E<y.length;E++)C=d(v,y[E],_),C!==null&&(m=o(C,m,E),k===null?S=C:k.sibling=C,k=C);return he&&yr(v,E),S}for(C=r(v,C);E<y.length;E++)N=h(C,v,E,y[E],_),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?E:N.key),m=o(N,m,E),k===null?S=N:k.sibling=N,k=N);return e&&C.forEach(function(j){return t(v,j)}),he&&yr(v,E),S}function w(v,m,y,_){var S=no(y);if(typeof S!="function")throw Error(R(150));if(y=S.call(y),y==null)throw Error(R(151));for(var k=S=null,C=m,E=m=0,N=null,P=y.next();C!==null&&!P.done;E++,P=y.next()){C.index>E?(N=C,C=null):N=C.sibling;var j=f(v,C,P.value,_);if(j===null){C===null&&(C=N);break}e&&C&&j.alternate===null&&t(v,C),m=o(j,m,E),k===null?S=j:k.sibling=j,k=j,C=N}if(P.done)return n(v,C),he&&yr(v,E),S;if(C===null){for(;!P.done;E++,P=y.next())P=d(v,P.value,_),P!==null&&(m=o(P,m,E),k===null?S=P:k.sibling=P,k=P);return he&&yr(v,E),S}for(C=r(v,C);!P.done;E++,P=y.next())P=h(C,v,E,P.value,_),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?E:P.key),m=o(P,m,E),k===null?S=P:k.sibling=P,k=P);return e&&C.forEach(function(B){return t(v,B)}),he&&yr(v,E),S}function x(v,m,y,_){if(typeof y=="object"&&y!==null&&y.type===os&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Mi:e:{for(var S=y.key,k=m;k!==null;){if(k.key===S){if(S=y.type,S===os){if(k.tag===7){n(v,k.sibling),m=s(k,y.props.children),m.return=v,v=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$n&&bh(S)===k.type){n(v,k.sibling),m=s(k,y.props),m.ref=ao(v,k,y),m.return=v,v=m;break e}n(v,k);break}else t(v,k);k=k.sibling}y.type===os?(m=Tr(y.props.children,v.mode,_,y.key),m.return=v,v=m):(_=ka(y.type,y.key,y.props,null,v.mode,_),_.ref=ao(v,m,y),_.return=v,v=_)}return i(v);case ss:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=s(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Yc(y,v.mode,_),m.return=v,v=m}return i(v);case $n:return k=y._init,x(v,m,k(y._payload),_)}if(_o(y))return g(v,m,y,_);if(no(y))return w(v,m,y,_);Vi(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,y),m.return=v,v=m):(n(v,m),m=Wc(y,v.mode,_),m.return=v,v=m),i(v)):n(v,m)}return x}var Es=ey(!0),ty=ey(!1),qa=dr(null),Ka=null,ps=null,yf=null;function wf(){yf=ps=Ka=null}function xf(e){var t=qa.current;pe(qa),e._currentValue=t}function nd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xs(e,t){Ka=e,yf=ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(yf!==e)if(e={context:e,memoizedValue:t,next:null},ps===null){if(Ka===null)throw Error(R(308));ps=e,Ka.dependencies={lanes:0,firstContext:e}}else ps=ps.next=e;return t}var Dr=null;function bf(e){Dr===null?Dr=[e]:Dr.push(e)}function ny(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nn(e,r)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bn=!1;function _f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nn(e,n)}return s=r.interleaved,s===null?(t.next=t,bf(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nn(e,n)}function ya(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,af(e,n)}}function _h(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qa(e,t,n,r){var s=e.updateQueue;Bn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=s.baseState;i=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,w=a;switch(f=t,h=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=xe({},d,f);break e;case 2:Bn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Lr|=i,e.lanes=i,e.memoizedState=d}}function Sh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var xi={},an=dr(xi),Xo=dr(xi),Zo=dr(xi);function Cr(e){if(e===xi)throw Error(R(174));return e}function Sf(e,t){switch(de(Zo,t),de(Xo,e),de(an,xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}pe(an),de(an,t)}function Ns(){pe(an),pe(Xo),pe(Zo)}function sy(e){Cr(Zo.current);var t=Cr(an.current),n=Au(t,e.type);t!==n&&(de(Xo,e),de(an,n))}function kf(e){Xo.current===e&&(pe(an),pe(Xo))}var ve=dr(0);function Ja(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ac=[];function Df(){for(var e=0;e<Ac.length;e++)Ac[e]._workInProgressVersionPrimary=null;Ac.length=0}var wa=Rn.ReactCurrentDispatcher,Lc=Rn.ReactCurrentBatchConfig,Ar=0,we=null,Pe=null,Re=null,Xa=!1,jo=!1,ei=0,$_=0;function We(){throw Error(R(321))}function Cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Ef(e,t,n,r,s,o){if(Ar=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wa.current=e===null||e.memoizedState===null?Y_:H_,e=n(r,s),jo){o=0;do{if(jo=!1,ei=0,25<=o)throw Error(R(301));o+=1,Re=Pe=null,t.updateQueue=null,wa.current=z_,e=n(r,s)}while(jo)}if(wa.current=Za,t=Pe!==null&&Pe.next!==null,Ar=0,Re=Pe=we=null,Xa=!1,t)throw Error(R(300));return e}function Nf(){var e=ei!==0;return ei=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?we.memoizedState=Re=e:Re=Re.next=e,Re}function jt(){if(Pe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?we.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(R(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?we.memoizedState=Re=e:Re=Re.next=e}return Re}function ti(e,t){return typeof t=="function"?t(e):t}function Fc(e){var t=jt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var u=c.lane;if((Ar&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,we.lanes|=u,Lr|=u}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,Vt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,we.lanes|=o,Lr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $c(e){var t=jt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Vt(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function oy(){}function iy(e,t){var n=we,r=jt(),s=t(),o=!Vt(r.memoizedState,s);if(o&&(r.memoizedState=s,it=!0),r=r.queue,Pf(cy.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,ni(9,ly.bind(null,n,r,s,t),void 0,null),je===null)throw Error(R(349));Ar&30||ay(n,t,s)}return s}function ay(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ly(e,t,n,r){t.value=n,t.getSnapshot=r,uy(t)&&dy(e)}function cy(e,t,n){return n(function(){uy(t)&&dy(e)})}function uy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function dy(e){var t=Nn(e,1);t!==null&&Ht(t,e,1,-1)}function kh(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t.queue=e,e=e.dispatch=W_.bind(null,we,e),[t.memoizedState,e]}function ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fy(){return jt().memoizedState}function xa(e,t,n,r){var s=Xt();we.flags|=e,s.memoizedState=ni(1|t,n,void 0,r===void 0?null:r)}function Ll(e,t,n,r){var s=jt();r=r===void 0?null:r;var o=void 0;if(Pe!==null){var i=Pe.memoizedState;if(o=i.destroy,r!==null&&Cf(r,i.deps)){s.memoizedState=ni(t,n,o,r);return}}we.flags|=e,s.memoizedState=ni(1|t,n,o,r)}function Dh(e,t){return xa(8390656,8,e,t)}function Pf(e,t){return Ll(2048,8,e,t)}function py(e,t){return Ll(4,2,e,t)}function hy(e,t){return Ll(4,4,e,t)}function my(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gy(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,my.bind(null,t,e),n)}function Tf(){}function vy(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yy(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wy(e,t,n){return Ar&21?(Vt(n,t)||(n=kv(),we.lanes|=n,Lr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function B_(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=Lc.transition;Lc.transition={};try{e(!1),t()}finally{le=n,Lc.transition=r}}function xy(){return jt().memoizedState}function U_(e,t,n){var r=Zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},by(e))_y(t,n);else if(n=ny(e,t,n,r),n!==null){var s=Ze();Ht(n,e,r,s),Sy(n,t,r)}}function W_(e,t,n){var r=Zn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(by(e))_y(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Vt(a,i)){var l=t.interleaved;l===null?(s.next=s,bf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=ny(e,t,s,r),n!==null&&(s=Ze(),Ht(n,e,r,s),Sy(n,t,r))}}function by(e){var t=e.alternate;return e===we||t!==null&&t===we}function _y(e,t){jo=Xa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,af(e,n)}}var Za={readContext:Rt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Y_={readContext:Rt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Dh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xa(4194308,4,my.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=U_.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:kh,useDebugValue:Tf,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=kh(!1),t=e[0];return e=B_.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Xt();if(he){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),je===null)throw Error(R(349));Ar&30||ay(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Dh(cy.bind(null,r,o,e),[e]),r.flags|=2048,ni(9,ly.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xt(),t=je.identifierPrefix;if(he){var n=yn,r=vn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H_={readContext:Rt,useCallback:vy,useContext:Rt,useEffect:Pf,useImperativeHandle:gy,useInsertionEffect:py,useLayoutEffect:hy,useMemo:yy,useReducer:Fc,useRef:fy,useState:function(){return Fc(ti)},useDebugValue:Tf,useDeferredValue:function(e){var t=jt();return wy(t,Pe.memoizedState,e)},useTransition:function(){var e=Fc(ti)[0],t=jt().memoizedState;return[e,t]},useMutableSource:oy,useSyncExternalStore:iy,useId:xy,unstable_isNewReconciler:!1},z_={readContext:Rt,useCallback:vy,useContext:Rt,useEffect:Pf,useImperativeHandle:gy,useInsertionEffect:py,useLayoutEffect:hy,useMemo:yy,useReducer:$c,useRef:fy,useState:function(){return $c(ti)},useDebugValue:Tf,useDeferredValue:function(e){var t=jt();return Pe===null?t.memoizedState=e:wy(t,Pe.memoizedState,e)},useTransition:function(){var e=$c(ti)[0],t=jt().memoizedState;return[e,t]},useMutableSource:oy,useSyncExternalStore:iy,useId:xy,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fl={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Zn(e),o=wn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Jn(e,o,s),t!==null&&(Ht(t,e,s,r),ya(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Zn(e),o=wn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Jn(e,o,s),t!==null&&(Ht(t,e,s,r),ya(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Zn(e),s=wn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Jn(e,s,r),t!==null&&(Ht(t,e,r,n),ya(t,e,r))}};function Ch(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!qo(n,r)||!qo(s,o):!0}function ky(e,t,n){var r=!1,s=ir,o=t.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(s=lt(t)?Ir:Ge.current,r=t.contextTypes,o=(r=r!=null)?Ds(e,s):ir),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fl.enqueueReplaceState(t,t.state,null)}function sd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_f(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Rt(o):(o=lt(t)?Ir:Ge.current,s.context=Ds(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(rd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fl.enqueueReplaceState(s,s.state,null),Qa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ps(e,t){try{var n="",r=t;do n+=wb(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Bc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function od(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function Dy(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tl||(tl=!0,md=r),od(e,t)},n}function Cy(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){od(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){od(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Nh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new V_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=iS.bind(null,e,t,n),t.then(e,e))}function Ph(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Th(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Jn(n,t,1))),n.lanes|=1),e)}var G_=Rn.ReactCurrentOwner,it=!1;function Qe(e,t,n,r){t.child=e===null?ty(t,null,n,r):Es(t,e.child,n,r)}function Oh(e,t,n,r,s){n=n.render;var o=t.ref;return xs(t,s),r=Ef(e,t,n,r,o,s),n=Nf(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(he&&n&&mf(t),t.flags|=1,Qe(e,t,r,s),t.child)}function Rh(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ff(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Ey(e,t,o,r,s)):(e=ka(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:qo,n(i,r)&&e.ref===t.ref)return Pn(e,t,s)}return t.flags|=1,e=er(o,r),e.ref=t.ref,e.return=t,t.child=e}function Ey(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(qo(o,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,Pn(e,t,s)}return id(e,t,n,r,s)}function Ny(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(ms,ut),ut|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(ms,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(ms,ut),ut|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(ms,ut),ut|=r;return Qe(e,t,s,n),t.child}function Py(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function id(e,t,n,r,s){var o=lt(n)?Ir:Ge.current;return o=Ds(t,o),xs(t,s),n=Ef(e,t,n,r,o,s),r=Nf(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(he&&r&&mf(t),t.flags|=1,Qe(e,t,n,s),t.child)}function jh(e,t,n,r,s){if(lt(n)){var o=!0;za(t)}else o=!1;if(xs(t,s),t.stateNode===null)ba(e,t),ky(t,n,r),sd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rt(c):(c=lt(n)?Ir:Ge.current,c=Ds(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Eh(t,i,r,c),Bn=!1;var f=t.memoizedState;i.state=f,Qa(t,r,i,s),l=t.memoizedState,a!==r||f!==l||at.current||Bn?(typeof u=="function"&&(rd(t,n,u,r),l=t.memoizedState),(a=Bn||Ch(t,n,a,r,f,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ry(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ft(t.type,a),i.props=c,d=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=lt(n)?Ir:Ge.current,l=Ds(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Eh(t,i,r,l),Bn=!1,f=t.memoizedState,i.state=f,Qa(t,r,i,s);var g=t.memoizedState;a!==d||f!==g||at.current||Bn?(typeof h=="function"&&(rd(t,n,h,r),g=t.memoizedState),(c=Bn||Ch(t,n,c,r,f,g,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ad(e,t,n,r,o,s)}function ad(e,t,n,r,s,o){Py(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&yh(t,n,!1),Pn(e,t,o);r=t.stateNode,G_.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Es(t,e.child,null,o),t.child=Es(t,null,a,o)):Qe(e,t,a,o),t.memoizedState=r.state,s&&yh(t,n,!0),t.child}function Ty(e){var t=e.stateNode;t.pendingContext?vh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vh(e,t.context,!1),Sf(e,t.containerInfo)}function Ih(e,t,n,r,s){return Cs(),vf(s),t.flags|=256,Qe(e,t,n,r),t.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function cd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oy(e,t,n){var r=t.pendingProps,s=ve.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(ve,s&1),e===null)return td(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ul(i,r,0,null),e=Tr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cd(n),t.memoizedState=ld,e):Of(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return q_(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=er(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=er(a,o):(o=Tr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?cd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=ld,r}return o=e.child,e=o.sibling,r=er(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Of(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gi(e,t,n,r){return r!==null&&vf(r),Es(t,e.child,null,n),e=Of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q_(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Bc(Error(R(422))),Gi(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ul({mode:"visible",children:r.children},s,0,null),o=Tr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Es(t,e.child,null,i),t.child.memoizedState=cd(i),t.memoizedState=ld,o);if(!(t.mode&1))return Gi(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(R(419)),r=Bc(o,r,void 0),Gi(e,t,i,r)}if(a=(i&e.childLanes)!==0,it||a){if(r=je,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Nn(e,s),Ht(r,e,s,-1))}return Lf(),r=Bc(Error(R(421))),Gi(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=aS.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,dt=Qn(s.nextSibling),pt=t,he=!0,Ut=null,e!==null&&(kt[Dt++]=vn,kt[Dt++]=yn,kt[Dt++]=Mr,vn=e.id,yn=e.overflow,Mr=t),t=Of(t,r.children),t.flags|=4096,t)}function Mh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nd(e.return,t,n)}function Uc(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ry(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Qe(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,n,t);else if(e.tag===19)Mh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ja(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Uc(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ja(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Uc(t,!0,n,null,o);break;case"together":Uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ba(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function K_(e,t,n){switch(t.tag){case 3:Ty(t),Cs();break;case 5:sy(t);break;case 1:lt(t.type)&&za(t);break;case 4:Sf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(qa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Oy(e,t,n):(de(ve,ve.current&1),e=Pn(e,t,n),e!==null?e.sibling:null);de(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ry(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Ny(e,t,n)}return Pn(e,t,n)}var jy,ud,Iy,My;jy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ud=function(){};Iy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cr(an.current);var o=null;switch(n){case"input":s=Ru(e,s),r=Ru(e,r),o=[];break;case"select":s=xe({},s,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":s=Mu(e,s),r=Mu(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ya)}Lu(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uo.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&fe("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};My=function(e,t,n,r){n!==r&&(t.flags|=4)};function lo(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Q_(e,t,n){var r=t.pendingProps;switch(gf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return lt(t.type)&&Ha(),Ye(t),null;case 3:return r=t.stateNode,Ns(),pe(at),pe(Ge),Df(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(yd(Ut),Ut=null))),ud(e,t),Ye(t),null;case 5:kf(t);var s=Cr(Zo.current);if(n=t.type,e!==null&&t.stateNode!=null)Iy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Ye(t),null}if(e=Cr(an.current),zi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[tn]=t,r[Jo]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<ko.length;s++)fe(ko[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Hp(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":Vp(r,o),fe("invalid",r)}Lu(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Hi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Hi(r.textContent,a,e),s=["children",""+a]):Uo.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ai(r),zp(r,o,!0);break;case"textarea":Ai(r),Gp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ya)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[tn]=t,e[Jo]=r,jy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fu(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<ko.length;s++)fe(ko[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Hp(e,r),s=Ru(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=xe({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Vp(e,r),s=Mu(e,r),fe("invalid",e);break;default:s=r}Lu(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?fv(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uv(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wo(e,l):typeof l=="number"&&Wo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&fe("scroll",e):l!=null&&ef(e,o,l,i))}switch(n){case"input":Ai(e),zp(e,r,!1);break;case"textarea":Ai(e),Gp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+or(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?gs(e,!!r.multiple,o,!1):r.defaultValue!=null&&gs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)My(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Cr(Zo.current),Cr(an.current),zi(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(o=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Hi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hi(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return Ye(t),null;case 13:if(pe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&dt!==null&&t.mode&1&&!(t.flags&128))Zv(),Cs(),t.flags|=98560,o=!1;else if(o=zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[tn]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else Ut!==null&&(yd(Ut),Ut=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Te===0&&(Te=3):Lf())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Ns(),ud(e,t),e===null&&Ko(t.stateNode.containerInfo),Ye(t),null;case 10:return xf(t.type._context),Ye(t),null;case 17:return lt(t.type)&&Ha(),Ye(t),null;case 19:if(pe(ve),o=t.memoizedState,o===null)return Ye(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)lo(o,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ja(e),i!==null){for(t.flags|=128,lo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ve,ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>Ts&&(t.flags|=128,r=!0,lo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ja(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!he)return Ye(t),null}else 2*Se()-o.renderingStartTime>Ts&&n!==1073741824&&(t.flags|=128,r=!0,lo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=ve.current,de(ve,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Af(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function J_(e,t){switch(gf(t),t.tag){case 1:return lt(t.type)&&Ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),pe(at),pe(Ge),Df(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kf(t),null;case 13:if(pe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ve),null;case 4:return Ns(),null;case 10:return xf(t.type._context),null;case 22:case 23:return Af(),null;case 24:return null;default:return null}}var qi=!1,ze=!1,X_=typeof WeakSet=="function"?WeakSet:Set,W=null;function hs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function dd(e,t,n){try{n()}catch(r){be(e,t,r)}}var Ah=!1;function Z_(e,t){if(qu=Ba,e=Bv(),hf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=i+s),d!==o||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===s&&(a=i),f===o&&++u===r&&(l=i),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},Ba=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ft(t.type,w),x);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){be(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return g=Ah,Ah=!1,g}function Io(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&dd(t,n,o)}s=s.next}while(s!==r)}}function $l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ay(e){var t=e.alternate;t!==null&&(e.alternate=null,Ay(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Jo],delete t[Xu],delete t[M_],delete t[A_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ly(e){return e.tag===5||e.tag===3||e.tag===4}function Lh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ya));else if(r!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}function hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}var Le=null,$t=!1;function Mn(e,t,n){for(n=n.child;n!==null;)Fy(e,t,n),n=n.sibling}function Fy(e,t,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:ze||hs(n,t);case 6:var r=Le,s=$t;Le=null,Mn(e,t,n),Le=r,$t=s,Le!==null&&($t?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&($t?(e=Le,n=n.stateNode,e.nodeType===8?Ic(e.parentNode,n):e.nodeType===1&&Ic(e,n),Vo(e)):Ic(Le,n.stateNode));break;case 4:r=Le,s=$t,Le=n.stateNode.containerInfo,$t=!0,Mn(e,t,n),Le=r,$t=s;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&dd(n,t,i),s=s.next}while(s!==r)}Mn(e,t,n);break;case 1:if(!ze&&(hs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,t,a)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,Mn(e,t,n),ze=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function Fh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new X_),t.forEach(function(r){var s=lS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,$t=!1;break e;case 3:Le=a.stateNode.containerInfo,$t=!0;break e;case 4:Le=a.stateNode.containerInfo,$t=!0;break e}a=a.return}if(Le===null)throw Error(R(160));Fy(o,i,s),Le=null,$t=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){be(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$y(t,e),t=t.sibling}function $y(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Jt(e),r&4){try{Io(3,e,e.return),$l(3,e)}catch(w){be(e,e.return,w)}try{Io(5,e,e.return)}catch(w){be(e,e.return,w)}}break;case 1:At(t,e),Jt(e),r&512&&n!==null&&hs(n,n.return);break;case 5:if(At(t,e),Jt(e),r&512&&n!==null&&hs(n,n.return),e.flags&32){var s=e.stateNode;try{Wo(s,"")}catch(w){be(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&av(s,o),Fu(a,i);var c=Fu(a,o);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?fv(s,d):u==="dangerouslySetInnerHTML"?uv(s,d):u==="children"?Wo(s,d):ef(s,u,d,c)}switch(a){case"input":ju(s,o);break;case"textarea":lv(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?gs(s,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?gs(s,!!o.multiple,o.defaultValue,!0):gs(s,!!o.multiple,o.multiple?[]:"",!1))}s[Jo]=o}catch(w){be(e,e.return,w)}}break;case 6:if(At(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){be(e,e.return,w)}}break;case 3:if(At(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(w){be(e,e.return,w)}break;case 4:At(t,e),Jt(e);break;case 13:At(t,e),Jt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(If=Se())),r&4&&Fh(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(c=ze)||u,At(t,e),ze=c):At(t,e),Jt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(d=W=u;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:Io(4,f,f.return);break;case 1:hs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){be(r,n,w)}}break;case 5:hs(f,f.return);break;case 22:if(f.memoizedState!==null){Bh(d);continue}}h!==null?(h.return=f,W=h):Bh(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dv("display",i))}catch(w){be(e,e.return,w)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){be(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:At(t,e),Jt(e),r&4&&Fh(e);break;case 21:break;default:At(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ly(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wo(s,""),r.flags&=-33);var o=Lh(e);hd(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Lh(e);pd(e,a,i);break;default:throw Error(R(161))}}catch(l){be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eS(e,t,n){W=e,By(e)}function By(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||qi;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ze;a=qi;var c=ze;if(qi=i,(ze=l)&&!c)for(W=s;W!==null;)i=W,l=i.child,i.tag===22&&i.memoizedState!==null?Uh(s):l!==null?(l.return=i,W=l):Uh(s);for(;o!==null;)W=o,By(o),o=o.sibling;W=s,qi=a,ze=c}$h(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,W=o):$h(e)}}function $h(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||$l(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ze)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Sh(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sh(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ze||t.flags&512&&fd(t)}catch(f){be(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Bh(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Uh(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$l(4,t)}catch(l){be(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){be(t,s,l)}}var o=t.return;try{fd(t)}catch(l){be(t,o,l)}break;case 5:var i=t.return;try{fd(t)}catch(l){be(t,i,l)}}}catch(l){be(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var tS=Math.ceil,el=Rn.ReactCurrentDispatcher,Rf=Rn.ReactCurrentOwner,Pt=Rn.ReactCurrentBatchConfig,re=0,je=null,Ce=null,Be=0,ut=0,ms=dr(0),Te=0,ri=null,Lr=0,Bl=0,jf=0,Mo=null,st=null,If=0,Ts=1/0,pn=null,tl=!1,md=null,Xn=null,Ki=!1,zn=null,nl=0,Ao=0,gd=null,_a=-1,Sa=0;function Ze(){return re&6?Se():_a!==-1?_a:_a=Se()}function Zn(e){return e.mode&1?re&2&&Be!==0?Be&-Be:F_.transition!==null?(Sa===0&&(Sa=kv()),Sa):(e=le,e!==0||(e=window.event,e=e===void 0?16:Ov(e.type)),e):1}function Ht(e,t,n,r){if(50<Ao)throw Ao=0,gd=null,Error(R(185));vi(e,n,r),(!(re&2)||e!==je)&&(e===je&&(!(re&2)&&(Bl|=n),Te===4&&Wn(e,Be)),ct(e,r),n===1&&re===0&&!(t.mode&1)&&(Ts=Se()+500,Al&&fr()))}function ct(e,t){var n=e.callbackNode;Fb(e,t);var r=$a(e,e===je?Be:0);if(r===0)n!==null&&Qp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qp(n),t===1)e.tag===0?L_(Wh.bind(null,e)):Qv(Wh.bind(null,e)),j_(function(){!(re&6)&&fr()}),n=null;else{switch(Dv(r)){case 1:n=of;break;case 4:n=_v;break;case 16:n=Fa;break;case 536870912:n=Sv;break;default:n=Fa}n=qy(n,Uy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uy(e,t){if(_a=-1,Sa=0,re&6)throw Error(R(327));var n=e.callbackNode;if(bs()&&e.callbackNode!==n)return null;var r=$a(e,e===je?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rl(e,r);else{t=r;var s=re;re|=2;var o=Yy();(je!==e||Be!==t)&&(pn=null,Ts=Se()+500,Pr(e,t));do try{sS();break}catch(a){Wy(e,a)}while(1);wf(),el.current=o,re=s,Ce!==null?t=0:(je=null,Be=0,t=Te)}if(t!==0){if(t===2&&(s=Yu(e),s!==0&&(r=s,t=vd(e,s))),t===1)throw n=ri,Pr(e,0),Wn(e,r),ct(e,Se()),n;if(t===6)Wn(e,r);else{if(s=e.current.alternate,!(r&30)&&!nS(s)&&(t=rl(e,r),t===2&&(o=Yu(e),o!==0&&(r=o,t=vd(e,o))),t===1))throw n=ri,Pr(e,0),Wn(e,r),ct(e,Se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:wr(e,st,pn);break;case 3:if(Wn(e,r),(r&130023424)===r&&(t=If+500-Se(),10<t)){if($a(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ju(wr.bind(null,e,st,pn),t);break}wr(e,st,pn);break;case 4:if(Wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Yt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tS(r/1960))-r,10<r){e.timeoutHandle=Ju(wr.bind(null,e,st,pn),r);break}wr(e,st,pn);break;case 5:wr(e,st,pn);break;default:throw Error(R(329))}}}return ct(e,Se()),e.callbackNode===n?Uy.bind(null,e):null}function vd(e,t){var n=Mo;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=rl(e,t),e!==2&&(t=st,st=n,t!==null&&yd(t)),e}function yd(e){st===null?st=e:st.push.apply(st,e)}function nS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Vt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~jf,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yt(t),r=1<<n;e[n]=-1,t&=~r}}function Wh(e){if(re&6)throw Error(R(327));bs();var t=$a(e,0);if(!(t&1))return ct(e,Se()),null;var n=rl(e,t);if(e.tag!==0&&n===2){var r=Yu(e);r!==0&&(t=r,n=vd(e,r))}if(n===1)throw n=ri,Pr(e,0),Wn(e,t),ct(e,Se()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wr(e,st,pn),ct(e,Se()),null}function Mf(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Ts=Se()+500,Al&&fr())}}function Fr(e){zn!==null&&zn.tag===0&&!(re&6)&&bs();var t=re;re|=1;var n=Pt.transition,r=le;try{if(Pt.transition=null,le=1,e)return e()}finally{le=r,Pt.transition=n,re=t,!(re&6)&&fr()}}function Af(){ut=ms.current,pe(ms)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,R_(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(gf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ha();break;case 3:Ns(),pe(at),pe(Ge),Df();break;case 5:kf(r);break;case 4:Ns();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:xf(r.type._context);break;case 22:case 23:Af()}n=n.return}if(je=e,Ce=e=er(e.current,null),Be=ut=t,Te=0,ri=null,jf=Bl=Lr=0,st=Mo=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Dr=null}return e}function Wy(e,t){do{var n=Ce;try{if(wf(),wa.current=Za,Xa){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xa=!1}if(Ar=0,Re=Pe=we=null,jo=!1,ei=0,Rf.current=null,n===null||n.return===null){Te=1,ri=t,Ce=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Ph(i);if(h!==null){h.flags&=-257,Th(h,i,a,o,t),h.mode&1&&Nh(o,c,t),t=h,l=c;var g=t.updateQueue;if(g===null){var w=new Set;w.add(l),t.updateQueue=w}else g.add(l);break e}else{if(!(t&1)){Nh(o,c,t),Lf();break e}l=Error(R(426))}}else if(he&&a.mode&1){var x=Ph(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Th(x,i,a,o,t),vf(Ps(l,a));break e}}o=l=Ps(l,a),Te!==4&&(Te=2),Mo===null?Mo=[o]:Mo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Dy(o,l,t);_h(o,v);break e;case 1:a=l;var m=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xn===null||!Xn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Cy(o,a,t);_h(o,_);break e}}o=o.return}while(o!==null)}zy(n)}catch(S){t=S,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function Yy(){var e=el.current;return el.current=Za,e===null?Za:e}function Lf(){(Te===0||Te===3||Te===2)&&(Te=4),je===null||!(Lr&268435455)&&!(Bl&268435455)||Wn(je,Be)}function rl(e,t){var n=re;re|=2;var r=Yy();(je!==e||Be!==t)&&(pn=null,Pr(e,t));do try{rS();break}catch(s){Wy(e,s)}while(1);if(wf(),re=n,el.current=r,Ce!==null)throw Error(R(261));return je=null,Be=0,Te}function rS(){for(;Ce!==null;)Hy(Ce)}function sS(){for(;Ce!==null&&!Pb();)Hy(Ce)}function Hy(e){var t=Gy(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?zy(e):Ce=t,Rf.current=null}function zy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=J_(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ce=null;return}}else if(n=Q_(n,t,ut),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Te===0&&(Te=5)}function wr(e,t,n){var r=le,s=Pt.transition;try{Pt.transition=null,le=1,oS(e,t,n,r)}finally{Pt.transition=s,le=r}return null}function oS(e,t,n,r){do bs();while(zn!==null);if(re&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if($b(e,o),e===je&&(Ce=je=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ki||(Ki=!0,qy(Fa,function(){return bs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Pt.transition,Pt.transition=null;var i=le;le=1;var a=re;re|=4,Rf.current=null,Z_(e,n),$y(n,e),D_(Ku),Ba=!!qu,Ku=qu=null,e.current=n,eS(n),Tb(),re=a,le=i,Pt.transition=o}else e.current=n;if(Ki&&(Ki=!1,zn=e,nl=s),o=e.pendingLanes,o===0&&(Xn=null),jb(n.stateNode),ct(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tl)throw tl=!1,e=md,md=null,e;return nl&1&&e.tag!==0&&bs(),o=e.pendingLanes,o&1?e===gd?Ao++:(Ao=0,gd=e):Ao=0,fr(),null}function bs(){if(zn!==null){var e=Dv(nl),t=Pt.transition,n=le;try{if(Pt.transition=null,le=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,nl=0,re&6)throw Error(R(331));var s=re;for(re|=4,W=e.current;W!==null;){var o=W,i=o.child;if(W.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Io(8,u,o)}var d=u.child;if(d!==null)d.return=u,W=d;else for(;W!==null;){u=W;var f=u.sibling,h=u.return;if(Ay(u),u===c){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var g=o.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}W=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,W=i;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Io(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,W=v;break e}W=o.return}}var m=e.current;for(W=m;W!==null;){i=W;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,W=y;else e:for(i=m;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$l(9,a)}}catch(S){be(a,a.return,S)}if(a===i){W=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,W=_;break e}W=a.return}}if(re=s,fr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ol,e)}catch{}r=!0}return r}finally{le=n,Pt.transition=t}}return!1}function Yh(e,t,n){t=Ps(n,t),t=Dy(e,t,1),e=Jn(e,t,1),t=Ze(),e!==null&&(vi(e,1,t),ct(e,t))}function be(e,t,n){if(e.tag===3)Yh(e,e,n);else for(;t!==null;){if(t.tag===3){Yh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=Ps(n,e),e=Cy(t,e,1),t=Jn(t,e,1),e=Ze(),t!==null&&(vi(t,1,e),ct(t,e));break}}t=t.return}}function iS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Be&n)===n&&(Te===4||Te===3&&(Be&130023424)===Be&&500>Se()-If?Pr(e,0):jf|=n),ct(e,t)}function Vy(e,t){t===0&&(e.mode&1?(t=$i,$i<<=1,!($i&130023424)&&($i=4194304)):t=1);var n=Ze();e=Nn(e,t),e!==null&&(vi(e,t,n),ct(e,n))}function aS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vy(e,n)}function lS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Vy(e,n)}var Gy;Gy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,K_(e,t,n);it=!!(e.flags&131072)}else it=!1,he&&t.flags&1048576&&Jv(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ba(e,t),e=t.pendingProps;var s=Ds(t,Ge.current);xs(t,n),s=Ef(null,t,r,e,s,n);var o=Nf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(o=!0,za(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_f(t),s.updater=Fl,t.stateNode=s,s._reactInternals=t,sd(t,r,e,n),t=ad(null,t,r,!0,o,n)):(t.tag=0,he&&o&&mf(t),Qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ba(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=uS(r),e=Ft(r,e),s){case 0:t=id(null,t,r,e,n);break e;case 1:t=jh(null,t,r,e,n);break e;case 11:t=Oh(null,t,r,e,n);break e;case 14:t=Rh(null,t,r,Ft(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),id(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),jh(e,t,r,s,n);case 3:e:{if(Ty(t),e===null)throw Error(R(387));r=t.pendingProps,o=t.memoizedState,s=o.element,ry(e,t),Qa(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ps(Error(R(423)),t),t=Ih(e,t,r,n,s);break e}else if(r!==s){s=Ps(Error(R(424)),t),t=Ih(e,t,r,n,s);break e}else for(dt=Qn(t.stateNode.containerInfo.firstChild),pt=t,he=!0,Ut=null,n=ty(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===s){t=Pn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return sy(t),e===null&&td(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Qu(r,s)?i=null:o!==null&&Qu(r,o)&&(t.flags|=32),Py(e,t),Qe(e,t,i,n),t.child;case 6:return e===null&&td(t),null;case 13:return Oy(e,t,n);case 4:return Sf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Es(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Oh(e,t,r,s,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,de(qa,r._currentValue),r._currentValue=i,o!==null)if(Vt(o.value,i)){if(o.children===s.children&&!at.current){t=Pn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nd(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(R(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),nd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,xs(t,n),s=Rt(s),r=r(s),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,s=Ft(r,t.pendingProps),s=Ft(r.type,s),Rh(e,t,r,s,n);case 15:return Ey(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),ba(e,t),t.tag=1,lt(r)?(e=!0,za(t)):e=!1,xs(t,n),ky(t,r,s),sd(t,r,s,n),ad(null,t,r,!0,e,n);case 19:return Ry(e,t,n);case 22:return Ny(e,t,n)}throw Error(R(156,t.tag))};function qy(e,t){return bv(e,t)}function cS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,r){return new cS(e,t,n,r)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uS(e){if(typeof e=="function")return Ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nf)return 11;if(e===rf)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ka(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ff(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case os:return Tr(n.children,s,o,t);case tf:i=8,s|=8;break;case Nu:return e=Et(12,n,t,s|2),e.elementType=Nu,e.lanes=o,e;case Pu:return e=Et(13,n,t,s),e.elementType=Pu,e.lanes=o,e;case Tu:return e=Et(19,n,t,s),e.elementType=Tu,e.lanes=o,e;case sv:return Ul(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nv:i=10;break e;case rv:i=9;break e;case nf:i=11;break e;case rf:i=14;break e;case $n:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Et(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Tr(e,t,n,r){return e=Et(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=Et(22,e,r,t),e.elementType=sv,e.lanes=n,e.stateNode={isHidden:!1},e}function Wc(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function Yc(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sc(0),this.expirationTimes=Sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $f(e,t,n,r,s,o,i,a,l){return e=new dS(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Et(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_f(o),e}function fS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ky(e){if(!e)return ir;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(lt(n))return Kv(e,n,t)}return t}function Qy(e,t,n,r,s,o,i,a,l){return e=$f(n,r,!0,e,s,o,i,a,l),e.context=Ky(null),n=e.current,r=Ze(),s=Zn(n),o=wn(r,s),o.callback=t??null,Jn(n,o,s),e.current.lanes=s,vi(e,s,r),ct(e,r),e}function Wl(e,t,n,r){var s=t.current,o=Ze(),i=Zn(s);return n=Ky(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jn(s,t,i),e!==null&&(Ht(e,s,i,o),ya(e,s,i)),i}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bf(e,t){Hh(e,t),(e=e.alternate)&&Hh(e,t)}function pS(){return null}var Jy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uf(e){this._internalRoot=e}Yl.prototype.render=Uf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Wl(e,t,null,null)};Yl.prototype.unmount=Uf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){Wl(null,e,null,null)}),t[En]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&t!==0&&t<Un[n].priority;n++);Un.splice(n,0,e),n===0&&Tv(e)}};function Wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function hS(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=sl(i);o.call(c)}}var i=Qy(t,r,e,0,null,!1,!1,"",zh);return e._reactRootContainer=i,e[En]=i.current,Ko(e.nodeType===8?e.parentNode:e),Fr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=sl(l);a.call(c)}}var l=$f(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=l,e[En]=l.current,Ko(e.nodeType===8?e.parentNode:e),Fr(function(){Wl(t,l,n,r)}),l}function zl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=sl(i);a.call(l)}}Wl(t,i,e,s)}else i=hS(n,t,e,s,r);return sl(i)}Cv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=So(t.pendingLanes);n!==0&&(af(t,n|1),ct(t,Se()),!(re&6)&&(Ts=Se()+500,fr()))}break;case 13:Fr(function(){var r=Nn(e,1);if(r!==null){var s=Ze();Ht(r,e,1,s)}}),Bf(e,1)}};lf=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=Ze();Ht(t,e,134217728,n)}Bf(e,134217728)}};Ev=function(e){if(e.tag===13){var t=Zn(e),n=Nn(e,t);if(n!==null){var r=Ze();Ht(n,e,t,r)}Bf(e,t)}};Nv=function(){return le};Pv=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Bu=function(e,t,n){switch(t){case"input":if(ju(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ml(r);if(!s)throw Error(R(90));iv(r),ju(r,s)}}}break;case"textarea":lv(e,n);break;case"select":t=n.value,t!=null&&gs(e,!!n.multiple,t,!1)}};mv=Mf;gv=Fr;var mS={usingClientEntryPoint:!1,Events:[wi,cs,Ml,pv,hv,Mf]},co={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gS={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wv(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{Ol=Qi.inject(gS),on=Qi}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mS;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(t))throw Error(R(200));return fS(e,t,null,n)};yt.createRoot=function(e,t){if(!Wf(e))throw Error(R(299));var n=!1,r="",s=Jy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$f(e,1,!1,null,null,n,!1,r,s),e[En]=t.current,Ko(e.nodeType===8?e.parentNode:e),new Uf(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=wv(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Fr(e)};yt.hydrate=function(e,t,n){if(!Hl(t))throw Error(R(200));return zl(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Wf(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Jy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Qy(t,null,e,1,n??null,s,!1,o,i),e[En]=t.current,Ko(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yl(t)};yt.render=function(e,t,n){if(!Hl(t))throw Error(R(200));return zl(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(R(40));return e._reactRootContainer?(Fr(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};yt.unstable_batchedUpdates=Mf;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return zl(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(e){console.error(e)}}Xy(),Xg.exports=yt;var bi=Xg.exports;const Zy=$g(bi);var Vh=bi;Cu.createRoot=Vh.createRoot,Cu.hydrateRoot=Vh.hydrateRoot;const vS="modulepreload",yS=function(e){return"/"+e},Gh={},zs=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=yS(o),o in Gh)return;Gh[o]=!0;const i=o.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===o&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":vS,i||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),i)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};var qh="popstate";function wS(e={}){function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return wd("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:si(s)}return bS(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xS(){return Math.random().toString(36).substring(2,10)}function Kh(e,t){return{usr:e.state,key:e.key,idx:t}}function wd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vs(t):t,state:n,key:t&&t.key||r||xS()}}function si({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function bS(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a="POP",l=null,c=u();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function u(){return(i.state||{idx:null}).idx}function d(){a="POP";let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:w.location,delta:v})}function f(x,v){a="PUSH";let m=wd(w.location,x,v);n&&n(m,x),c=u()+1;let y=Kh(m,c),_=w.createHref(m);try{i.pushState(y,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&l&&l({action:a,location:w.location,delta:1})}function h(x,v){a="REPLACE";let m=wd(w.location,x,v);n&&n(m,x),c=u();let y=Kh(m,c),_=w.createHref(m);i.replaceState(y,"",_),o&&l&&l({action:a,location:w.location,delta:0})}function g(x){return _S(x)}let w={get action(){return a},get location(){return e(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(qh,d),l=x,()=>{s.removeEventListener(qh,d),l=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(x){return i.go(x)}};return w}function _S(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ge(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:si(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function e0(e,t,n="/"){return SS(e,t,n,!1)}function SS(e,t,n,r){let s=typeof t=="string"?Vs(t):t,o=Tn(s.pathname||"/",n);if(o==null)return null;let i=t0(e);kS(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=MS(o);a=jS(i[l],c,r)}return a}function t0(e,t=[],n=[],r=""){let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=xn([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(ge(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),t0(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:OS(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of n0(o.path))s(o,i,l)}),t}function n0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=n0(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function kS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:RS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DS=/^:[\w-]+$/,CS=3,ES=2,NS=1,PS=10,TS=-2,Qh=e=>e==="*";function OS(e,t){let n=e.split("/"),r=n.length;return n.some(Qh)&&(r+=TS),t&&(r+=ES),n.filter(s=>!Qh(s)).reduce((s,o)=>s+(DS.test(o)?CS:o===""?NS:PS),r)}function RS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function jS(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=ol({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=ol({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:xn([o,d.pathname]),pathnameBase:$S(xn([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=xn([o,d.pathnameBase]))}return i}function ol(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=IS(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function IS(e,t=!1,n=!0){Gt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function MS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Tn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function AS(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Vs(e):e;return{pathname:n?n.startsWith("/")?n:LS(n,t):t,search:BS(r),hash:US(s)}}function LS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hc(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yf(e){let t=FS(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Hf(e,t,n,r=!1){let s;typeof e=="string"?s=Vs(e):(s={...e},ge(!s.pathname||!s.pathname.includes("?"),Hc("?","pathname","search",s)),ge(!s.pathname||!s.pathname.includes("#"),Hc("#","pathname","hash",s)),ge(!s.search||!s.search.includes("#"),Hc("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=AS(s,a),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var xn=e=>e.join("/").replace(/\/\/+/g,"/"),$S=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,US=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var r0=["POST","PUT","PATCH","DELETE"];new Set(r0);var YS=["GET",...r0];new Set(YS);var Gs=b.createContext(null);Gs.displayName="DataRouter";var Vl=b.createContext(null);Vl.displayName="DataRouterState";b.createContext(!1);var s0=b.createContext({isTransitioning:!1});s0.displayName="ViewTransition";var HS=b.createContext(new Map);HS.displayName="Fetchers";var zS=b.createContext(null);zS.displayName="Await";var Kt=b.createContext(null);Kt.displayName="Navigation";var _i=b.createContext(null);_i.displayName="Location";var Qt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Qt.displayName="Route";var zf=b.createContext(null);zf.displayName="RouteError";function VS(e,{relative:t}={}){ge(qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Kt),{hash:s,pathname:o,search:i}=Si(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:xn([n,o])),r.createHref({pathname:a,search:i,hash:s})}function qs(){return b.useContext(_i)!=null}function jn(){return ge(qs(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(_i).location}var o0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i0(e){b.useContext(Kt).static||b.useLayoutEffect(e)}function a0(){let{isDataRoute:e}=b.useContext(Qt);return e?ik():GS()}function GS(){ge(qs(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Gs),{basename:t,navigator:n}=b.useContext(Kt),{matches:r}=b.useContext(Qt),{pathname:s}=jn(),o=JSON.stringify(Yf(r)),i=b.useRef(!1);return i0(()=>{i.current=!0}),b.useCallback((l,c={})=>{if(Gt(i.current,o0),!i.current)return;if(typeof l=="number"){n.go(l);return}let u=Hf(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:xn([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,o,s,e])}b.createContext(null);function qS(){let{matches:e}=b.useContext(Qt),t=e[e.length-1];return t?t.params:{}}function Si(e,{relative:t}={}){let{matches:n}=b.useContext(Qt),{pathname:r}=jn(),s=JSON.stringify(Yf(n));return b.useMemo(()=>Hf(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function KS(e,t){return l0(e,t)}function l0(e,t,n,r){var v;ge(qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Kt),{matches:o}=b.useContext(Qt),i=o[o.length-1],a=i?i.params:{},l=i?i.pathname:"/",c=i?i.pathnameBase:"/",u=i&&i.route;{let m=u&&u.path||"";c0(l,!u||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let d=jn(),f;if(t){let m=typeof t=="string"?Vs(t):t;ge(c==="/"||((v=m.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${m.pathname}" was given in the \`location\` prop.`),f=m}else f=d;let h=f.pathname||"/",g=h;if(c!=="/"){let m=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=e0(e,{pathname:g});Gt(u||w!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Gt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=ek(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:xn([c,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:xn([c,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r);return t&&x?b.createElement(_i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},x):x}function QS(){let e=ok(),t=WS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,i)}var JS=b.createElement(QS,null),XS=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Qt.Provider,{value:this.props.routeContext},b.createElement(zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZS({routeContext:e,match:t,children:n}){let r=b.useContext(Gs);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Qt.Provider,{value:e},n)}function ek(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);ge(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let i=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){i=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,c,u)=>{let d,f=!1,h=null,g=null;n&&(d=o&&c.route.id?o[c.route.id]:void 0,h=c.route.errorElement||JS,i&&(a<0&&u===0?(c0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,g=null):a===u&&(f=!0,g=c.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,u+1)),x=()=>{let v;return d?v=h:f?v=g:c.route.Component?v=b.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,b.createElement(ZS,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?b.createElement(XS,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function Vf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tk(e){let t=b.useContext(Gs);return ge(t,Vf(e)),t}function nk(e){let t=b.useContext(Vl);return ge(t,Vf(e)),t}function rk(e){let t=b.useContext(Qt);return ge(t,Vf(e)),t}function Gf(e){let t=rk(e),n=t.matches[t.matches.length-1];return ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sk(){return Gf("useRouteId")}function ok(){var r;let e=b.useContext(zf),t=nk("useRouteError"),n=Gf("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function ik(){let{router:e}=tk("useNavigate"),t=Gf("useNavigate"),n=b.useRef(!1);return i0(()=>{n.current=!0}),b.useCallback(async(s,o={})=>{Gt(n.current,o0),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var Jh={};function c0(e,t,n){!t&&!Jh[e]&&(Jh[e]=!0,Gt(!1,n))}b.memo(ak);function ak({routes:e,future:t,state:n}){return l0(e,void 0,n,t)}function lk({to:e,replace:t,state:n,relative:r}){ge(qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Kt);Gt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(Qt),{pathname:i}=jn(),a=a0(),l=Hf(e,Yf(o),i,r==="path"),c=JSON.stringify(l);return b.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function Da(e){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ck({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){ge(!qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:i,navigator:s,static:o,future:{}}),[i,s,o]);typeof n=="string"&&(n=Vs(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=n,h=b.useMemo(()=>{let g=Tn(l,i);return g==null?null:{location:{pathname:g,search:c,hash:u,state:d,key:f},navigationType:r}},[i,l,c,u,d,f,r]);return Gt(h!=null,`<Router basename="${i}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:b.createElement(Kt.Provider,{value:a},b.createElement(_i.Provider,{children:t,value:h}))}function uk({children:e,location:t}){return KS(xd(e),t)}function xd(e,t=[]){let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let o=[...t,s];if(r.type===b.Fragment){n.push.apply(n,xd(r.props.children,o));return}ge(r.type===Da,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=xd(r.props.children,o)),n.push(i)}),n}var Ca="get",Ea="application/x-www-form-urlencoded";function Gl(e){return e!=null&&typeof e.tagName=="string"}function dk(e){return Gl(e)&&e.tagName.toLowerCase()==="button"}function fk(e){return Gl(e)&&e.tagName.toLowerCase()==="form"}function pk(e){return Gl(e)&&e.tagName.toLowerCase()==="input"}function hk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mk(e,t){return e.button===0&&(!t||t==="_self")&&!hk(e)}var Ji=null;function gk(){if(Ji===null)try{new FormData(document.createElement("form"),0),Ji=!1}catch{Ji=!0}return Ji}var vk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zc(e){return e!=null&&!vk.has(e)?(Gt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ea}"`),null):e}function yk(e,t){let n,r,s,o,i;if(fk(e)){let a=e.getAttribute("action");r=a?Tn(a,t):null,n=e.getAttribute("method")||Ca,s=zc(e.getAttribute("enctype"))||Ea,o=new FormData(e)}else if(dk(e)||pk(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Tn(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ca,s=zc(e.getAttribute("formenctype"))||zc(a.getAttribute("enctype"))||Ea,o=new FormData(a,e),!gk()){let{name:c,type:u,value:d}=e;if(u==="image"){let f=c?`${c}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else c&&o.append(c,d)}}else{if(Gl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ca,r=null,s=Ea,i=e}return o&&s==="text/plain"&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wk(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Tn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function xk(e,t){if(e.id in t)return t[e.id];try{let n=await zs(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bk(e){return e!=null&&typeof e.page=="string"}function _k(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Sk(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let i=await xk(o,n);return i.links?i.links():[]}return[]}));return Ek(r.flat(1).filter(_k).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Xh(e,t,n,r,s,o){let i=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,c)=>i(l,c)||a(l,c)):o==="data"?t.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(i(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function kk(e,t,{includeHydrateFallback:n}={}){return Dk(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Dk(e){return[...new Set(e)]}function Ck(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Ek(e,t){let n=new Set,r=new Set(t);return e.reduce((s,o)=>{if(t&&!bk(o)&&o.as==="script"&&o.href&&r.has(o.href))return s;let a=JSON.stringify(Ck(o));return n.has(a)||(n.add(a),s.push({key:a,link:o})),s},[])}function u0(){let e=b.useContext(Gs);return qf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Nk(){let e=b.useContext(Vl);return qf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Kf=b.createContext(void 0);Kf.displayName="FrameworkContext";function d0(){let e=b.useContext(Kf);return qf(e,"You must render this element inside a <HydratedRouter> element"),e}function Pk(e,t){let n=b.useContext(Kf),[r,s]=b.useState(!1),[o,i]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,f=b.useRef(null);b.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let w=v=>{v.forEach(m=>{i(m.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[e]),b.useEffect(()=>{if(r){let w=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(w)}}},[r]);let h=()=>{s(!0)},g=()=>{s(!1),i(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:uo(a,h),onBlur:uo(l,g),onMouseEnter:uo(c,h),onMouseLeave:uo(u,g),onTouchStart:uo(d,h)}]:[!1,f,{}]}function uo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Tk({page:e,...t}){let{router:n}=u0(),r=b.useMemo(()=>e0(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(Rk,{page:e,matches:r,...t}):null}function Ok(e){let{manifest:t,routeModules:n}=d0(),[r,s]=b.useState([]);return b.useEffect(()=>{let o=!1;return Sk(e,t,n).then(i=>{o||s(i)}),()=>{o=!0}},[e,t,n]),r}function Rk({page:e,matches:t,...n}){let r=jn(),{manifest:s,routeModules:o}=d0(),{basename:i}=u0(),{loaderData:a,matches:l}=Nk(),c=b.useMemo(()=>Xh(e,t,l,s,r,"data"),[e,t,l,s,r]),u=b.useMemo(()=>Xh(e,t,l,s,r,"assets"),[e,t,l,s,r]),d=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,w=!1;if(t.forEach(v=>{var y;let m=s.routes[v.route.id];!m||!m.hasLoader||(!c.some(_=>_.route.id===v.route.id)&&v.route.id in a&&((y=o[v.route.id])!=null&&y.shouldRevalidate)||m.hasClientLoader?w=!0:g.add(v.route.id))}),g.size===0)return[];let x=wk(e,i,"data");return w&&g.size>0&&x.searchParams.set("_routes",t.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[i,a,r,s,c,t,e,o]),f=b.useMemo(()=>kk(u,s),[u,s]),h=Ok(u);return b.createElement(b.Fragment,null,d.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),f.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),h.map(({key:g,link:w})=>b.createElement("link",{key:g,...w})))}function jk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f0&&(window.__reactRouterVersion="7.7.1")}catch{}function Ik({basename:e,children:t,window:n}){let r=b.useRef();r.current==null&&(r.current=wS({window:n,v5Compat:!0}));let s=r.current,[o,i]=b.useState({action:s.action,location:s.location}),a=b.useCallback(l=>{b.startTransition(()=>i(l))},[i]);return b.useLayoutEffect(()=>s.listen(a),[s,a]),b.createElement(ck,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var p0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},h){let{basename:g}=b.useContext(Kt),w=typeof c=="string"&&p0.test(c),x,v=!1;if(typeof c=="string"&&w&&(x=c,f0))try{let N=new URL(window.location.href),P=c.startsWith("//")?new URL(N.protocol+c):new URL(c),j=Tn(P.pathname,g);P.origin===N.origin&&j!=null?c=j+P.search+P.hash:v=!0}catch{Gt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=VS(c,{relative:s}),[y,_,S]=Pk(r,f),k=Fk(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function C(N){t&&t(N),N.defaultPrevented||k(N)}let E=b.createElement("a",{...f,...S,href:x||m,onClick:v||o?t:C,ref:jk(h,_),target:l,"data-discover":!w&&n==="render"?"true":void 0});return y&&!w?b.createElement(b.Fragment,null,E,b.createElement(Tk,{page:m})):E});oi.displayName="Link";var Mk=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:i,viewTransition:a,children:l,...c},u){let d=Si(i,{relative:c.relative}),f=jn(),h=b.useContext(Vl),{navigator:g,basename:w}=b.useContext(Kt),x=h!=null&&Yk(d)&&a===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,m=f.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(m=m.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase()),y&&w&&(y=Tn(y,w)||y);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=m===v||!s&&m.startsWith(v)&&m.charAt(_)==="/",k=y!=null&&(y===v||!s&&y.startsWith(v)&&y.charAt(v.length)==="/"),C={isActive:S,isPending:k,isTransitioning:x},E=S?t:void 0,N;typeof r=="function"?N=r(C):N=[r,S?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(C):o;return b.createElement(oi,{...c,"aria-current":E,className:N,ref:u,style:P,to:i,viewTransition:a},typeof l=="function"?l(C):l)});Mk.displayName="NavLink";var Ak=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:i=Ca,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},h)=>{let g=Uk(),w=Wk(a,{relative:c}),x=i.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&p0.test(a),m=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let _=y.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||i;g(_||y.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:s,state:o,relative:c,preventScrollReset:u,viewTransition:d})};return b.createElement("form",{ref:h,method:x,action:w,onSubmit:r?l:m,...f,"data-discover":!v&&e==="render"?"true":void 0})});Ak.displayName="Form";function Lk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h0(e){let t=b.useContext(Gs);return ge(t,Lk(e)),t}function Fk(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:i}={}){let a=a0(),l=jn(),c=Si(e,{relative:o});return b.useCallback(u=>{if(mk(u,t)){u.preventDefault();let d=n!==void 0?n:si(l)===si(c);a(e,{replace:d,state:r,preventScrollReset:s,relative:o,viewTransition:i})}},[l,a,c,n,r,t,e,s,o,i])}var $k=0,Bk=()=>`__${String(++$k)}__`;function Uk(){let{router:e}=h0("useSubmit"),{basename:t}=b.useContext(Kt),n=sk();return b.useCallback(async(r,s={})=>{let{action:o,method:i,encType:a,formData:l,body:c}=yk(r,t);if(s.navigate===!1){let u=s.fetcherKey||Bk();await e.fetch(u,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Wk(e,{relative:t}={}){let{basename:n}=b.useContext(Kt),r=b.useContext(Qt);ge(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Si(e||".",{relative:t})},i=jn();if(e==null){o.search=i.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:xn([n,o.pathname])),si(o)}function Yk(e,{relative:t}={}){let n=b.useContext(s0);ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=h0("useViewTransitionState"),s=Si(e,{relative:t});if(!n.isTransitioning)return!1;let o=Tn(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Tn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ol(s.pathname,i)!=null||ol(s.pathname,o)!=null}const Hk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zs(()=>Promise.resolve().then(()=>Ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Qf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class zk extends Qf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zh extends Qf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class em extends Qf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bd||(bd={}));var Vk=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Gk{constructor(t,{headers:n={},customFetch:r,region:s=bd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Hk(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Vk(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(w=>{throw new zk(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Zh(d);if(!d.ok)throw new em(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof em||s instanceof Zh?s.context:void 0}}})}}var ot={},Jf={},ql={},ki={},Kl={},Ql={},qk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Os=qk();const Kk=Os.fetch,m0=Os.fetch.bind(Os),g0=Os.Headers,Qk=Os.Request,Jk=Os.Response,Ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:g0,Request:Qk,Response:Jk,default:m0,fetch:Kk},Symbol.toStringTag,{value:"Module"})),Xk=zx(Ks);var Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});let Zk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Jl.default=Zk;var v0=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const eD=v0(Xk),tD=v0(Jl);let nD=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=eD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,u=null,d=null,f=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const w=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const w=await o.text();try{c=JSON.parse(w),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,h="OK")}catch{o.status===404&&w===""?(f=204,h="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,h="OK"),c&&this.shouldThrowOnError)throw new tD.default(c)}return{error:c,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Ql.default=nD;var rD=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kl,"__esModule",{value:!0});const sD=rD(Ql);let oD=class extends sD.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kl.default=oD;var iD=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});const aD=iD(Kl);let lD=class extends aD.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ki.default=lD;var cD=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ql,"__esModule",{value:!0});const fo=cD(ki);let uD=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new fo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new fo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new fo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ql.default=uD;var Xl={},Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.version=void 0;Zl.version="0.0.0-automated";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.DEFAULT_HEADERS=void 0;const dD=Zl;Xl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${dD.version}`};var y0=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jf,"__esModule",{value:!0});const fD=y0(ql),pD=y0(ki),hD=Xl;let mD=class w0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},hD.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new fD.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new w0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new pD.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Jf.default=mD;var Qs=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ot,"__esModule",{value:!0});ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const x0=Qs(Jf);ot.PostgrestClient=x0.default;const b0=Qs(ql);ot.PostgrestQueryBuilder=b0.default;const _0=Qs(ki);ot.PostgrestFilterBuilder=_0.default;const S0=Qs(Kl);ot.PostgrestTransformBuilder=S0.default;const k0=Qs(Ql);ot.PostgrestBuilder=k0.default;const D0=Qs(Jl);ot.PostgrestError=D0.default;var gD=ot.default={PostgrestClient:x0.default,PostgrestQueryBuilder:b0.default,PostgrestFilterBuilder:_0.default,PostgrestTransformBuilder:S0.default,PostgrestBuilder:k0.default,PostgrestError:D0.default};const{PostgrestClient:vD,PostgrestQueryBuilder:GA,PostgrestFilterBuilder:qA,PostgrestTransformBuilder:KA,PostgrestBuilder:QA,PostgrestError:JA}=gD;function yD(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const wD=yD(),xD="2.11.15",bD=`realtime-js/${xD}`,_D="1.0.0",C0=1e4,SD=1e3;var Lo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lo||(Lo={}));var He;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(He||(He={}));var Bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bt||(Bt={}));var _d;(function(e){e.websocket="websocket"})(_d||(_d={}));var Sr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sr||(Sr={}));class kD{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class E0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ue||(ue={}));const tm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=DD(i,e,t,s),o),{})},DD=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?N0(o,i):Sd(i)},N0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return PD(t,n)}switch(e){case ue.bool:return CD(t);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return ED(t);case ue.json:case ue.jsonb:return ND(t);case ue.timestamp:return TD(t);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Sd(t);default:return Sd(t)}},Sd=e=>e,CD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ED=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ND=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>N0(t,a))}return e},TD=e=>typeof e=="string"?e.replace(" ","T"):e,P0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Vc{constructor(t,n,r={},s=C0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nm||(nm={}));class Fo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fo.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Fo.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fo.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=o[c];if(d){const f=u.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),g=u.filter(x=>h.indexOf(x.presence_ref)<0),w=d.filter(x=>f.indexOf(x.presence_ref)<0);g.length>0&&(a[c]=g),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rm||(rm={}));var sm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sm||(sm={}));var hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class Xf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vc(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new E0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Fo(this),this.broadcastEndpointURL=P0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(u=>t==null?void 0:t(hn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(hn.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(hn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,g=[];for(let w=0;w<h;w++){const x=f[w],{filter:{event:v,schema:m,table:y,filter:_}}=x,S=u&&u[w];if(S&&S.event===v&&S.schema===m&&S.table===y&&S.filter===_)g.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=He.errored,t==null||t(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(hn.SUBSCRIBED);return}}).receive("error",u=>{this.state=He.errored,t==null||t(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Vc(this,Bt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Bt;if(r&&[a,l,c,u].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var g,w,x;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(w=h.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(h=>h.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var g,w,x,v,m,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const _=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:w,table:x,commit_timestamp:v,type:m,errors:y}=g;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:v,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(g))}h.callback(f,r)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Xf.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bt.close,{},t)}_onError(t){this._on(Bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tm(t.columns,t.old_record)),n}}const om=()=>{},OD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RD{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=C0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=om,this.ref=0,this.logger=om,this.conn=null,this.sendBuffer=[],this.serializer=new kD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>zs(()=>Promise.resolve().then(()=>Ks),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${_d.websocket}`,this.httpEndpoint=P0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=wD),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_D}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lo.connecting:return Sr.Connecting;case Lo.open:return Sr.Open;case Lo.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Xf(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bD};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Bt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(SD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([OD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Zf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jD extends Zf{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kd extends Zf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ID=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const T0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zs(()=>Promise.resolve().then(()=>Ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},MD=()=>ID(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zs(()=>Promise.resolve().then(()=>Ks),void 0)).Response:Response}),Dd=e=>{if(Array.isArray(e))return e.map(n=>Dd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Dd(r)}),t},AD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var zr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Gc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LD=(e,t,n)=>zr(void 0,void 0,void 0,function*(){const r=yield MD();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new jD(Gc(s),o,i))}).catch(s=>{t(new kd(Gc(s),s))}):t(new kd(Gc(e),e))}),FD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(AD(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Di(e,t,n,r,s,o){return zr(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,FD(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>LD(l,a,r))})})}function il(e,t,n,r){return zr(this,void 0,void 0,function*(){return Di(e,"GET",t,n,r)})}function mn(e,t,n,r,s){return zr(this,void 0,void 0,function*(){return Di(e,"POST",t,r,s,n)})}function Cd(e,t,n,r,s){return zr(this,void 0,void 0,function*(){return Di(e,"PUT",t,r,s,n)})}function $D(e,t,n,r){return zr(this,void 0,void 0,function*(){return Di(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function O0(e,t,n,r,s){return zr(this,void 0,void 0,function*(){return Di(e,"DELETE",t,r,s,n)})}var rt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const BD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},im={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UD{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=T0(s)}uploadOrUpdate(t,n,r,s){return rt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},im),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(t=="PUT"?Cd:mn)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}upload(t,n,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return rt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:im.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Cd(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return rt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield mn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Zf("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}update(t,n,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return rt(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return rt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield mn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return rt(this,void 0,void 0,function*(){try{const s=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}download(t,n){return rt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield il(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}info(t){return rt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield il(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dd(r),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}exists(t){return rt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield $D(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Oe(r)&&r instanceof kd){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return rt(this,void 0,void 0,function*(){try{return{data:yield O0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}list(t,n,r){return rt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},BD),n),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const WD="2.10.4",YD={"X-Client-Info":`storage-js/${WD}`};var qr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class HD{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},YD),n),this.fetch=T0(r)}listBuckets(){return qr(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}})}getBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qr(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return qr(this,void 0,void 0,function*(){try{return{data:yield Cd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qr(this,void 0,void 0,function*(){try{return{data:yield O0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}}class zD extends HD{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new UD(this.url,this.headers,t,this.fetch)}}const VD="2.53.0";let Do="";typeof Deno<"u"?Do="deno":typeof document<"u"?Do="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Do="react-native":Do="node";const GD={"X-Client-Info":`supabase-js-${Do}/${VD}`},qD={headers:GD},KD={schema:"public"},QD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JD={};var XD=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const ZD=e=>{let t;return e?t=e:typeof fetch>"u"?t=m0:t=fetch,(...n)=>t(...n)},e1=()=>typeof Headers>"u"?g0:Headers,t1=(e,t,n)=>{const r=ZD(n),s=e1();return(o,i)=>XD(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var n1=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function r1(e){return e.endsWith("/")?e:e+"/"}function s1(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>n1(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const R0="2.71.1",ts=30*1e3,Ed=3,qc=Ed*ts,o1="http://localhost:9999",i1="supabase.auth.token",a1={"X-Client-Info":`gotrue-js/${R0}`},Nd="X-Supabase-Api-Version",j0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c1=10*60*1e3;class ep extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class u1 extends ep{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function d1(e){return K(e)&&e.name==="AuthApiError"}class I0 extends ep{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class pr extends ep{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Fn extends pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f1(e){return K(e)&&e.name==="AuthSessionMissingError"}class Xi extends pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zi extends pr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ea extends pr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p1(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class am extends pr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pd extends pr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kc(e){return K(e)&&e.name==="AuthRetryableFetchError"}class lm extends pr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Td extends pr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cm=` 	
\r=`.split(""),h1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cm.length;t+=1)e[cm[t].charCodeAt(0)]=-2;for(let t=0;t<al.length;t+=1)e[al[t].charCodeAt(0)]=t;return e})();function um(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(al[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(al[r]),t.queuedBits-=6}}function M0(e,t,n){const r=h1[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dm(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{v1(i,r,n)};for(let i=0;i<e.length;i+=1)M0(e.charCodeAt(i),s,o);return t.join("")}function m1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function g1(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}m1(r,t)}}function v1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function y1(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)M0(e.charCodeAt(s),n,r);return new Uint8Array(t)}function w1(e){const t=[];return g1(e,n=>t.push(n)),new Uint8Array(t)}function x1(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>um(s,n,r)),um(null,n,r),t.join("")}function b1(e){return Math.round(Date.now()/1e3)+e}function _1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},A0=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function S1(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const L0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zs(()=>Promise.resolve().then(()=>Ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},k1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ns=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},An=async(e,t)=>{await e.removeItem(t)};class ec{constructor(){this.promise=new ec.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ec.promiseConstructor=Promise;function Qc(e){const t=e.split(".");if(t.length!==3)throw new Td("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!l1.test(t[r]))throw new Td("JWT not in base64url format");return{header:JSON.parse(dm(t[0])),payload:JSON.parse(dm(t[1])),signature:y1(t[2]),raw:{header:t[0],payload:t[1]}}}async function D1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function C1(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function E1(e){return("0"+e.toString(16)).substr(-2)}function N1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,E1).join("")}async function P1(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function T1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await P1(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(e,t,n=!1){const r=N1();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ns(e,`${t}-code-verifier`,s);const o=await T1(r);return[o,r===o?"plain":"s256"]}const O1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R1(e){const t=e.headers.get(Nd);if(!t||!t.match(O1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function j1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function I1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qr(e){if(!M1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fm(e){return JSON.parse(JSON.stringify(e))}var A1=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L1=[502,503,504];async function pm(e){var t;if(!k1(e))throw new Pd(xr(e),0);if(L1.includes(e.status))throw new Pd(xr(e),e.status);let n;try{n=await e.json()}catch(o){throw new I0(xr(o),o)}let r;const s=R1(e);if(s&&s.getTime()>=j0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lm(xr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new lm(xr(n),e.status,n.weak_password.reasons);throw new u1(xr(n),e.status||500,r)}const F1=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function J(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Nd]||(o[Nd]=j0["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await $1(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function $1(e,t,n,r,s,o){const i=F1(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new Pd(xr(l),0)}if(a.ok||await pm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await pm(l)}}function fn(e){var t;let n=null;Y1(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=b1(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function hm(e){const t=fn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function B1(e){return{data:e,error:null}}function U1(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=A1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function W1(e){return e}function Y1(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xc=["global","local","others"];var H1=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class z1{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=L0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Xc[0]){if(Xc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xc.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=H1(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:U1,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:W1});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Qr(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qr(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Yn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qr(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qr(t.userId);try{const{data:n,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qr(t.userId),Qr(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}function mm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function V1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jr={debug:!!(globalThis&&A0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class G1 extends F0{}async function q1(e,t,n){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new G1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}V1();const K1={url:o1,storageKey:i1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gm(e,t,n){return await n()}const Xr={};class ii{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ii.nextInstanceID,ii.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},K1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new z1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=L0(s.fetch),this.lock=s.lock||gm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=q1:this.lock=gm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:A0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mm(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Xr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Xr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=S1(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),p1(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new I0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Kr(this.storage,this.storageKey)),o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},xform:fn})}else if("phone"in t){const{phone:u,password:d,options:f}=t;o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:fn})}else throw new Zi("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hm})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hm})}else throw new Zi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,l,c,u,d,f,h;let g,w;if("message"in t)g=t.message,w=t.signature;else{const{chain:x,wallet:v,statement:m,options:y}=t;let _;if(Lt())if(typeof v=="object")_=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const S=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:x,error:v}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:x1(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:fn});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Xi}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(K(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await gr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fn});if(await An(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Xi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(K(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Kr(this.storage,this.storageKey));const{error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Zi("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:fn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Kr(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:B1})}catch(o){if(K(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Fn;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await J(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await J(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Zi("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await gr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Jc()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yn}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Yn})})}catch(n){if(K(n))return f1(n)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Fn;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Kr(this.storage,this.storageKey));const{data:c,error:u}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Yn});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Qc(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Fn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Lt())throw new ea("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ea(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new am("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ea("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new am("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new ea("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:w,error:x}=await this._getUser(o);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:f,refresh_token:i,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(d1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_1(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Kr(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(K(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:d,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Lt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await C1(async s=>(s>0&&await D1(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Kc(o)&&Date.now()+i-r<ts})}catch(r){if(this._debug(n,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await gr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ns(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Jc()}else if(s&&!s.user&&!s.user){const i=await gr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await An(this.storage,this.storageKey+"-user"),await ns(this.storage,this.storageKey,s)):s.user=Jc()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qc;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qc}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Kc(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ec;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Fn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),K(o)){const i={session:null,error:o};return Kc(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ns(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=fm(s);await ns(this.storage,this.storageKey,o)}else{const s=fm(n);await ns(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ts);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ts}ms, refresh threshold is ${Ed} ticks`),s<=Ed&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Kr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Qc(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+c1>s)return r;const{data:o,error:i}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};r=h.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Qc(r);n!=null&&n.allowExpired||j1(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:s,signature:i},error:null}}const u=I1(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,i,w1(`${a}.${l}`)))throw new Td("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}ii.nextInstanceID=0;const Q1=ii;class J1 extends Q1{constructor(t){super(t)}}var X1=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Z1{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=r1(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:KD,realtime:JD,auth:Object.assign(Object.assign({},QD),{storageKey:c}),global:qD},d=s1(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=t1(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new vD(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new zD(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Gk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return X1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J1({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new RD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eC=(e,t,n)=>new Z1(e,t,n);function tC(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}tC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nC="https://rqbvcvwbziilnycqtmnc.supabase.co",rC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYnZjdndiemlpbG55Y3F0bW5jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyMzk5ODIsImV4cCI6MjA2NTgxNTk4Mn0.819LDXCnlu2dgCPw91oMbZIojeFom-UxqJn2hA5yjBM",q=eC(nC,rC),$0=b.createContext(void 0);function sC(){const e=b.useContext($0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function oC({children:e}){const[t,n]=b.useState(null),[r,s]=b.useState(null),[o,i]=b.useState(!0);b.useEffect(()=>{q.auth.getSession().then(({data:{session:f}})=>{s(f),n((f==null?void 0:f.user)??null),i(!1)});const{data:{subscription:d}}=q.auth.onAuthStateChange(async(f,h)=>{s(h),n((h==null?void 0:h.user)??null),i(!1)});return()=>d.unsubscribe()},[]);const u={user:t,session:r,loading:o,signIn:async(d,f)=>await q.auth.signInWithPassword({email:d,password:f}),signUp:async(d,f)=>await q.auth.signUp({email:d,password:f}),signOut:async()=>{await q.auth.signOut()}};return p.jsx($0.Provider,{value:u,children:e})}function iC({children:e}){return p.jsx(p.Fragment,{children:e})}function Ke(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aC=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),vm=aC,Zc=()=>Math.random().toString(36).substring(7).split("").join("."),lC={INIT:`@@redux/INIT${Zc()}`,REPLACE:`@@redux/REPLACE${Zc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zc()}`},ym=lC;function cC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function B0(e,t,n){if(typeof e!="function")throw new Error(Ke(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ke(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ke(1));return n(B0)(e,t)}let r=e,s=t,o=new Map,i=o,a=0,l=!1;function c(){i===o&&(i=new Map,o.forEach((x,v)=>{i.set(v,x)}))}function u(){if(l)throw new Error(Ke(3));return s}function d(x){if(typeof x!="function")throw new Error(Ke(4));if(l)throw new Error(Ke(5));let v=!0;c();const m=a++;return i.set(m,x),function(){if(v){if(l)throw new Error(Ke(6));v=!1,c(),i.delete(m),o=null}}}function f(x){if(!cC(x))throw new Error(Ke(7));if(typeof x.type>"u")throw new Error(Ke(8));if(typeof x.type!="string")throw new Error(Ke(17));if(l)throw new Error(Ke(9));try{l=!0,s=r(s,x)}finally{l=!1}return(o=i).forEach(m=>{m()}),x}function h(x){if(typeof x!="function")throw new Error(Ke(10));r=x,f({type:ym.REPLACE})}function g(){const x=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ke(11));function m(){const _=v;_.next&&_.next(u())}return m(),{unsubscribe:x(m)}},[vm](){return this}}}return f({type:ym.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:h,[vm]:g}}function wm(e,t){return function(...n){return t(e.apply(this,n))}}function xm(e,t){if(typeof e=="function")return wm(e,t);if(typeof e!="object"||e===null)throw new Error(Ke(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=wm(s,t))}return n}function U0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function uC(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(Ke(15))};const i={getState:s.getState,dispatch:(l,...c)=>o(l,...c)},a=e.map(l=>l(i));return o=U0(...a)(s.dispatch),{...s,dispatch:o}}}var dC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=b;function fC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pC=typeof Object.is=="function"?Object.is:fC,hC=Ci.useSyncExternalStore,mC=Ci.useRef,gC=Ci.useEffect,vC=Ci.useMemo,yC=Ci.useDebugValue;dC.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=mC(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=vC(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),s!==void 0&&i.hasValue){var g=i.value;if(s(g,h))return d=g}return d=h}if(g=d,pC(u,h))return g;var w=r(h);return s!==void 0&&s(g,w)?(u=h,g):(u=h,d=w)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=hC(e,o[0],o[1]);return gC(function(){i.hasValue=!0,i.value=a},[a]),yC(a),a};var wC=b.version.startsWith("19"),xC=Symbol.for(wC?"react.transitional.element":"react.element"),bC=Symbol.for("react.portal"),_C=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),kC=Symbol.for("react.profiler"),DC=Symbol.for("react.consumer"),CC=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),NC=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),TC=W0,OC=tp;function RC(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case xC:switch(e=e.type,e){case _C:case kC:case SC:case EC:case NC:return e;default:switch(e=e&&e.$$typeof,e){case CC:case W0:case PC:case tp:return e;case DC:return e;default:return t}}case bC:return t}}}function jC(e){return RC(e)===tp}function IC(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:i}){let a=!1,l,c,u,d,f;function h(m,y){return l=m,c=y,u=e(l,c),d=t(r,c),f=n(u,d,c),a=!0,f}function g(){return u=e(l,c),t.dependsOnOwnProps&&(d=t(r,c)),f=n(u,d,c),f}function w(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(d=t(r,c)),f=n(u,d,c),f}function x(){const m=e(l,c),y=!i(m,u);return u=m,y&&(f=n(u,d,c)),f}function v(m,y){const _=!o(y,c),S=!s(m,l,y,c);return l=m,c=y,_&&S?g():_?w():S?x():f}return function(y,_){return a?v(y,_):h(y,_)}}function MC(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const o=t(e,s),i=n(e,s),a=r(e,s);return IC(o,i,a,e,s)}function AC(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...o)=>t(s(...o)))}return n}function Od(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function bm(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Y0(e,t){return function(r,{displayName:s}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=bm(e);let c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=bm(c),c=o(a,l)),c},o}}function np(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function LC(e){return e&&typeof e=="object"?Od(t=>AC(e,t)):e?typeof e=="function"?Y0(e):np(e,"mapDispatchToProps"):Od(t=>({dispatch:t}))}function FC(e){return e?typeof e=="function"?Y0(e):np(e,"mapStateToProps"):Od(()=>({}))}function $C(e,t,n){return{...n,...e,...t}}function BC(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let o=!1,i;return function(l,c,u){const d=e(l,c,u);return o?s(d,i)||(i=d):(o=!0,i=d),i}}}function UC(e){return e?typeof e=="function"?BC(e):np(e,"mergeProps"):()=>$C}function WC(e){e()}function YC(){let e=null,t=null;return{clear(){e=null,t=null},notify(){WC(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var _m={notify(){},get:()=>[]};function H0(e,t){let n,r=_m,s=0,o=!1;function i(w){u();const x=r.subscribe(w);let v=!1;return()=>{v||(v=!0,x(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return o}function u(){s++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=YC())}function d(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=_m)}function f(){o||(o=!0,u())}function h(){o&&(o=!1,d())}const g={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return g}var HC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zC=HC(),VC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",GC=VC(),qC=()=>zC||GC?b.useLayoutEffect:b.useEffect,ll=qC();function Sm(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function eu(e,t){if(Sm(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Sm(e[n[s]],t[n[s]]))return!1;return!0}var KC={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QC={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},z0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XC={[TC]:JC,[OC]:z0};function km(e){return jC(e)?z0:XC[e.$$typeof]||KC}var ZC=Object.defineProperty,eE=Object.getOwnPropertyNames,Dm=Object.getOwnPropertySymbols,tE=Object.getOwnPropertyDescriptor,nE=Object.getPrototypeOf,Cm=Object.prototype;function Rd(e,t){if(typeof t!="string"){if(Cm){const o=nE(t);o&&o!==Cm&&Rd(e,o)}let n=eE(t);Dm&&(n=n.concat(Dm(t)));const r=km(e),s=km(t);for(let o=0;o<n.length;++o){const i=n[o];if(!QC[i]&&!(s&&s[i])&&!(r&&r[i])){const a=tE(t,i);try{ZC(e,i,a)}catch{}}}}return e}var tu=Symbol.for("react-redux-context"),nu=typeof globalThis<"u"?globalThis:{};function rE(){if(!b.createContext)return{};const e=nu[tu]??(nu[tu]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var V0=rE(),sE=[null,null];function oE(e,t,n){ll(()=>e(...t),n)}function iE(e,t,n,r,s,o){e.current=r,n.current=!1,s.current&&(s.current=null,o())}function aE(e,t,n,r,s,o,i,a,l,c,u){if(!e)return()=>{};let d=!1,f=null;const h=()=>{if(d||!a.current)return;const w=t.getState();let x,v;try{x=r(w,s.current)}catch(m){v=m,f=m}v||(f=null),x===o.current?i.current||c():(o.current=x,l.current=x,i.current=!0,u())};return n.onStateChange=h,n.trySubscribe(),h(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function lE(e,t){return e===t}function cE(e,t,n,{pure:r,areStatesEqual:s=lE,areOwnPropsEqual:o=eu,areStatePropsEqual:i=eu,areMergedPropsEqual:a=eu,forwardRef:l=!1,context:c=V0}={}){const u=c,d=FC(e),f=LC(t),h=UC(n),g=!!e;return x=>{const v=x.displayName||x.name||"Component",m=`Connect(${v})`,y={shouldHandleStateChanges:g,displayName:m,wrappedComponentName:v,WrappedComponent:x,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:h,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:a};function _(C){const[E,N,P]=b.useMemo(()=>{const{reactReduxForwardedRef:xt,...to}=C;return[C.context,xt,to]},[C]),j=b.useMemo(()=>{let xt=u;return E!=null&&E.Consumer,xt},[E,u]),B=b.useContext(j),M=!!C.store&&!!C.store.getState&&!!C.store.dispatch,V=!!B&&!!B.store,H=M?C.store:B.store,F=V?B.getServerState:H.getState,I=b.useMemo(()=>MC(H.dispatch,y),[H]),[D,O]=b.useMemo(()=>{if(!g)return sE;const xt=H0(H,M?void 0:B.subscription),to=xt.notifyNestedSubs.bind(xt);return[xt,to]},[H,M,B]),L=b.useMemo(()=>M?B:{...B,subscription:D},[M,B,D]),Y=b.useRef(void 0),Z=b.useRef(P),Ee=b.useRef(void 0),Ne=b.useRef(!1),Mt=b.useRef(!1),nt=b.useRef(void 0);ll(()=>(Mt.current=!0,()=>{Mt.current=!1}),[]);const hr=b.useMemo(()=>()=>Ee.current&&P===Z.current?Ee.current:I(H.getState(),P),[H,P]),Ux=b.useMemo(()=>to=>D?aE(g,H,D,I,Z,Y,Ne,Mt,Ee,O,to):()=>{},[D]);oE(iE,[Z,Y,Ne,P,Ee,O]);let ji;try{ji=b.useSyncExternalStore(Ux,hr,F?()=>I(F(),P):hr)}catch(xt){throw nt.current&&(xt.message+=`
The error may be correlated with this previous error:
${nt.current.stack}

`),xt}ll(()=>{nt.current=void 0,Ee.current=void 0,Y.current=ji});const vc=b.useMemo(()=>b.createElement(x,{...ji,ref:N}),[N,x,ji]);return b.useMemo(()=>g?b.createElement(j.Provider,{value:L},vc):vc,[j,vc,L])}const k=b.memo(_);if(k.WrappedComponent=x,k.displayName=_.displayName=m,l){const E=b.forwardRef(function(P,j){return b.createElement(k,{...P,reactReduxForwardedRef:j})});return E.displayName=m,E.WrappedComponent=x,Rd(E,x)}return Rd(k,x)}}var G0=cE;function uE(e){const{children:t,context:n,serverState:r,store:s}=e,o=b.useMemo(()=>{const l=H0(s);return{store:s,subscription:l,getServerState:r?()=>r:void 0}},[s,r]),i=b.useMemo(()=>s.getState(),[s]);ll(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,i]);const a=n||V0;return b.createElement(a.Provider,{value:o},t)}var dE=uE,fE=!0,ru="Invariant failed";function pE(e,t){if(!e){if(fE)throw new Error(ru);var n=typeof t=="function"?t():t,r=n?"".concat(ru,": ").concat(n):ru;throw new Error(r)}}var Wt=function(t){var n=t.top,r=t.right,s=t.bottom,o=t.left,i=r-o,a=s-n,l={top:n,right:r,bottom:s,left:o,width:i,height:a,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return l},rp=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Em=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},hE=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},su={top:0,right:0,bottom:0,left:0},sp=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?su:r,o=t.border,i=o===void 0?su:o,a=t.padding,l=a===void 0?su:a,c=Wt(rp(n,s)),u=Wt(Em(n,i)),d=Wt(Em(u,l));return{marginBox:c,borderBox:Wt(n),paddingBox:u,contentBox:d,margin:s,border:i,padding:l}},bt=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&pE(!1),s},mE=function(){return{x:window.pageXOffset,y:window.pageYOffset}},cl=function(t,n){var r=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=hE(r,n);return sp({borderBox:a,border:s,margin:o,padding:i})},ul=function(t,n){return n===void 0&&(n=mE()),cl(t,n)},q0=function(t,n){var r={top:bt(n.marginTop),right:bt(n.marginRight),bottom:bt(n.marginBottom),left:bt(n.marginLeft)},s={top:bt(n.paddingTop),right:bt(n.paddingRight),bottom:bt(n.paddingBottom),left:bt(n.paddingLeft)},o={top:bt(n.borderTopWidth),right:bt(n.borderRightWidth),bottom:bt(n.borderBottomWidth),left:bt(n.borderLeftWidth)};return sp({borderBox:t,margin:r,padding:s,border:o})},K0=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return q0(n,r)},gE=function(t){var n=[],r=null,s=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};const ai=gE;function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}function Q0(e,t){}Q0.bind(null,"warn");Q0.bind(null,"error");function tr(){}function vE(e,t){return{...e,...t}}function Nt(e,t,n){const r=t.map(s=>{const o=vE(n,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){r.forEach(o=>{o()})}}const yE="Invariant failed";class fl extends Error{}fl.prototype.toString=function(){return this.message};function A(e,t){throw new fl(yE)}class wE extends T.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=tr,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof fl&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Nt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof fl){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const xE=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,pl=e=>e+1,bE=e=>`
  You have lifted an item in position ${pl(e.source.index)}
`,J0=(e,t)=>{const n=e.droppableId===t.droppableId,r=pl(e.index),s=pl(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},X0=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,_E=e=>{const t=e.destination;if(t)return J0(e.source,t);const n=e.combine;return n?X0(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Nm=e=>`
  The item has returned to its starting position
  of ${pl(e.index)}
`,SE=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Nm(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${J0(e.source,t)}
    `:n?`
      You have dropped the item.
      ${X0(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Nm(e.source)}
  `},Na={dragHandleUsageInstructions:xE,onDragStart:bE,onDragUpdate:_E,onDragEnd:SE};function kE(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Z0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!kE(e[n],t[n]))return!1;return!0}function ee(e,t){const n=b.useState(()=>({inputs:t,result:e()}))[0],r=b.useRef(!0),s=b.useRef(n),i=r.current||!!(t&&s.current.inputs&&Z0(t,s.current.inputs))?s.current:{inputs:t,result:e()};return b.useEffect(()=>{r.current=!1,s.current=i},[i]),i.result}function G(e,t){return ee(()=>e,t)}const Me={x:0,y:0},Fe=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ft=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),nr=(e,t)=>e.x===t.x&&e.y===t.y,Js=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),$r=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},li=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Pm=(e,t)=>Math.min(...t.map(n=>li(e,n))),ew=e=>t=>({x:e(t.x),y:e(t.y)});var DE=(e,t)=>{const n=Wt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Ei=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Tm=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],CE={top:0,right:0,bottom:0,left:0},EE=(e,t)=>t?Ei(e,t.scroll.diff.displacement):e,NE=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,PE=(e,t)=>t&&t.shouldClipSubject?DE(t.pageMarginBox,e):Wt(e);var Rs=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=EE(e.marginBox,r),o=NE(s,n,t),i=PE(o,r);return{page:e,withPlaceholder:t,active:i}},op=(e,t)=>{e.frame||A();const n=e.frame,r=ft(t,n.scroll.initial),s=Js(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},i=Rs({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};function Ie(e,t=Z0){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}const tw=Ie(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),nw=Ie(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),tc=Ie(e=>Object.values(e)),TE=Ie(e=>Object.values(e));var Xs=Ie((e,t)=>TE(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function ip(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function nc(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var rc=Ie((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),OE=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!ip(s))return null;function i(h){const g={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return{...s,at:g}}const a=s.displaced.all,l=a.length?a[0]:null;if(e)return l?i(l):null;const c=rc(t,r);if(!l){if(!c.length)return null;const h=c[c.length-1];return i(h.descriptor.id)}const u=c.findIndex(h=>h.descriptor.id===l);u===-1&&A();const d=u-1;if(d<0)return null;const f=c[d];return i(f.descriptor.id)},Zs=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const rw={point:Me,value:0},ci={invisible:{},visible:{},all:[]},RE={displaced:ci,displacedBy:rw,at:null};var Tt=(e,t)=>n=>e<=n&&n<=t,sw=e=>{const t=Tt(e.top,e.bottom),n=Tt(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return l&&c?!0:l&&i||c&&o}},jE=e=>{const t=Tt(e.top,e.bottom),n=Tt(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const ap={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ow={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var IE=e=>t=>{const n=Tt(t.top,t.bottom),r=Tt(t.left,t.right);return s=>e===ap?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const ME=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Me;return Ei(e,n)},AE=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,LE=(e,t,n)=>n(t)(e),lp=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const o=r?ME(e,t):e;return AE(o,t,s)&&LE(o,n,s)},FE=e=>lp({...e,isVisibleThroughFrameFn:sw}),iw=e=>lp({...e,isVisibleThroughFrameFn:jE}),$E=e=>lp({...e,isVisibleThroughFrameFn:IE(e.destination.axis)}),BE=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const o=s[e];return o?o.shouldAnimate:!0};function UE(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Wt(rp(n,r))}function ui({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:o}){return e.reduce(function(a,l){const c=UE(l,n),u=l.descriptor.id;if(a.all.push(u),!FE({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=BE(u,o,s),h={draggableId:u,shouldAnimate:f};return a.visible[u]=h,a},{all:[],visible:{},invisible:{}})}function WE(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Om({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=WE(e,{inHomeList:t});return{displaced:ci,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function hl({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:o,index:i,forceShouldAnimate:a}){const l=Zs(e,n);if(i==null)return Om({insideDestination:t,inHomeList:l,displacedBy:s,destination:n});const c=t.find(g=>g.descriptor.index===i);if(!c)return Om({insideDestination:t,inHomeList:l,displacedBy:s,destination:n});const u=rc(e,t),d=t.indexOf(c),f=u.slice(d);return{displaced:ui({afterDragging:f,destination:n,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function ar(e,t){return!!t.effected[e]}var YE=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return ar(o,s)?e?a:a-1:e?a+1:a},HE=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,o=e?s+1:s-1,i=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return o<i||o>l?null:o},zE=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:o,previousImpact:i,viewport:a,afterCritical:l})=>{const c=i.at;if(c||A(),c.type==="REORDER"){const d=HE({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:o});return d==null?null:hl({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:d})}const u=YE({isMovingForward:e,destination:s,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:hl({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:u})},VE=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return ar(n,t)?s?Me:Js(r.point):s?r.point:Me},GE=({afterCritical:e,impact:t,draggables:n})=>{const r=nc(t);r||A();const s=r.draggableId,o=n[s].page.borderBox.center,i=VE({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return Fe(o,i)};const aw=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,qE=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,cp=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Rm=({axis:e,moveRelativeTo:t,isMoving:n})=>$r(e.line,t.marginBox[e.end]+aw(e,n),cp(e,t.marginBox,n)),jm=({axis:e,moveRelativeTo:t,isMoving:n})=>$r(e.line,t.marginBox[e.start]-qE(e,n),cp(e,t.marginBox,n)),KE=({axis:e,moveInto:t,isMoving:n})=>$r(e.line,t.contentBox[e.start]+aw(e,n),cp(e,t.contentBox,n));var QE=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const o=Xs(r.descriptor.id,n),i=t.page,a=r.axis;if(!o.length)return KE({axis:a,moveInto:r.page,isMoving:i});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const f=n[u];if(ar(u,s))return jm({axis:a,moveRelativeTo:f.page,isMoving:i});const h=cl(f.page,c.point);return jm({axis:a,moveRelativeTo:h,isMoving:i})}const d=o[o.length-1];if(d.descriptor.id===t.descriptor.id)return i.borderBox.center;if(ar(d.descriptor.id,s)){const f=cl(d.page,Js(s.displacedBy.point));return Rm({axis:a,moveRelativeTo:f,isMoving:i})}return Rm({axis:a,moveRelativeTo:d.page,isMoving:i})},jd=(e,t)=>{const n=e.frame;return n?Fe(t,n.scroll.diff.displacement):t};const JE=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const o=t.page.borderBox.center,i=e.at;return!n||!i?o:i.type==="REORDER"?QE({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):GE({impact:e,draggables:r,afterCritical:s})};var sc=e=>{const t=JE(e),n=e.droppable;return n?jd(n,t):t},lw=(e,t)=>{const n=ft(t,e.scroll.initial),r=Js(n);return{frame:Wt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Im(e,t){return e.map(n=>t[n])}function XE(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var ZE=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const o=lw(t,Fe(t.scroll.current,s)),i=n.frame?op(n,Fe(n.frame.scroll.current,s)):n,a=e.displaced,l=ui({afterDragging:Im(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),c=ui({afterDragging:Im(a.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(g=>{const w=XE(g,f);if(w){d[g]=w;return}u[g]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:d}}},eN=(e,t)=>Fe(e.scroll.diff.displacement,t),up=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=eN(n,e),s=ft(r,t.page.borderBox.center);return Fe(t.client.borderBox.center,s)},cw=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:o=!1})=>{const i=ft(n,e.page.borderBox.center),l={target:Ei(e.page.borderBox,i),destination:t,withDroppableDisplacement:s,viewport:r};return o?$E(l):iw(l)},tN=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=Xs(n.descriptor.id,r),u=Zs(t,n),d=OE({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:s})||zE({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:s,viewport:o,afterCritical:l});if(!d)return null;const f=sc({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(cw({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:up({pageBorderBoxCenter:f,draggable:t,viewport:o}),impact:d,scrollJumpRequest:null};const g=ft(f,i),w=ZE({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:a,impact:w,scrollJumpRequest:g}};const qe=e=>{const t=e.subject.active;return t||A(),t};var nN=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,a=Tt(o[i.start],o[i.end]),l=tc(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>sw(s.frame)(qe(u))).filter(u=>{const d=qe(u);return e?o[i.crossAxisEnd]<d[i.crossAxisEnd]:d[i.crossAxisStart]<o[i.crossAxisStart]}).filter(u=>{const d=qe(u),f=Tt(d[i.start],d[i.end]);return a(d[i.start])||a(d[i.end])||f(o[i.start])||f(o[i.end])}).sort((u,d)=>{const f=qe(u)[i.crossAxisStart],h=qe(d)[i.crossAxisStart];return e?f-h:h-f}).filter((u,d,f)=>qe(u)[i.crossAxisStart]===qe(f[0])[i.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>Tt(qe(u)[i.start],qe(u)[i.end])(t[i.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>qe(u)[i.start]-qe(d)[i.start])[0]:l.sort((u,d)=>{const f=Pm(t,Tm(qe(u))),h=Pm(t,Tm(qe(d)));return f!==h?f-h:qe(u)[i.start]-qe(d)[i.start]})[0]};const Mm=(e,t)=>{const n=e.page.borderBox.center;return ar(e.descriptor.id,t)?ft(n,t.displacedBy.point):n},rN=(e,t)=>{const n=e.page.borderBox;return ar(e.descriptor.id,t)?Ei(n,Js(t.displacedBy.point)):n};var sN=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(i=>iw({target:rN(i,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,a)=>{const l=li(e,jd(n,Mm(i,s))),c=li(e,jd(n,Mm(a,s)));return l<c?-1:c<l?1:i.descriptor.index-a.descriptor.index})[0]||null,Ni=Ie(function(t,n){const r=n[t.line];return{value:r,point:$r(t.line,r)}});const oN=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return $r(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],l=Xs(e.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+t[r.line]-s;return l<=0?null:$r(r.line,l)},uw=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),dw=(e,t,n)=>{const r=e.frame;Zs(t,e)&&A(),e.subject.withPlaceholder&&A();const s=Ni(e.axis,t.displaceBy).point,o=oN(e,s,n),i={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const u=Rs({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=o?Fe(r.scroll.max,o):r.scroll.max,l=uw(r,a),c=Rs({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},iN=e=>{const t=e.subject.withPlaceholder;t||A();const n=e.frame;if(!n){const i=Rs({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||A();const s=uw(n,r),o=Rs({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:o,frame:s}};var aN=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:o,viewport:i,afterCritical:a})=>{if(!t){if(n.length)return null;const d={displaced:ci,displacedBy:rw,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=sc({impact:d,draggable:r,droppable:o,draggables:s,afterCritical:a}),h=Zs(r,o)?o:dw(o,r,s);return cw({draggable:r,destination:h,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],c=(()=>{const d=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?d:d+1})(),u=Ni(o.axis,r.displaceBy);return hl({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:u,last:ci,index:c})},lN=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:o,viewport:i,afterCritical:a})=>{const l=nN({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!l)return null;const c=Xs(l.descriptor.id,s),u=sN({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:c,afterCritical:a}),d=aN({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:s,moveRelativeTo:u,insideDestination:c,viewport:i,afterCritical:a});if(!d)return null;const f=sc({impact:d,draggable:n,droppable:l,draggables:s,afterCritical:a});return{clientSelection:up({pageBorderBoxCenter:f,draggable:n,viewport:i}),impact:d,scrollJumpRequest:null}},ht=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const cN=(e,t)=>{const n=ht(e);return n?t[n]:null};var uN=({state:e,type:t})=>{const n=cN(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],o=n||s,i=o.axis.direction,a=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:f}=e.dimensions;return a?tN({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:o,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):lN({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:o,draggables:d,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function br(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function fw(e){const t=Tt(e.top,e.bottom),n=Tt(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function dN(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function fN({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(o=>{const i=o.axis,a=$r(o.axis.line,e.center[i.line],o.page.borderBox.center[i.crossAxisLine]);return{id:o.descriptor.id,distance:li(r,a)}}).sort((o,i)=>i.distance-o.distance);return s[0]?s[0].id:null}function pN({pageBorderBox:e,draggable:t,droppables:n}){const r=tc(n).filter(s=>{if(!s.isEnabled)return!1;const o=s.subject.active;if(!o||!dN(e,o))return!1;if(fw(o)(e.center))return!0;const i=s.axis,a=o.center[i.crossAxisLine],l=e[i.crossAxisStart],c=e[i.crossAxisEnd],u=Tt(o[i.crossAxisStart],o[i.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:fN({pageBorderBox:e,draggable:t,candidates:r}):null}const pw=(e,t)=>Wt(Ei(e,t));var hN=(e,t)=>{const n=e.frame;return n?pw(t,n.scroll.diff.value):t};function hw({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function mN({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var gN=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:o,afterCritical:i})=>{const a=n.axis,l=Ni(n.axis,t.displaceBy),c=l.value,u=e[a.start],d=e[a.end],h=rc(t,r).find(w=>{const x=w.descriptor.id,v=w.page.borderBox.center[a.line],m=ar(x,i),y=hw({displaced:s,id:x});return m?y?d<=v:u<v-c:y?d<=v+c:u<v})||null,g=mN({draggable:t,closest:h,inHomeList:Zs(t,n)});return hl({draggable:t,insideDestination:r,destination:n,viewport:o,last:s,displacedBy:l,index:g})};const vN=4;var yN=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,a=Ni(r.axis,e.displaceBy),l=a.value,c=t[i.start],u=t[i.end],f=rc(e,s).find(g=>{const w=g.descriptor.id,x=g.page.borderBox,m=x[i.size]/vN,y=ar(w,o),_=hw({displaced:n.displaced,id:w});return y?_?u>x[i.start]+m&&u<x[i.end]-m:c>x[i.start]-l+m&&c<x[i.end]-l-m:_?u>x[i.start]+l+m&&u<x[i.end]+l-m:c>x[i.start]+m&&c<x[i.end]-m});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},mw=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:o,afterCritical:i})=>{const a=pw(t.page.borderBox,e),l=pN({pageBorderBox:a,draggable:t,droppables:r});if(!l)return RE;const c=r[l],u=Xs(c.descriptor.id,n),d=hN(c,a);return yN({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:s,destination:c,insideDestination:u,afterCritical:i})||gN({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:s.displaced,viewport:o,afterCritical:i})},dp=(e,t)=>({...e,[t.descriptor.id]:t});const wN=({previousImpact:e,impact:t,droppables:n})=>{const r=ht(e),s=ht(t);if(!r||r===s)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=iN(o);return dp(n,i)};var xN=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const o=wN({previousImpact:r,impact:s,droppables:n}),i=ht(s);if(!i)return o;const a=n[i];if(Zs(e,a)||a.subject.withPlaceholder)return o;const l=dw(a,e,t);return dp(o,l)},$o=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:o})=>{const i=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=ft(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:Fe(e.initial.client.borderBoxCenter,c)},d={selection:Fe(u.selection,i.scroll.current),borderBoxCenter:Fe(u.borderBoxCenter,i.scroll.current),offset:Fe(u.offset,i.scroll.diff.value)},f={client:u,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:i,current:f};const h=a.draggables[e.critical.draggable.id],g=s||mw({pageOffset:d.offset,draggable:h,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),w=xN({draggable:h,impact:g,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:f,dimensions:{draggables:a.draggables,droppables:w},impact:g,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function bN(e,t){return e.map(n=>t[n])}var gw=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const o=e.displaced,i=bN(o.all,n),a=ui({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:o});return{...e,displaced:a}},vw=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:o})=>{const i=sc({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return up({pageBorderBoxCenter:i,draggable:t,viewport:s})},yw=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&A();const r=e.impact,s=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:a}=o,l=i[e.critical.draggable.id],c=ht(r);c||A();const u=a[c],d=gw({impact:r,viewport:s,destination:u,draggables:i}),f=vw({impact:d,draggable:l,droppable:u,draggables:i,viewport:s,afterCritical:e.afterCritical});return $o({impact:d,clientSelection:f,state:e,dimensions:o,viewport:s})},_N=e=>({index:e.index,droppableId:e.droppableId}),ww=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Ni(t.axis,e.displaceBy),o=Xs(t.descriptor.id,n),i=o.indexOf(e);i===-1&&A();const a=o.slice(i+1),l=a.reduce((f,h)=>(f[h.descriptor.id]=!0,f),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:l};return{impact:{displaced:ui({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:_N(e.descriptor)}},afterCritical:c}},SN=(e,t)=>({draggables:e.draggables,droppables:dp(e.droppables,t)}),kN=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=cl(e.client,t),s=ul(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},DN=e=>{const t=e.frame;return t||A(),t},CN=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const o=s.descriptor.droppableId,i=t[o],l=DN(i).scroll.diff.value,c=Fe(r,l);return kN({draggable:s,offset:c,initialWindowScroll:n.scroll.initial})})},EN=({state:e,published:t})=>{const n=t.modified.map(v=>{const m=e.dimensions.droppables[v.droppableId];return op(m,v.scroll)}),r={...e.dimensions.droppables,...tw(n)},s=nw(CN({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...s};t.removals.forEach(v=>{delete o[v]});const i={droppables:r,draggables:o},a=ht(e.impact),l=a?i.droppables[a]:null,c=i.draggables[e.critical.draggable.id],u=i.droppables[e.critical.droppable.id],{impact:d,afterCritical:f}=ww({draggable:c,home:u,draggables:o,viewport:e.viewport}),h=l&&l.isCombineEnabled?e.impact:d,g=mw({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:h,viewport:e.viewport,afterCritical:f}),w={...e,phase:"DRAGGING",impact:g,onLiftImpact:d,dimensions:i,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Id=e=>e.movementMode==="SNAP",ou=(e,t,n)=>{const r=SN(e.dimensions,t);return!Id(e)||n?$o({state:e,dimensions:r}):yw({state:e,dimensions:r})};function iu(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Am={phase:"IDLE",completed:null,shouldFlush:!1};var NN=(e=Am,t)=>{if(t.type==="FLUSH")return{...Am,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&A();const{critical:n,clientSelection:r,viewport:s,dimensions:o,movementMode:i}=t.payload,a=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Me},u={client:c,page:{selection:Fe(c.selection,s.scroll.initial),borderBoxCenter:Fe(c.selection,s.scroll.initial),offset:Fe(c.selection,s.scroll.diff.value)}},d=tc(o.droppables).every(w=>!w.isFixedOnPage),{impact:f,afterCritical:h}=ww({draggable:a,home:l,draggables:o.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:h,onLiftImpact:f,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&A(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||A(),EN({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;br(e)||A();const{client:n}=t.payload;return nr(n,e.current.client.selection)?e:$o({state:e,clientSelection:n,impact:Id(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return iu(e);br(e)||A();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const o=op(s,r);return ou(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;br(e)||A();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||A(),s.isEnabled===r&&A();const o={...s,isEnabled:r};return ou(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;br(e)||A();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||A(),s.isCombineEnabled===r&&A();const o={...s,isCombineEnabled:r};return ou(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;br(e)||A(),e.isWindowScrollAllowed||A();const n=t.payload.newScroll;if(nr(e.viewport.scroll.current,n))return iu(e);const r=lw(e.viewport,n);return Id(e)?yw({state:e,viewport:r}):$o({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!br(e))return e;const n=t.payload.maxScroll;if(nr(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&A();const n=uN({state:e,type:t.type});return n?$o({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&A(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||A(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function ie(e,t){return e instanceof Object&&"type"in e&&e.type===t}const PN=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),TN=e=>({type:"LIFT",payload:e}),ON=e=>({type:"INITIAL_PUBLISH",payload:e}),RN=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),jN=()=>({type:"COLLECTION_STARTING",payload:null}),IN=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),MN=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),AN=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),xw=e=>({type:"MOVE",payload:e}),LN=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),FN=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),$N=()=>({type:"MOVE_UP",payload:null}),BN=()=>({type:"MOVE_DOWN",payload:null}),UN=()=>({type:"MOVE_RIGHT",payload:null}),WN=()=>({type:"MOVE_LEFT",payload:null}),fp=()=>({type:"FLUSH",payload:null}),YN=e=>({type:"DROP_ANIMATE",payload:e}),pp=e=>({type:"DROP_COMPLETE",payload:e}),bw=e=>({type:"DROP",payload:e}),HN=e=>({type:"DROP_PENDING",payload:e}),_w=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var zN=e=>({getState:t,dispatch:n})=>r=>s=>{if(!ie(s,"LIFT")){r(s);return}const{id:o,clientSelection:i,movementMode:a}=s.payload,l=t();l.phase==="DROP_ANIMATING"&&n(pp({completed:l.completed})),t().phase!=="IDLE"&&A(),n(fp()),n(PN({draggableId:o,movementMode:a}));const u={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:h}=e.startPublishing(u);n(ON({critical:d,dimensions:f,clientSelection:i,movementMode:a,viewport:h}))},VN=e=>()=>t=>n=>{ie(n,"INITIAL_PUBLISH")&&e.dragging(),ie(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(ie(n,"FLUSH")||ie(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const hp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},di={opacity:{drop:0,combining:.7},scale:{drop:.75}},Sw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},vr=`${Sw.outOfTheWay}s ${hp.outOfTheWay}`,Bo={fluid:`opacity ${vr}`,snap:`transform ${vr}, opacity ${vr}`,drop:e=>{const t=`${e}s ${hp.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${vr}`,placeholder:`height ${vr}, width ${vr}, margin ${vr}`},Lm=e=>nr(e,Me)?void 0:`translate(${e.x}px, ${e.y}px)`,Md={moveTo:Lm,drop:(e,t)=>{const n=Lm(e);if(n)return t?`${n} scale(${di.scale.drop})`:n}},{minDropTime:Ad,maxDropTime:kw}=Sw,GN=kw-Ad,Fm=1500,qN=.6;var KN=({current:e,destination:t,reason:n})=>{const r=li(e,t);if(r<=0)return Ad;if(r>=Fm)return kw;const s=r/Fm,o=Ad+GN*s,i=n==="CANCEL"?o*qN:o;return Number(i.toFixed(2))},QN=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:o,droppables:i}=n,a=ht(e),l=a?i[a]:null,c=i[t.descriptor.droppableId],u=vw({impact:e,draggable:t,draggables:o,afterCritical:s,droppable:l||c,viewport:r});return ft(u,t.client.borderBox.center)},JN=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:gw({draggables:e,impact:o,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ci},didDropInsideDroppable:!0};const XN=({getState:e,dispatch:t})=>n=>r=>{if(!ie(r,"DROP")){n(r);return}const s=e(),o=r.payload.reason;if(s.phase==="COLLECTING"){t(HN({reason:o}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&A(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||A();const a=s.critical,l=s.dimensions,c=l.draggables[s.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=JN({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=d?ip(u):null,h=d?nc(u):null,g={index:a.draggable.index,droppableId:a.droppable.id},w={draggableId:c.descriptor.id,type:c.descriptor.type,source:g,reason:o,mode:s.movementMode,destination:f,combine:h},x=QN({impact:u,draggable:c,dimensions:l,viewport:s.viewport,afterCritical:s.afterCritical}),v={critical:s.critical,afterCritical:s.afterCritical,result:w,impact:u};if(!(!nr(s.current.client.offset,x)||!!w.combine)){t(pp({completed:v}));return}const y=KN({current:s.current.client.offset,destination:x,reason:o});t(YN({newHomeClientOffset:x,dropDuration:y,completed:v}))};var Dw=()=>({x:window.pageXOffset,y:window.pageYOffset});function ZN(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function eP({onWindowScroll:e}){function t(){e(Dw())}const n=ai(t),r=ZN(n);let s=tr;function o(){return s!==tr}function i(){o()&&A(),s=Nt(window,[r])}function a(){o()||A(),n.cancel(),s(),s=tr}return{start:i,stop:a,isActive:o}}const tP=e=>ie(e,"DROP_COMPLETE")||ie(e,"DROP_ANIMATE")||ie(e,"FLUSH"),nP=e=>{const t=eP({onWindowScroll:n=>{e.dispatch(LN({newScroll:n}))}});return n=>r=>{!t.isActive()&&ie(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&tP(r)&&t.stop(),n(r)}};var rP=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return s.wasCalled=()=>t,s},sP=()=>{const e=[],t=s=>{const o=e.findIndex(a=>a.timerId===s);o===-1&&A();const[i]=e.splice(o,1);i.callback()};return{add:s=>{const o=setTimeout(()=>t(o)),i={timerId:o,callback:s};e.push(i)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const oP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,iP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,aP=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},po=(e,t)=>{t()},ta=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function au(e,t,n,r){if(!e){n(r(t));return}const s=rP(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var lP=(e,t)=>{const n=sP();let r=null;const s=(d,f)=>{r&&A(),po("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:d,mode:f})})},o=(d,f)=>{r&&A(),po("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(ta(d,f))})},i=(d,f)=>{r&&A();const h=ta(d,f);r={mode:f,lastCritical:d,lastLocation:h.source,lastCombine:null},n.add(()=>{po("onDragStart",()=>au(e().onDragStart,h,t,Na.onDragStart))})},a=(d,f)=>{const h=ip(f),g=nc(f);r||A();const w=!aP(d,r.lastCritical);w&&(r.lastCritical=d);const x=!oP(r.lastLocation,h);x&&(r.lastLocation=h);const v=!iP(r.lastCombine,g);if(v&&(r.lastCombine=g),!w&&!x&&!v)return;const m={...ta(d,r.mode),combine:g,destination:h};n.add(()=>{po("onDragUpdate",()=>au(e().onDragUpdate,m,t,Na.onDragUpdate))})},l=()=>{r||A(),n.flush()},c=d=>{r||A(),r=null,po("onDragEnd",()=>au(e().onDragEnd,d,t,Na.onDragEnd))};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const d={...ta(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},cP=(e,t)=>{const n=lP(e,t);return r=>s=>o=>{if(ie(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(ie(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),s(o),n.start(a,o.payload.movementMode);return}if(ie(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),s(o),n.drop(a);return}if(s(o),ie(o,"FLUSH")){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const uP=e=>t=>n=>{if(!ie(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&A(),e.dispatch(pp({completed:r.completed}))},dP=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>o=>{if((ie(o,"FLUSH")||ie(o,"DROP_COMPLETE")||ie(o,"DROP_ANIMATION_FINISHED"))&&r(),s(o),!ie(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(_w())}};n=requestAnimationFrame(()=>{n=null,t=Nt(window,[i])})}};var fP=e=>()=>t=>n=>{(ie(n,"DROP_COMPLETE")||ie(n,"FLUSH")||ie(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},pP=e=>{let t=!1;return()=>n=>r=>{if(ie(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(ie(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(ie(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const hP=e=>ie(e,"DROP_COMPLETE")||ie(e,"DROP_ANIMATE")||ie(e,"FLUSH");var mP=e=>t=>n=>r=>{if(hP(r)){e.stop(),n(r);return}if(ie(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&A(),e.start(s);return}n(r),e.scroll(t.getState())};const gP=e=>t=>n=>{if(t(n),!ie(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(bw({reason:r.reason})))},vP=U0;var yP=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:o})=>B0(NN,vP(uC(VN(n),fP(e),zN(e),XN,uP,dP,gP,mP(o),nP,pP(t),cP(r,s))));const lu=()=>({additions:{},removals:{},modified:{}});function wP({registry:e,callbacks:t}){let n=lu(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,d=Object.keys(l).map(g=>e.draggable.getById(g).getDimension(Me)).sort((g,w)=>g.descriptor.index-w.descriptor.index),f=Object.keys(u).map(g=>{const x=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:x}}),h={additions:d,removals:Object.keys(c),modified:f};n=lu(),t.publish(h)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],s()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=lu())}}}var Cw=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=ft({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Ew=()=>{const e=document.documentElement;return e||A(),e},Nw=()=>{const e=Ew();return Cw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},xP=()=>{const e=Dw(),t=Nw(),n=e.y,r=e.x,s=Ew(),o=s.clientWidth,i=s.clientHeight,a=r+o,l=n+i;return{frame:Wt({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Me,displacement:Me}}}},bP=({critical:e,scrollOptions:t,registry:n})=>{const r=xP(),s=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map(u=>u.callbacks.getDimensionAndWatchScroll(s,t)),a=n.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(s));return{dimensions:{draggables:nw(a),droppables:tw(i)},critical:e,viewport:r}};function $m(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var _P=(e,t)=>{let n=null;const r=wP({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(f,h)=>{e.droppable.exists(f)||A(),n&&t.updateDroppableIsEnabled({id:f,isEnabled:h})},o=(f,h)=>{n&&(e.droppable.exists(f)||A(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:h}))},i=(f,h)=>{n&&(e.droppable.exists(f)||A(),t.updateDroppableScroll({id:f,newScroll:h}))},a=(f,h)=>{n&&e.droppable.getById(f).callbacks.scroll(h)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(h=>h.callbacks.dragStopped()),n.unsubscribe(),n=null},c=f=>{n||A();const h=n.critical.draggable;f.type==="ADDITION"&&$m(e,h,f.value)&&r.add(f.value),f.type==="REMOVAL"&&$m(e,h,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:f=>{n&&A();const h=e.draggable.getById(f.draggableId),g=e.droppable.getById(h.descriptor.droppableId),w={draggable:h.descriptor,droppable:g.descriptor},x=e.subscribe(c);return n={critical:w,unsubscribe:x},bP({critical:w,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:l}},Pw=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",SP=e=>{window.scrollBy(e.x,e.y)};const kP=Ie(e=>tc(e).filter(t=>!(!t.isEnabled||!t.frame))),DP=(e,t)=>kP(t).find(r=>(r.frame||A(),fw(r.frame.pageMarginBox)(e)))||null;var CP=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return DP(e,n)};const fi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var EP=(e,t,n=()=>fi)=>{const r=n(),s=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:o}},Tw=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},mp=1,NP=(e,t,n=()=>fi)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return mp;const o=1-Tw({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(o);return Math.ceil(i)},PP=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,a=o,c=Date.now()-i;if(c>=o)return e;if(c<s)return mp;const u=Tw({startOfRange:s,endOfRange:a,current:c}),d=e*r.ease(u);return Math.ceil(d)},Bm=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=NP(e,t,s);return o===0?0:r?Math.max(PP(o,n,s),mp):o},Um=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=EP(e,r,o);return t[r.end]<t[r.start]?Bm({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*Bm({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})},TP=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const OP=ew(e=>e===0?0:e);var Ow=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=Um({container:t,distanceToEdges:i,dragStartTime:e,axis:ap,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),l=Um({container:t,distanceToEdges:i,dragStartTime:e,axis:ow,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=OP({x:l,y:a});if(nr(c,Me))return null;const u=TP({container:t,subject:n,proposedScroll:c});return u?nr(u,Me)?null:u:null};const RP=ew(e=>e===0?0:e>0?1:-1),gp=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=Fe(t,r),o={x:e(s.x,n.x),y:e(s.y,n.y)};return nr(o,Me)?null:o}})(),Rw=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=RP(n),o=gp({max:r,current:t,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},vp=(e,t)=>Rw({current:e.scroll.current,max:e.scroll.max,change:t}),jP=(e,t)=>{if(!vp(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return gp({current:r,max:n,change:t})},yp=(e,t)=>{const n=e.frame;return n?Rw({current:n.scroll.current,max:n.scroll.max,change:t}):!1},IP=(e,t)=>{const n=e.frame;return!n||!yp(e,t)?null:gp({current:n.scroll.current,max:n.scroll.max,change:t})};var MP=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=Ow({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return i&&vp(e,i)?i:null},AP=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const a=Ow({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return a&&yp(e,a)?a:null},Wm=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,f=MP({dragStartTime:t,viewport:d,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(f){r(f);return}}const c=CP({center:i,destination:ht(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=AP({dragStartTime:t,droppable:c,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});u&&s(c.descriptor.id,u)},LP=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>fi})=>{const r=ai(e),s=ai(t);let o=null;const i=c=>{o||A();const{shouldUseTimeDampening:u,dragStartTime:d}=o;Wm({state:c,scrollWindow:r,scrollDroppable:s,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{o&&A();const u=Date.now();let d=!1;const f=()=>{d=!0};Wm({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),o={dragStartTime:u,shouldUseTimeDampening:d},d&&i(c)},stop:()=>{o&&(r.cancel(),s.cancel(),o=null)},scroll:i}},FP=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const c=Fe(a.current.client.selection,l);e({client:c})},s=(a,l)=>{if(!yp(a,l))return l;const c=IP(a,l);if(!c)return t(a.descriptor.id,l),null;const u=ft(l,c);return t(a.descriptor.id,u),ft(l,u)},o=(a,l,c)=>{if(!a||!vp(l,c))return c;const u=jP(l,c);if(!u)return n(c),null;const d=ft(c,u);return n(d),ft(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=ht(a.impact);c||A();const u=s(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=o(a.isWindowScrollAllowed,d,u);f&&r(a,f)}},$P=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=LP({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=FP({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){s.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:s.start,stop:s.stop}};const js="data-rfd",Is=(()=>{const e=`${js}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Ld=(()=>{const e=`${js}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),BP=(()=>{const e=`${js}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Ym={contextId:`${js}-scroll-container-context-id`},UP=e=>t=>`[${t}="${e}"]`,ho=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),WP="pointer-events: none;";var YP=e=>{const t=UP(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Is.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:WP,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${Bo.outOfTheWay};
    `;return{selector:t(Ld.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(BP.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ho(i,"always"),resting:ho(i,"resting"),dragging:ho(i,"dragging"),dropAnimating:ho(i,"dropAnimating"),userCancel:ho(i,"userCancel")}};const mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,cu=()=>{const e=document.querySelector("head");return e||A(),e},Hm=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function HP(e,t){const n=ee(()=>YP(e),[e]),r=b.useRef(null),s=b.useRef(null),o=G(Ie(d=>{const f=s.current;f||A(),f.textContent=d}),[]),i=G(d=>{const f=r.current;f||A(),f.textContent=d},[]);mt(()=>{!r.current&&!s.current||A();const d=Hm(t),f=Hm(t);return r.current=d,s.current=f,d.setAttribute(`${js}-always`,e),f.setAttribute(`${js}-dynamic`,e),cu().appendChild(d),cu().appendChild(f),i(n.always),o(n.resting),()=>{const h=g=>{const w=g.current;w||A(),cu().removeChild(w),g.current=null};h(r),h(s)}},[t,i,o,n.always,n.resting,e]);const a=G(()=>o(n.dragging),[o,n.dragging]),l=G(d=>{if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=G(()=>{s.current&&o(n.resting)},[o,n.resting]);return ee(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function jw(e,t){return Array.from(e.querySelectorAll(t))}var Iw=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function oc(e){return e instanceof Iw(e).HTMLElement}function zP(e,t){const n=`[${Is.contextId}="${e}"]`,r=jw(document,n);if(!r.length)return null;const s=r.find(o=>o.getAttribute(Is.draggableId)===t);return!s||!oc(s)?null:s}function VP(e){const t=b.useRef({}),n=b.useRef(null),r=b.useRef(null),s=b.useRef(!1),o=G(function(f,h){const g={id:f,focus:h};return t.current[f]=g,function(){const x=t.current;x[f]!==g&&delete x[f]}},[]),i=G(function(f){const h=zP(e,f);h&&h!==document.activeElement&&h.focus()},[e]),a=G(function(f,h){n.current===f&&(n.current=h)},[]),l=G(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&i(f)}))},[i]),c=G(function(f){n.current=null;const h=document.activeElement;h&&h.getAttribute(Is.draggableId)===f&&(n.current=f)},[]);return mt(()=>(s.current=!0,function(){s.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),ee(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,c,l,a])}function GP(){const e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){const h=t.indexOf(d);h!==-1&&t.splice(h,1)}}function r(d){t.length&&t.forEach(f=>f(d))}function s(d){return e.draggables[d]||null}function o(d){const f=s(d);return f||A(),f}const i={register:d=>{e.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const h=e.draggables[f.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,h=s(f);h&&d.uniqueId===h.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:o,findById:s,exists:d=>!!s(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const f=a(d);return f||A(),f}const c={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:c,subscribe:n,clean:u}}function qP(){const e=ee(GP,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var wp=T.createContext(null),ml=()=>{const e=document.body;return e||A(),e};const KP={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},QP=e=>`rfd-announcement-${e}`;function JP(e){const t=ee(()=>QP(e),[e]),n=b.useRef(null);return b.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),dl(o.style,KP),ml().appendChild(o),function(){setTimeout(function(){const l=ml();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]),G(s=>{const o=n.current;if(o){o.textContent=s;return}},[])}const XP={separator:"::"};function xp(e,t=XP){const n=T.useId();return ee(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function ZP({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function eT({contextId:e,text:t}){const n=xp("hidden-text",{separator:"-"}),r=ee(()=>ZP({contextId:e,uniqueId:n}),[n,e]);return b.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",ml().appendChild(o),function(){const a=ml();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var ic=T.createContext(null);function Mw(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),t}function tT(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&A();const a={abandon:i};return e=a,a}function s(){e||A(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:o}}function pi(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const nT=9,rT=13,bp=27,Aw=32,sT=33,oT=34,iT=35,aT=36,lT=37,cT=38,uT=39,dT=40,fT={[rT]:!0,[nT]:!0};var Lw=e=>{fT[e.keyCode]&&e.preventDefault()};const ac=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Fw=0,zm=5;function pT(e,t){return Math.abs(t.x-e.x)>=zm||Math.abs(t.y-e.y)>=zm}const Vm={type:"IDLE"};function hT({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:o,clientX:i,clientY:a}=s;if(o!==Fw)return;const l={x:i,y:a},c=n();if(c.type==="DRAGGING"){s.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&A();const u=c.point;if(!pT(u,l))return;s.preventDefault();const d=c.actions.fluidLift(l);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:s=>{const o=n();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===bp){s.preventDefault(),e();return}Lw(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const o=n();if(o.type==="IDLE"&&A(),o.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:ac,fn:e}]}function mT(e){const t=b.useRef(Vm),n=b.useRef(tr),r=ee(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==Fw||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const h=e.tryGetLock(f,i,{sourceEvent:d});if(!h)return;d.preventDefault();const g={x:d.clientX,y:d.clientY};n.current(),c(h,g)}}),[e]),s=ee(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=e.findClosestDraggableId(u);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}),[e]),o=G(function(){const d={passive:!1,capture:!0};n.current=Nt(window,[s,r],d)},[s,r]),i=G(()=>{t.current.type!=="IDLE"&&(t.current=Vm,n.current(),o())},[o]),a=G(()=>{const u=t.current;i(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[i]),l=G(function(){const d={capture:!0,passive:!1},f=hT({cancel:a,completed:i,getPhase:()=>t.current,setPhase:h=>{t.current=h}});n.current=Nt(window,f,d)},[a,i]),c=G(function(d,f){t.current.type!=="IDLE"&&A(),t.current={type:"PENDING",point:f,actions:d},l()},[l]);mt(function(){return o(),function(){n.current()}},[o])}function gT(){}const vT={[oT]:!0,[sT]:!0,[aT]:!0,[iT]:!0};function yT(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===bp){s.preventDefault(),n();return}if(s.keyCode===Aw){s.preventDefault(),r();return}if(s.keyCode===dT){s.preventDefault(),e.moveDown();return}if(s.keyCode===cT){s.preventDefault(),e.moveUp();return}if(s.keyCode===uT){s.preventDefault(),e.moveRight();return}if(s.keyCode===lT){s.preventDefault(),e.moveLeft();return}if(vT[s.keyCode]){s.preventDefault();return}Lw(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ac,fn:n}]}function wT(e){const t=b.useRef(gT),n=ee(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Aw)return;const i=e.findClosestDraggableId(o);if(!i)return;const a=e.tryGetLock(i,u,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||A(),l=!1,t.current(),r()}t.current=Nt(window,yT(c,u),{capture:!0,passive:!1})}}),[e]),r=G(function(){const o={passive:!1,capture:!0};t.current=Nt(window,[n],o)},[n]);mt(function(){return r(),function(){t.current()}},[r])}const uu={type:"IDLE"},xT=120,bT=.15;function _T({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===bp&&n.preventDefault(),e()}},{eventName:ac,fn:e}]}function ST({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:o,clientY:i}=r.touches[0],a={x:o,y:i};r.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&A();const o=r.touches[0];if(!o||!(o.force>=bT))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:ac,fn:e}]}function kT(e){const t=b.useRef(uu),n=b.useRef(tr),r=G(function(){return t.current},[]),s=G(function(h){t.current=h},[]),o=ee(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const g=e.findClosestDraggableId(h);if(!g)return;const w=e.tryGetLock(g,a,{sourceEvent:h});if(!w)return;const x=h.touches[0],{clientX:v,clientY:m}=x,y={x:v,y:m};n.current(),d(w,y)}}),[e]),i=G(function(){const h={capture:!0,passive:!1};n.current=Nt(window,[o],h)},[o]),a=G(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),s(uu),n.current(),i())},[i,s]),l=G(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=G(function(){const h={capture:!0,passive:!1},g={cancel:l,completed:a,getPhase:r},w=Nt(window,ST(g),h),x=Nt(window,_T(g),h);n.current=function(){w(),x()}},[l,r,a]),u=G(function(){const h=r();h.type!=="PENDING"&&A();const g=h.actions.fluidLift(h.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[r,s]),d=G(function(h,g){r().type!=="IDLE"&&A();const w=setTimeout(u,xT);s({type:"PENDING",point:g,actions:h,longPressTimerId:w}),c()},[c,r,s,u]);mt(function(){return i(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(uu))}},[r,i,s]),mt(function(){return Nt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const DT=["input","button","textarea","select","option","optgroup","video","audio"];function $w(e,t){if(t==null)return!1;if(DT.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:$w(e,t.parentElement)}function CT(e,t){const n=t.target;return oc(n)?$w(e,n):!1}var ET=e=>Wt(e.getBoundingClientRect()).center;function NT(e){return e instanceof Iw(e).Element}const PT=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Bw(e,t){return e==null?null:e[PT](t)?e:Bw(e.parentElement,t)}function TT(e,t){return e.closest?e.closest(t):Bw(e,t)}function OT(e){return`[${Is.contextId}="${e}"]`}function RT(e,t){const n=t.target;if(!NT(n))return null;const r=OT(e),s=TT(n,r);return!s||!oc(s)?null:s}function jT(e,t){const n=RT(e,t);return n?n.getAttribute(Is.draggableId):null}function IT(e,t){const n=`[${Ld.contextId}="${e}"]`,s=jw(document,n).find(o=>o.getAttribute(Ld.id)===t);return!s||!oc(s)?null:s}function MT(e){e.preventDefault()}function na({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Uw({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!Pw(t.getState(),r))}function AT({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:o,sourceEvent:i}){if(!Uw({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const l=r.draggable.getById(s),c=IT(t,l.descriptor.id);if(!c||i&&!l.options.canDragInteractiveElements&&CT(c,i))return null;const u=e.claim(o||tr);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return e.isActive(u)}function g(S,k){na({expected:S,phase:d,isLockActive:h,shouldWarn:!0})&&n.dispatch(k())}const w=g.bind(null,"DRAGGING");function x(S){function k(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(k(),A()),n.dispatch(TN(S.liftActionArgs)),d="DRAGGING";function C(E,N={shouldBlockNextClick:!1}){if(S.cleanup(),N.shouldBlockNextClick){const P=Nt(window,[{eventName:"click",fn:MT,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}k(),n.dispatch(bw({reason:E}))}return{isActive:()=>na({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,drop:E=>C("DROP",E),cancel:E=>C("CANCEL",E),...S.actions}}function v(S){const k=ai(E=>{w(()=>xw({client:E}))});return{...x({liftActionArgs:{id:s,clientSelection:S,movementMode:"FLUID"},cleanup:()=>k.cancel(),actions:{move:k}}),move:k}}function m(){const S={moveUp:()=>w($N),moveRight:()=>w(UN),moveDown:()=>w(BN),moveLeft:()=>w(WN)};return x({liftActionArgs:{id:s,clientSelection:ET(c),movementMode:"SNAP"},cleanup:tr,actions:S})}function y(){na({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>na({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:v,snapLift:m,abort:y}}const LT=[mT,wT,kT];function FT({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const o=[...s?LT:[],...r||[]],i=b.useState(()=>tT())[0],a=G(function(x,v){pi(x)&&!pi(v)&&i.tryAbandon()},[i]);mt(function(){let x=t.getState();return t.subscribe(()=>{const m=t.getState();a(x,m),x=m})},[i,t,a]),mt(()=>i.tryAbandon,[i.tryAbandon]);const l=G(w=>Uw({lockAPI:i,registry:n,store:t,draggableId:w}),[i,n,t]),c=G((w,x,v)=>AT({lockAPI:i,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:x||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[e,i,n,t]),u=G(w=>jT(e,w),[e]),d=G(w=>{const x=n.draggable.findById(w);return x?x.options:null},[n.draggable]),f=G(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(fp()))},[i,t]),h=G(()=>i.isClaimed(),[i]),g=ee(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:h}),[l,c,u,d,f,h]);for(let w=0;w<o.length;w++)o[w](g)}const $T=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};bi.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),BT=e=>({...fi,...e.autoScrollerOptions,durationDampening:{...fi.durationDampening,...e.autoScrollerOptions}});function mo(e){return e.current||A(),e.current}function UT(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:o}=e,i=b.useRef(null),a=Mw(e),l=G(()=>$T(a.current),[a]),c=G(()=>BT(a.current),[a]),u=JP(t),d=eT({contextId:t,text:o}),f=HP(t,s),h=G(P=>{mo(i).dispatch(P)},[]),g=ee(()=>xm({publishWhileDragging:RN,updateDroppableScroll:IN,updateDroppableIsEnabled:MN,updateDroppableIsCombineEnabled:AN,collectionStarting:jN},h),[h]),w=qP(),x=ee(()=>_P(w,g),[w,g]),v=ee(()=>$P({scrollWindow:SP,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:c,...xm({move:xw},h)}),[x.scrollDroppable,h,c]),m=VP(t),y=ee(()=>yP({announce:u,autoScroller:v,dimensionMarshal:x,focusMarshal:m,getResponders:l,styleMarshal:f}),[u,v,x,m,l,f]);i.current=y;const _=G(()=>{const P=mo(i);P.getState().phase!=="IDLE"&&P.dispatch(fp())},[]),S=G(()=>{const P=mo(i).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),k=ee(()=>({isDragging:S,tryAbort:_}),[S,_]);n(k);const C=G(P=>Pw(mo(i).getState(),P),[]),E=G(()=>br(mo(i).getState()),[]),N=ee(()=>({marshal:x,focus:m,contextId:t,canLift:C,isMovementAllowed:E,dragHandleUsageInstructionsId:d,registry:w}),[t,x,d,m,C,E,w]);return FT({contextId:t,store:y,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>_,[_]),T.createElement(ic.Provider,{value:N},T.createElement(dE,{context:wp,store:y},e.children))}function WT(){return T.useId()}function YT(e){const t=WT(),n=e.dragHandleUsageInstructions||Na.dragHandleUsageInstructions;return T.createElement(wE,null,r=>T.createElement(UT,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Gm={dragging:5e3,dropAnimating:4500},HT=(e,t)=>t?Bo.drop(t.duration):e?Bo.snap:Bo.fluid,zT=(e,t)=>{if(e)return t?di.opacity.drop:di.opacity.combining},VT=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function GT(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:o}=e,i=!!s,a=VT(e),l=!!o,c=l?Md.drop(r,i):Md.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:HT(a,o),transform:c,opacity:zT(i,l),zIndex:l?Gm.dropAnimating:Gm.dragging,pointerEvents:"none"}}function qT(e){return{transform:Md.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function KT(e){return e.type==="DRAGGING"?GT(e):qT(e)}function QT(e,t,n=Me){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=q0(s,r),i=ul(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:o,page:i}}function JT(e){const t=xp("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}=e,l=ee(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}),[o,a,i]),c=G(h=>{const g=s();return g||A(),QT(n,g,h)},[n,s]),u=ee(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),d=b.useRef(u),f=b.useRef(!0);mt(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),mt(()=>{if(f.current){f.current=!1;return}const h=d.current;d.current=u,r.draggable.update(u,h)},[u,r.draggable])}var _p=T.createContext(null);function gl(e){const t=b.useContext(e);return t||A(),t}function XT(e){e.preventDefault()}const ZT=e=>{const t=b.useRef(null),n=G((k=null)=>{t.current=k},[]),r=G(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:i}=gl(ic),{type:a,droppableId:l}=gl(_p),c=ee(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:h,canDragInteractiveElements:g,isClone:w,mapped:x,dropAnimationFinished:v}=e;if(!w){const k=ee(()=>({descriptor:c,registry:i,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:h,isEnabled:f}),[c,i,r,g,h,f]);JT(k)}const m=ee(()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:XT}:null,[s,o,d,f]),y=G(k=>{x.type==="DRAGGING"&&x.dropping&&k.propertyName==="transform"&&bi.flushSync(v)},[v,x]),_=ee(()=>{const k=KT(x),C=x.type==="DRAGGING"&&x.dropping?y:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":d,style:k,onTransitionEnd:C},dragHandleProps:m}},[s,m,d,x,y,n]),S=ee(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return T.createElement(T.Fragment,null,u(_,x.snapshot,S))};var Ww=(e,t)=>e===t,Yw=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const eO=e=>e.combine?e.combine.draggableId:null,tO=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function nO(){const e=Ie((s,o)=>({x:s,y:o})),t=Ie((s,o,i=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null})),n=Ie((s,o,i,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:s,dimension:i,forceShouldAnimate:u,snapshot:t(o,a,l,c,null)}}));return(s,o)=>{if(pi(s)){if(s.critical.draggable.id!==o.draggableId)return null;const i=s.current.client.offset,a=s.dimensions.draggables[o.draggableId],l=ht(s.impact),c=tO(s.impact),u=s.forceShouldAnimate;return n(e(i.x,i.y),s.movementMode,a,o.isClone,l,c,u)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=s.dimensions.draggables[o.draggableId],c=i.result,u=c.mode,d=Yw(c),f=eO(c),g={duration:s.dropDuration,curve:hp.drop,moveTo:s.newHomeClientOffset,opacity:f?di.opacity.drop:null,scale:f?di.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:l,dropping:g,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:t(u,a,d,f,g)}}}return null}}function Hw(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const rO={mapped:{type:"SECONDARY",offset:Me,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Hw(null)}};function sO(){const e=Ie((i,a)=>({x:i,y:a})),t=Ie(Hw),n=Ie((i,a=null,l)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=i=>i?n(Me,i,!0):null,s=(i,a,l,c)=>{const u=l.displaced.visible[i],d=!!(c.inVirtualList&&c.effected[i]),f=nc(l),h=f&&f.draggableId===i?a:null;if(!u){if(!d)return r(h);if(l.displaced.invisible[i])return null;const x=Js(c.displacedBy.point),v=e(x.x,x.y);return n(v,h,!0)}if(d)return r(h);const g=l.displacedBy.point,w=e(g.x,g.y);return n(w,h,u.shouldAnimate)};return(i,a)=>{if(pi(i))return i.critical.draggable.id===a.draggableId?null:s(a.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const l=i.completed;return l.result.draggableId===a.draggableId?null:s(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const oO=()=>{const e=nO(),t=sO();return(r,s)=>e(r,s)||t(r,s)||rO},iO={dropAnimationFinished:_w},aO=G0(oO,iO,null,{context:wp,areStatePropsEqual:Ww})(ZT);function zw(e){return gl(_p).isUsingCloneFor===e.draggableId&&!e.isClone?null:T.createElement(aO,e)}function lO(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return T.createElement(zw,dl({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Vw=e=>t=>e===t,cO=Vw("scroll"),uO=Vw("auto"),qm=(e,t)=>t(e.overflowX)||t(e.overflowY),dO=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return qm(n,cO)||qm(n,uO)},fO=()=>!1,Gw=e=>e==null?null:e===document.body?fO()?e:null:e===document.documentElement?null:dO(e)?e:Gw(e.parentElement);var Fd=e=>({x:e.scrollLeft,y:e.scrollTop});const qw=e=>e?window.getComputedStyle(e).position==="fixed"?!0:qw(e.parentElement):!1;var pO=e=>{const t=Gw(e),n=qw(e);return{closestScrollable:t,isFixedOnPage:n}},hO=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:o,page:i,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:h}=a,g=Cw({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:h,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:g,diff:{value:Me,displacement:Me}}}})(),c=s==="vertical"?ap:ow,u=Rs({page:i,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:o,page:i,frame:l,subject:u}};const mO=(e,t)=>{const n=K0(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=s+t.scrollWidth,l=rp({top:r,right:i,bottom:o,left:s},n.border);return sp({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var gO=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:a})=>{const l=n.closestScrollable,c=mO(e,l),u=ul(c,r),d=(()=>{if(!l)return null;const h=K0(l),g={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:h,page:ul(h,r),scroll:Fd(l),scrollSize:g,shouldClipSubject:a}})();return hO({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:c,page:u,closest:d})};const vO={passive:!1},yO={passive:!0};var Km=e=>e.shouldPublishImmediately?vO:yO;const ra=e=>e&&e.env.closestScrollable||null;function wO(e){const t=b.useRef(null),n=gl(ic),r=xp("droppable"),{registry:s,marshal:o}=n,i=Mw(e),a=ee(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=b.useRef(a),c=ee(()=>Ie((_,S)=>{t.current||A();const k={x:_,y:S};o.updateDroppableScroll(a.id,k)}),[a.id,o]),u=G(()=>{const _=t.current;return!_||!_.env.closestScrollable?Me:Fd(_.env.closestScrollable)},[]),d=G(()=>{const _=u();c(_.x,_.y)},[u,c]),f=ee(()=>ai(d),[d]),h=G(()=>{const _=t.current,S=ra(_);if(_&&S||A(),_.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),g=G((_,S)=>{t.current&&A();const k=i.current,C=k.getDroppableRef();C||A();const E=pO(C),N={ref:C,descriptor:a,env:E,scrollOptions:S};t.current=N;const P=gO({ref:C,descriptor:a,env:E,windowScroll:_,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),j=E.closestScrollable;return j&&(j.setAttribute(Ym.contextId,n.contextId),j.addEventListener("scroll",h,Km(N.scrollOptions))),P},[n.contextId,a,h,i]),w=G(()=>{const _=t.current,S=ra(_);return _&&S||A(),Fd(S)},[]),x=G(()=>{const _=t.current;_||A();const S=ra(_);t.current=null,S&&(f.cancel(),S.removeAttribute(Ym.contextId),S.removeEventListener("scroll",h,Km(_.scrollOptions)))},[h,f]),v=G(_=>{const S=t.current;S||A();const k=ra(S);k||A(),k.scrollTop+=_.y,k.scrollLeft+=_.x},[]),m=ee(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:w,dragStopped:x,scroll:v}),[x,g,w,v]),y=ee(()=>({uniqueId:r,descriptor:a,callbacks:m}),[m,a,r]);mt(()=>(l.current=y.descriptor,s.droppable.register(y),()=>{t.current&&x(),s.droppable.unregister(y)}),[m,a,x,y,o,s.droppable]),mt(()=>{t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),mt(()=>{t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function du(){}const Qm={width:0,height:0,margin:CE},xO=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Qm:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},bO=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=xO({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Bo.placeholder:null}},_O=e=>{const t=b.useRef(null),n=G(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:o,contextId:i}=e,[a,l]=b.useState(e.animate==="open");b.useEffect(()=>a?r!=="open"?(n(),l(!1),du):t.current?du:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):du,[r,a,n]);const c=G(d=>{d.propertyName==="height"&&(s(),r==="close"&&o())},[r,o,s]),u=bO({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return T.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":i,onTransitionEnd:c,ref:e.innerRef})};var SO=T.memo(_O);class kO extends T.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const DO=e=>{const t=b.useContext(ic);t||A();const{contextId:n,isMovementAllowed:r}=t,s=b.useRef(null),o=b.useRef(null),{children:i,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:h,snapshot:g,useClone:w,updateViewportMaxScroll:x,getContainerForClone:v}=e,m=G(()=>s.current,[]),y=G((j=null)=>{s.current=j},[]);G(()=>o.current,[]);const _=G((j=null)=>{o.current=j},[]),S=G(()=>{r()&&x({maxScroll:Nw()})},[r,x]);wO({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:m});const k=ee(()=>T.createElement(kO,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:j,data:B,animate:M})=>T.createElement(SO,{placeholder:B,onClose:j,innerRef:_,animate:M,contextId:n,onTransitionEnd:S})),[n,S,e.placeholder,e.shouldAnimatePlaceholder,_]),C=ee(()=>({innerRef:y,placeholder:k,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,k,y]),E=w?w.dragging.draggableId:null,N=ee(()=>({droppableId:a,type:l,isUsingCloneFor:E}),[a,E,l]);function P(){if(!w)return null;const{dragging:j,render:B}=w,M=T.createElement(zw,{draggableId:j.draggableId,index:j.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(V,H)=>B(V,H,j));return Zy.createPortal(M,v())}return T.createElement(_p.Provider,{value:N},i(C,g),P())};function CO(){return document.body||A(),document.body}const Jm={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:CO},Kw=e=>{let t={...e},n;for(n in Jm)e[n]===void 0&&(t={...t,[n]:Jm[n]});return t},fu=(e,t)=>e===t.droppable.type,Xm=(e,t)=>t.draggables[e.draggable.id],EO=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Ie(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=Ie((o,i,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===o){const g=u?{render:u,dragging:n(c.descriptor)}:null,w={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:g}}if(!i)return t;if(!l)return e;const h={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(o,i)=>{const a=Kw(i),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(pi(o)){const f=o.critical;if(!fu(c,f))return t;const h=Xm(f,o.dimensions),g=ht(o.impact)===l;return r(l,u,g,g,h,d)}if(o.phase==="DROP_ANIMATING"){const f=o.completed;if(!fu(c,f.critical))return t;const h=Xm(f.critical,o.dimensions);return r(l,u,Yw(f.result)===l,ht(f.impact)===l,h,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const f=o.completed;if(!fu(c,f.critical))return t;const h=ht(f.impact)===l,g=!!(f.impact.at&&f.impact.at.type==="COMBINE"),w=f.critical.droppable.id===l;return h?g?e:t:w?e:t}return t}},NO={updateViewportMaxScroll:FN},PO=G0(EO,NO,(e,t,n)=>({...Kw(n),...e,...t}),{context:wp,areStatePropsEqual:Ww})(DO);function TO(){const[e,t]=b.useState([]),[n,r]=b.useState([]),[s,o]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{console.log(" Fetching kanban data (safe version)...");const{data:a,error:l}=await q.from("deal_stage").select("id, label, description, sort_order, active").eq("active",!0).order("sort_order",{ascending:!0});if(console.log(" Stages:",a),l)throw console.error(" Stage error:",l),l;const{data:c,error:u}=await q.from("deal").select("id, deal_name, fee, deal_value, closed_date, stage_id, kanban_position, client_id, created_at").order("kanban_position",{ascending:!0});if(console.log(" Deals:",(c==null?void 0:c.length)||0,"deals fetched"),u)throw console.error(" Deal error:",u),u;const{data:d,error:f}=await q.from("client").select("id, client_name");console.log(" Clients:",(d==null?void 0:d.length)||0,"clients fetched"),f&&console.warn(" Client error (non-fatal):",f);const h=new Map;d==null||d.forEach(y=>{h.set(y.id,y.client_name)});const g=c.map(y=>({id:y.id,deal_name:y.deal_name,fee:y.fee,deal_value:y.deal_value,closed_date:y.closed_date,stage_id:y.stage_id,kanban_position:y.kanban_position,client_name:y.client_id&&h.get(y.client_id)||null,created_at:y.created_at})),w=new Map;a.forEach(y=>{w.set(y.id,y.label)});const x=new Set(a.map(y=>y.id)),v=new Date;v.setFullYear(v.getFullYear()-2);const m=g.filter(y=>!y.stage_id||!x.has(y.stage_id)?!1:w.get(y.stage_id)==="Lost"?y.created_at?new Date(y.created_at)>=v:!1:!0);console.log(" Final cards:",m.length),console.log(" Final columns:",a.length),t(a||[]),r(m)}catch(a){console.error(" Error:",a)}finally{o(!1)}})()},[]),{columns:e,cards:n,loading:s}}function OO(){const{columns:e,cards:t,loading:n}=TO(),[r,s]=b.useState([]);b.useEffect(()=>{s(t)},[t]),b.useEffect(()=>{document.title="Master Pipeline"},[]);const o=async l=>{const{destination:c,draggableId:u}=l;if(!c)return;const d=c.droppableId,f=[...r],h=f.find(x=>x.id===u);if(!h)return;h.stage_id=d;const g=f.filter(x=>x.stage_id===d&&x.id!==u).sort((x,v)=>(x.kanban_position??0)-(v.kanban_position??0));g.splice(c.index,0,h),g.forEach((x,v)=>{x.kanban_position=v}),s(f);const w=g.map(x=>q.from("deal").update({stage_id:x.stage_id,kanban_position:x.kanban_position}).eq("id",x.id));await Promise.all(w)},i=(l,c=0)=>typeof l=="number"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:c,maximumFractionDigits:c}).format(l):"--",a=new Date().getFullYear();return n?p.jsx("div",{className:"p-4",children:"Loading..."}):p.jsxs("div",{className:"p-4 overflow-x-auto bg-gray-100 min-h-screen",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Master Pipeline"}),p.jsx("div",{className:"flex min-w-max gap-[2px]",children:p.jsx(YT,{onDragEnd:o,children:e.map((l,c)=>{let u=r.filter(g=>g.stage_id===l.id).sort((g,w)=>(g.kanban_position??0)-(w.kanban_position??0));l.label==="Closed Paid"&&(u=u.filter(g=>g.closed_date?new Date(g.closed_date).getFullYear()===a:!1));const d=u.reduce((g,w)=>g+(w.fee??0),0),f=c===e.length-1,h=c===0;return p.jsx(PO,{droppableId:l.id,children:(g,w)=>p.jsxs("div",{ref:g.innerRef,...g.droppableProps,className:`relative min-w-[240px] max-w-[280px] bg-white shadow-sm flex flex-col ${w.isDraggingOver?"bg-blue-50":""}`,children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:`chevron-header ${h?"first":""} ${f?"last":""} flex items-center justify-center`,children:p.jsxs("div",{className:"text-center font-semibold text-sm",children:[l.label," (",u.length,")"]})}),p.jsx("div",{className:"bg-white text-center py-2 border-b",children:p.jsx("div",{className:"text-green-600 text-lg font-bold",children:i(d)})})]}),p.jsxs("div",{className:"p-2 flex-1",children:[u.map((x,v)=>p.jsx(lO,{draggableId:x.id,index:v,children:(m,y)=>p.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:`bg-white p-2 rounded shadow mb-2 border text-sm ${y.isDragging?"bg-yellow-100":""}`,children:[p.jsx("div",{className:"font-semibold",children:p.jsx(oi,{to:`/deal/${x.id}`,className:"text-blue-600 hover:underline",children:x.deal_name||"Untitled Deal"})}),p.jsx("div",{className:"text-gray-700",children:i(x.fee)}),p.jsx("div",{className:"text-gray-500 text-xs",children:x.client_name||"No Client"}),p.jsx("div",{className:"text-gray-800",children:i(x.deal_value)})]})},x.id)),g.placeholder]})]})},l.id)})})})]})}function pu(e,t=0){return e==null||isNaN(e)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}function RO(e,t=2){return typeof e!="number"||isNaN(e)?"":`${e.toFixed(t)}%`}function jO(e){return typeof e!="number"?"":Math.round(e)+"%"}function sa({label:e,value:t,onChange:n,format:r,editingField:s,setEditingField:o,fieldKey:i}){const a=s===i,l=b.useRef(null);b.useEffect(()=>{a&&l.current&&l.current.focus()},[a]);const c=()=>{o(null)};return p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a?p.jsx("input",{ref:l,type:"number",value:t??"",onChange:u=>n(u.target.value),onBlur:c,className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}):p.jsx("div",{onClick:()=>o(i),className:"mt-1 p-2 bg-gray-100 rounded text-sm cursor-pointer",children:t==null||t===""?"":r(t)})]})}function Qw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Qw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Qw(e))&&(r&&(r+=" "),r+=t);return r}const Jw=6048e5,IO=864e5,lc=6e4,cc=36e5,MO=1e3,Zm=Symbol.for("constructDateFrom");function ce(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Zm in e?e[Zm](t):e instanceof Date?new e.constructor(t):new Date(t)}function z(e,t){return ce(t||e,e)}function zt(e,t,n){const r=z(e,n==null?void 0:n.in);return isNaN(t)?ce((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function qt(e,t,n){const r=z(e,n==null?void 0:n.in);if(isNaN(t))return ce((n==null?void 0:n.in)||e,NaN);if(!t)return r;const s=r.getDate(),o=ce((n==null?void 0:n.in)||e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const i=o.getDate();return s>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}function Xw(e,t,n){return ce((n==null?void 0:n.in)||e,+z(e)+t)}function AO(e,t,n){return Xw(e,t*cc,n)}let LO={};function Vr(){return LO}function On(e,t){var a,l,c,u;const n=Vr(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=z(e,t==null?void 0:t.in),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ms(e,t){return On(e,{...t,weekStartsOn:1})}function Zw(e,t){const n=z(e,t==null?void 0:t.in),r=n.getFullYear(),s=ce(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=Ms(s),i=ce(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Ms(i);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function vl(e){const t=z(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function In(e,...t){const n=ce.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Br(e,t){const n=z(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function As(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t),o=Br(r),i=Br(s),a=+o-vl(o),l=+i-vl(i);return Math.round((a-l)/IO)}function FO(e,t){const n=Zw(e,t),r=ce((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ms(r)}function $d(e,t,n){const r=z(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*lc),r}function Sp(e,t,n){return qt(e,t*3,n)}function $O(e,t,n){return Xw(e,t*1e3,n)}function yl(e,t,n){return zt(e,t*7,n)}function bn(e,t,n){return qt(e,t*12,n)}function eg(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=ce.bind(null,s));const o=z(s,r);(!n||n<o||isNaN(+o))&&(n=o)}),ce(r,n||NaN)}function tg(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=ce.bind(null,s));const o=z(s,r);(!n||n>o||isNaN(+o))&&(n=o)}),ce(r,n||NaN)}function BO(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t);return+Br(r)==+Br(s)}function _n(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wl(e){return!(!_n(e)&&typeof e!="number"||isNaN(+z(e)))}function xl(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t),o=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return o*12+i}function Or(e,t){const n=z(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function bl(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t),o=r.getFullYear()-s.getFullYear(),i=Or(r)-Or(s);return o*4+i}function _l(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t);return r.getFullYear()-s.getFullYear()}function UO(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t),o=ng(r,s),i=Math.abs(As(r,s));r.setDate(r.getDate()-o*i);const a=+(ng(r,s)===-o),l=o*(i-a);return l===0?0:l}function ng(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ex(e,t){const n=z(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function tx(e,t){const n=z(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Bd(e,t){const n=z(e,t==null?void 0:t.in),r=n.getMonth(),s=r-r%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}function nx(e,t){const n=z(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function rx(e,t){const n=z(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function uc(e,t){const n=z(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function WO(e,t){var a,l,c,u;const n=Vr(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=z(e,t==null?void 0:t.in),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}const YO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HO=(e,t,n)=>{let r;const s=YO[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qO={date:hu({formats:zO,defaultWidth:"full"}),time:hu({formats:VO,defaultWidth:"full"}),dateTime:hu({formats:GO,defaultWidth:"full"})},KO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QO=(e,t,n,r)=>KO[e];function go(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const JO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rR=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sR={ordinalNumber:rR,era:go({values:JO,defaultWidth:"wide"}),quarter:go({values:XO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:go({values:ZO,defaultWidth:"wide"}),day:go({values:eR,defaultWidth:"wide"}),dayPeriod:go({values:tR,defaultWidth:"wide",formattingValues:nR,defaultFormattingWidth:"wide"})};function vo(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?iR(a,d=>d.test(i)):oR(a,d=>d.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}function oR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function iR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function aR(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const lR=/^(\d+)(th|st|nd|rd)?/i,cR=/\d+/i,uR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dR={any:[/^b/i,/^(a|c)/i]},fR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pR={any:[/1/i,/2/i,/3/i,/4/i]},hR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xR={ordinalNumber:aR({matchPattern:lR,parsePattern:cR,valueCallback:e=>parseInt(e,10)}),era:vo({matchPatterns:uR,defaultMatchWidth:"wide",parsePatterns:dR,defaultParseWidth:"any"}),quarter:vo({matchPatterns:fR,defaultMatchWidth:"wide",parsePatterns:pR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vo({matchPatterns:hR,defaultMatchWidth:"wide",parsePatterns:mR,defaultParseWidth:"any"}),day:vo({matchPatterns:gR,defaultMatchWidth:"wide",parsePatterns:vR,defaultParseWidth:"any"}),dayPeriod:vo({matchPatterns:yR,defaultMatchWidth:"any",parsePatterns:wR,defaultParseWidth:"any"})},sx={code:"en-US",formatDistance:HO,formatLong:qO,formatRelative:QO,localize:sR,match:xR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bR(e,t){const n=z(e,t==null?void 0:t.in);return As(n,uc(n))+1}function kp(e,t){const n=z(e,t==null?void 0:t.in),r=+Ms(n)-+FO(n);return Math.round(r/Jw)+1}function Dp(e,t){var u,d,f,h;const n=z(e,t==null?void 0:t.in),r=n.getFullYear(),s=Vr(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(f=s.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=ce((t==null?void 0:t.in)||e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=On(i,t),l=ce((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=On(l,t);return+n>=+a?r+1:+n>=+c?r:r-1}function _R(e,t){var a,l,c,u;const n=Vr(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=Dp(e,t),o=ce((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),On(o,t)}function ox(e,t){const n=z(e,t==null?void 0:t.in),r=+On(n,t)-+_R(n,t);return Math.round(r/Jw)+1}function ae(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ln={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ae(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ae(n+1,2)},d(e,t){return ae(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ae(e.getHours()%12||12,t.length)},H(e,t){return ae(e.getHours(),t.length)},m(e,t){return ae(e.getMinutes(),t.length)},s(e,t){return ae(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ae(s,t.length)}},Zr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rg={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ln.y(e,t)},Y:function(e,t,n,r){const s=Dp(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return ae(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):ae(o,t.length)},R:function(e,t){const n=Zw(e);return ae(n,t.length)},u:function(e,t){const n=e.getFullYear();return ae(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ae(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ae(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ln.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ae(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=ox(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ae(s,t.length)},I:function(e,t,n){const r=kp(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ae(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ln.d(e,t)},D:function(e,t,n){const r=bR(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ae(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ae(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ae(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ae(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Zr.noon:r===0?s=Zr.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Zr.evening:r>=12?s=Zr.afternoon:r>=4?s=Zr.morning:s=Zr.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ln.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ln.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ae(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ae(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ln.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ln.s(e,t)},S:function(e,t){return Ln.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return og(r);case"XXXX":case"XX":return _r(r);case"XXXXX":case"XXX":default:return _r(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return og(r);case"xxxx":case"xx":return _r(r);case"xxxxx":case"xxx":default:return _r(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sg(r,":");case"OOOO":default:return"GMT"+_r(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sg(r,":");case"zzzz":default:return"GMT"+_r(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return ae(r,t.length)},T:function(e,t,n){return ae(+e,t.length)}};function sg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+ae(o,2)}function og(e,t){return e%60===0?(e>0?"-":"+")+ae(Math.abs(e)/60,2):_r(e,t)}function _r(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ae(Math.trunc(r/60),2),o=ae(r%60,2);return n+s+t+o}const ig=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ix=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},SR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return ig(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",ig(r,t)).replace("{{time}}",ix(s,t))},Ud={p:ix,P:SR},kR=/^D+$/,DR=/^Y+$/,CR=["D","DD","YY","YYYY"];function ax(e){return kR.test(e)}function lx(e){return DR.test(e)}function Wd(e,t,n){const r=ER(e,t,n);if(console.warn(r),CR.includes(e))throw new RangeError(r)}function ER(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TR=/^'([^]*?)'?$/,OR=/''/g,RR=/[a-zA-Z]/;function Yd(e,t,n){var u,d,f,h,g,w,x,v;const r=Vr(),s=(n==null?void 0:n.locale)??r.locale??sx,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((w=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,a=z(e,n==null?void 0:n.in);if(!wl(a))throw new RangeError("Invalid time value");let l=t.match(PR).map(m=>{const y=m[0];if(y==="p"||y==="P"){const _=Ud[y];return _(m,s.formatLong)}return m}).join("").match(NR).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:jR(m)};if(rg[y])return{isToken:!0,value:m};if(y.match(RR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&lx(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ax(y))&&Wd(y,t,String(e));const _=rg[y[0]];return _(a,y,s.localize,c)}).join("")}function jR(e){const t=e.match(TR);return t?t[1].replace(OR,"'"):e}function ag(e,t){return z(e,t==null?void 0:t.in).getDate()}function IR(e,t){return z(e,t==null?void 0:t.in).getDay()}function MR(e,t){const n=z(e,t==null?void 0:t.in),r=n.getFullYear(),s=n.getMonth(),o=ce(n,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function AR(){return Object.assign({},Vr())}function Sn(e,t){return z(e,t==null?void 0:t.in).getHours()}function LR(e,t){const n=z(e,t==null?void 0:t.in).getDay();return n===0?7:n}function kn(e,t){return z(e,t==null?void 0:t.in).getMinutes()}function Ve(e,t){return z(e,t==null?void 0:t.in).getMonth()}function rr(e){return z(e).getSeconds()}function Hd(e){return+z(e)}function Q(e,t){return z(e,t==null?void 0:t.in).getFullYear()}function lr(e,t){return+z(e)>+z(t)}function Ur(e,t){return+z(e)<+z(t)}function FR(e,t){return+z(e)==+z(t)}function $R(e,t){const n=BR(t)?new t(0):ce(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function BR(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const UR=10;class cx{constructor(){U(this,"subPriority",0)}validate(t,n){return!0}}class WR extends cx{constructor(t,n,r,s,o){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class YR extends cx{constructor(n,r){super();U(this,"priority",UR);U(this,"subPriority",-1);this.context=n||(s=>ce(r,s))}set(n,r){return r.timestampIsSet?n:ce(n,$R(n,this.context))}}class se{run(t,n,r,s){const o=this.parse(t,n,r,s);return o?{setter:new WR(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,r){return!0}}class HR extends se{constructor(){super(...arguments);U(this,"priority",140);U(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const ke={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function De(e,t){return e&&{value:t(e.value),rest:e.rest}}function ye(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function rn(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(s*cc+o*lc+i*MO),rest:t.slice(n[0].length)}}function ux(e){return ye(ke.anyDigitsSigned,e)}function _e(e,t){switch(e){case 1:return ye(ke.singleDigit,t);case 2:return ye(ke.twoDigits,t);case 3:return ye(ke.threeDigits,t);case 4:return ye(ke.fourDigits,t);default:return ye(new RegExp("^\\d{1,"+e+"}"),t)}}function Sl(e,t){switch(e){case 1:return ye(ke.singleDigitSigned,t);case 2:return ye(ke.twoDigitsSigned,t);case 3:return ye(ke.threeDigitsSigned,t);case 4:return ye(ke.fourDigitsSigned,t);default:return ye(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Cp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dx(e,t){const n=t>0,r=n?t:1-t;let s;if(r<=50)s=e||100;else{const o=r+50,i=Math.trunc(o/100)*100,a=e>=o%100;s=e+i-(a?100:0)}return n?s:1-s}function fx(e){return e%400===0||e%4===0&&e%100!==0}class zR extends se{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const o=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return De(_e(4,n),o);case"yo":return De(s.ordinalNumber(n,{unit:"year"}),o);default:return De(_e(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const o=n.getFullYear();if(s.isTwoDigitYear){const a=dx(s.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const i=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class VR extends se{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const o=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return De(_e(4,n),o);case"Yo":return De(s.ordinalNumber(n,{unit:"year"}),o);default:return De(_e(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,o){const i=Dp(n,o);if(s.isTwoDigitYear){const l=dx(s.year,i);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),On(n,o)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),On(n,o)}}class GR extends se{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Sl(r==="R"?4:r.length,n)}set(n,r,s){const o=ce(n,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),Ms(o)}}class qR extends se{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Sl(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class KR extends se{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return _e(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class QR extends se{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return _e(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class JR extends se{constructor(){super(...arguments);U(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);U(this,"priority",110)}parse(n,r,s){const o=i=>i-1;switch(r){case"M":return De(ye(ke.month,n),o);case"MM":return De(_e(2,n),o);case"Mo":return De(s.ordinalNumber(n,{unit:"month"}),o);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class XR extends se{constructor(){super(...arguments);U(this,"priority",110);U(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const o=i=>i-1;switch(r){case"L":return De(ye(ke.month,n),o);case"LL":return De(_e(2,n),o);case"Lo":return De(s.ordinalNumber(n,{unit:"month"}),o);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function ZR(e,t,n){const r=z(e,n==null?void 0:n.in),s=ox(r,n)-t;return r.setDate(r.getDate()-s*7),z(r,n==null?void 0:n.in)}class ej extends se{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return ye(ke.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return _e(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,o){return On(ZR(n,s,o),o)}}function tj(e,t,n){const r=z(e,n==null?void 0:n.in),s=kp(r,n)-t;return r.setDate(r.getDate()-s*7),r}class nj extends se{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return ye(ke.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return _e(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return Ms(tj(n,s))}}const rj=[31,28,31,30,31,30,31,31,30,31,30,31],sj=[31,29,31,30,31,30,31,31,30,31,30,31];class oj extends se{constructor(){super(...arguments);U(this,"priority",90);U(this,"subPriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return ye(ke.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return _e(r.length,n)}}validate(n,r){const s=n.getFullYear(),o=fx(s),i=n.getMonth();return o?r>=1&&r<=sj[i]:r>=1&&r<=rj[i]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class ij extends se{constructor(){super(...arguments);U(this,"priority",90);U(this,"subpriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return ye(ke.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return _e(r.length,n)}}validate(n,r){const s=n.getFullYear();return fx(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Ep(e,t,n){var d,f,h,g;const r=Vr(),s=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,o=z(e,n==null?void 0:n.in),i=o.getDay(),l=(t%7+7)%7,c=7-s,u=t<0||t>6?t-(i+c)%7:(l+c)%7-(i+c)%7;return zt(o,u,n)}class aj extends se{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=Ep(n,s,o),n.setHours(0,0,0,0),n}}class lj extends se{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,o){const i=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return De(_e(r.length,n),i);case"eo":return De(s.ordinalNumber(n,{unit:"day"}),i);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=Ep(n,s,o),n.setHours(0,0,0,0),n}}class cj extends se{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,o){const i=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return De(_e(r.length,n),i);case"co":return De(s.ordinalNumber(n,{unit:"day"}),i);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=Ep(n,s,o),n.setHours(0,0,0,0),n}}function uj(e,t,n){const r=z(e,n==null?void 0:n.in),s=LR(r,n),o=t-s;return zt(r,o,n)}class dj extends se{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const o=i=>i===0?7:i;switch(r){case"i":case"ii":return _e(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return De(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return De(s.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return De(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return De(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=uj(n,s),n.setHours(0,0,0,0),n}}class fj extends se{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Cp(s),0,0,0),n}}class pj extends se{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Cp(s),0,0,0),n}}class hj extends se{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Cp(s),0,0,0),n}}class mj extends se{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return ye(ke.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return _e(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const o=n.getHours()>=12;return o&&s<12?n.setHours(s+12,0,0,0):!o&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class gj extends se{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return ye(ke.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return _e(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class vj extends se{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return ye(ke.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return _e(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class yj extends se{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return ye(ke.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return _e(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const o=s<=24?s%24:s;return n.setHours(o,0,0,0),n}}class wj extends se{constructor(){super(...arguments);U(this,"priority",60);U(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return ye(ke.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return _e(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class xj extends se{constructor(){super(...arguments);U(this,"priority",50);U(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return ye(ke.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return _e(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class bj extends se{constructor(){super(...arguments);U(this,"priority",30);U(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=o=>Math.trunc(o*Math.pow(10,-r.length+3));return De(_e(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class _j extends se{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return rn(nn.basicOptionalMinutes,n);case"XX":return rn(nn.basic,n);case"XXXX":return rn(nn.basicOptionalSeconds,n);case"XXXXX":return rn(nn.extendedOptionalSeconds,n);case"XXX":default:return rn(nn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:ce(n,n.getTime()-vl(n)-s)}}class Sj extends se{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return rn(nn.basicOptionalMinutes,n);case"xx":return rn(nn.basic,n);case"xxxx":return rn(nn.basicOptionalSeconds,n);case"xxxxx":return rn(nn.extendedOptionalSeconds,n);case"xxx":default:return rn(nn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:ce(n,n.getTime()-vl(n)-s)}}class kj extends se{constructor(){super(...arguments);U(this,"priority",40);U(this,"incompatibleTokens","*")}parse(n){return ux(n)}set(n,r,s){return[ce(n,s*1e3),{timestampIsSet:!0}]}}class Dj extends se{constructor(){super(...arguments);U(this,"priority",20);U(this,"incompatibleTokens","*")}parse(n){return ux(n)}set(n,r,s){return[ce(n,s),{timestampIsSet:!0}]}}const Cj={G:new HR,y:new zR,Y:new VR,R:new GR,u:new qR,Q:new KR,q:new QR,M:new JR,L:new XR,w:new ej,I:new nj,d:new oj,D:new ij,E:new aj,e:new lj,c:new cj,i:new dj,a:new fj,b:new pj,B:new hj,h:new mj,H:new gj,K:new vj,k:new yj,m:new wj,s:new xj,S:new bj,X:new _j,x:new Sj,t:new kj,T:new Dj},Ej=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pj=/^'([^]*?)'?$/,Tj=/''/g,Oj=/\S/,Rj=/[a-zA-Z]/;function jj(e,t,n,r){var x,v,m,y,_,S,k,C;const s=()=>ce((r==null?void 0:r.in)||n,NaN),o=AR(),i=(r==null?void 0:r.locale)??o.locale??sx,a=(r==null?void 0:r.firstWeekContainsDate)??((v=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(m=o.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((S=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:S.weekStartsOn)??o.weekStartsOn??((C=(k=o.locale)==null?void 0:k.options)==null?void 0:C.weekStartsOn)??0;if(!t)return e?s():z(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:i},u=[new YR(r==null?void 0:r.in,n)],d=t.match(Nj).map(E=>{const N=E[0];if(N in Ud){const P=Ud[N];return P(E,i.formatLong)}return E}).join("").match(Ej),f=[];for(let E of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&lx(E)&&Wd(E,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ax(E)&&Wd(E,t,e);const N=E[0],P=Cj[N];if(P){const{incompatibleTokens:j}=P;if(Array.isArray(j)){const M=f.find(V=>j.includes(V.token)||V.token===N);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${E}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${E}\` and any other token at the same time`);f.push({token:N,fullToken:E});const B=P.run(e,E,i.match,c);if(!B)return s();u.push(B.setter),e=B.rest}else{if(N.match(Rj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(E==="''"?E="'":N==="'"&&(E=Ij(E)),e.indexOf(E)===0)e=e.slice(E.length);else return s()}}if(e.length>0&&Oj.test(e))return s();const h=u.map(E=>E.priority).sort((E,N)=>N-E).filter((E,N,P)=>P.indexOf(E)===N).map(E=>u.filter(N=>N.priority===E).sort((N,P)=>P.subPriority-N.subPriority)).map(E=>E[0]);let g=z(n,r==null?void 0:r.in);if(isNaN(+g))return s();const w={};for(const E of h){if(!E.validate(g,c))return s();const N=E.set(g,w,c);Array.isArray(N)?(g=N[0],Object.assign(w,N[1])):g=N}return g}function Ij(e){return e.match(Pj)[1].replace(Tj,"'")}function Mj(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Aj(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t);return+Bd(r)==+Bd(s)}function Lj(e,t,n){const[r,s]=In(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()}function hi(e,t,n){const r=+z(e,n==null?void 0:n.in),[s,o]=[+z(t.start,n==null?void 0:n.in),+z(t.end,n==null?void 0:n.in)].sort((i,a)=>i-a);return r>=s&&r<=o}function Fj(e,t,n){return zt(e,-t,n)}function px(e,t){const n=()=>ce(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,s=Wj(e);let o;if(s.date){const c=Yj(s.date,r);o=Hj(c.restDateString,c.year)}if(!o||isNaN(+o))return n();const i=+o;let a=0,l;if(s.time&&(a=zj(s.time),isNaN(a)))return n();if(s.timezone){if(l=Vj(s.timezone),isNaN(l))return n()}else{const c=new Date(i+a),u=z(0,t==null?void 0:t.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return z(i+a+l,t==null?void 0:t.in)}const oa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$j=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Uj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Wj(e){const t={},n=e.split(oa.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],oa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(oa.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=oa.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function Yj(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function Hj(e,t){if(t===null)return new Date(NaN);const n=e.match($j);if(!n)return new Date(NaN);const r=!!n[4],s=yo(n[1]),o=yo(n[2])-1,i=yo(n[3]),a=yo(n[4]),l=yo(n[5])-1;if(r)return Jj(t,a,l)?Gj(t,a,l):new Date(NaN);{const c=new Date(0);return!Kj(t,o,i)||!Qj(t,s)?new Date(NaN):(c.setUTCFullYear(t,o,Math.max(s,i)),c)}}function yo(e){return e?parseInt(e):1}function zj(e){const t=e.match(Bj);if(!t)return NaN;const n=mu(t[1]),r=mu(t[2]),s=mu(t[3]);return Xj(n,r,s)?n*cc+r*lc+s*1e3:NaN}function mu(e){return e&&parseFloat(e.replace(",","."))||0}function Vj(e){if(e==="Z")return 0;const t=e.match(Uj);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Zj(r,s)?n*(r*cc+s*lc):NaN}function Gj(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,o=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}const qj=[31,null,31,30,31,30,31,31,30,31,30,31];function hx(e){return e%400===0||e%4===0&&e%100!==0}function Kj(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(qj[t]||(hx(e)?29:28))}function Qj(e,t){return t>=1&&t<=(hx(e)?366:365)}function Jj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Xj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Zj(e,t){return t>=0&&t<=59}function St(e,t,n){const r=z(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getDate(),i=ce((n==null?void 0:n.in)||e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const a=MR(i);return r.setMonth(t,Math.min(o,a)),r}function Pa(e,t,n){const r=z(e,n==null?void 0:n.in);return r.setHours(t),r}function Ta(e,t,n){const r=z(e,n==null?void 0:n.in);return r.setMinutes(t),r}function rs(e,t,n){const r=z(e,n==null?void 0:n.in),s=Math.trunc(r.getMonth()/3)+1,o=t-s;return St(r,r.getMonth()+o*3)}function Oa(e,t,n){const r=z(e,n==null?void 0:n.in);return r.setSeconds(t),r}function Zt(e,t,n){const r=z(e,n==null?void 0:n.in);return isNaN(+r)?ce((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function Rr(e,t,n){return qt(e,-t,n)}function mx(e,t,n){return Sp(e,-t,n)}function lg(e,t,n){return yl(e,-t,n)}function Ls(e,t,n){return bn(e,-t,n)}function dc(){return typeof window<"u"}function eo(e){return gx(e)?(e.nodeName||"").toLowerCase():"#document"}function gt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function un(e){var t;return(t=(gx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gx(e){return dc()?e instanceof Node||e instanceof gt(e).Node:!1}function Xe(e){return dc()?e instanceof Element||e instanceof gt(e).Element:!1}function cn(e){return dc()?e instanceof HTMLElement||e instanceof gt(e).HTMLElement:!1}function cg(e){return!dc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gt(e).ShadowRoot}const eI=new Set(["inline","contents"]);function Pi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=It(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!eI.has(s)}const tI=new Set(["table","td","th"]);function nI(e){return tI.has(eo(e))}const rI=[":popover-open",":modal"];function fc(e){return rI.some(t=>{try{return e.matches(t)}catch{return!1}})}const sI=["transform","translate","scale","rotate","perspective"],oI=["transform","translate","scale","rotate","perspective","filter"],iI=["paint","layout","strict","content"];function Np(e){const t=Pp(),n=Xe(e)?It(e):e;return sI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||oI.some(r=>(n.willChange||"").includes(r))||iI.some(r=>(n.contain||"").includes(r))}function aI(e){let t=cr(e);for(;cn(t)&&!Fs(t);){if(Np(t))return t;if(fc(t))return null;t=cr(t)}return null}function Pp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lI=new Set(["html","body","#document"]);function Fs(e){return lI.has(eo(e))}function It(e){return gt(e).getComputedStyle(e)}function pc(e){return Xe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cr(e){if(eo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cg(e)&&e.host||un(e);return cg(t)?t.host:t}function vx(e){const t=cr(e);return Fs(t)?e.ownerDocument?e.ownerDocument.body:e.body:cn(t)&&Pi(t)?t:vx(t)}function mi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=vx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=gt(s);if(o){const a=zd(i);return t.concat(i,i.visualViewport||[],Pi(s)?s:[],a&&n?mi(a):[])}return t.concat(s,mi(s,[],n))}function zd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const $s=Math.min,jr=Math.max,kl=Math.round,ia=Math.floor,ln=e=>({x:e,y:e}),cI={left:"right",right:"left",bottom:"top",top:"bottom"},uI={start:"end",end:"start"};function dI(e,t,n){return jr(e,$s(t,n))}function hc(e,t){return typeof e=="function"?e(t):e}function Bs(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function fI(e){return e==="x"?"y":"x"}function Tp(e){return e==="y"?"height":"width"}const pI=new Set(["top","bottom"]);function Er(e){return pI.has(Bs(e))?"y":"x"}function Op(e){return fI(Er(e))}function hI(e,t,n){n===void 0&&(n=!1);const r=Ti(e),s=Op(e),o=Tp(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Dl(i)),[i,Dl(i)]}function mI(e){const t=Dl(e);return[Vd(e),t,Vd(t)]}function Vd(e){return e.replace(/start|end/g,t=>uI[t])}const ug=["left","right"],dg=["right","left"],gI=["top","bottom"],vI=["bottom","top"];function yI(e,t,n){switch(e){case"top":case"bottom":return n?t?dg:ug:t?ug:dg;case"left":case"right":return t?gI:vI;default:return[]}}function wI(e,t,n,r){const s=Ti(e);let o=yI(Bs(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Vd)))),o}function Dl(e){return e.replace(/left|right|bottom|top/g,t=>cI[t])}function xI(e){return{top:0,right:0,bottom:0,left:0,...e}}function yx(e){return typeof e!="number"?xI(e):{top:e,right:e,bottom:e,left:e}}function Cl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}var bI=typeof document<"u",_I=function(){},El=bI?b.useLayoutEffect:_I;const SI={...Qg},kI=SI.useInsertionEffect,DI=kI||(e=>e());function CI(e){const t=b.useRef(()=>{});return DI(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function fg(e,t,n){let{reference:r,floating:s}=e;const o=Er(t),i=Op(t),a=Tp(i),l=Bs(t),c=o==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Ti(t)){case"start":h[i]-=f*(n&&c?-1:1);break;case"end":h[i]+=f*(n&&c?-1:1);break}return h}const EI=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=fg(c,r,l),f=r,h={},g=0;for(let w=0;w<a.length;w++){const{name:x,fn:v}=a[w],{x:m,y,data:_,reset:S}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});u=m??u,d=y??d,h={...h,[x]:{...h[x],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:u,y:d}=fg(c,f,l)),w=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function NI(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=hc(t,e),g=yx(h),x=a[f?d==="floating"?"reference":"floating":d],v=Cl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Cl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:y,strategy:l}):m);return{top:(v.top-S.top+g.top)/_.y,bottom:(S.bottom-v.bottom+g.bottom)/_.y,left:(v.left-S.left+g.left)/_.x,right:(S.right-v.right+g.right)/_.x}}const PI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=hc(e,t)||{};if(c==null)return{};const d=yx(u),f={x:n,y:r},h=Op(s),g=Tp(h),w=await i.getDimensions(c),x=h==="y",v=x?"top":"left",m=x?"bottom":"right",y=x?"clientHeight":"clientWidth",_=o.reference[g]+o.reference[h]-f[h]-o.floating[g],S=f[h]-o.reference[h],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=k?k[y]:0;(!C||!await(i.isElement==null?void 0:i.isElement(k)))&&(C=a.floating[y]||o.floating[g]);const E=_/2-S/2,N=C/2-w[g]/2-1,P=$s(d[v],N),j=$s(d[m],N),B=P,M=C-w[g]-j,V=C/2-w[g]/2+E,H=dI(B,V,M),F=!l.arrow&&Ti(s)!=null&&V!==H&&o.reference[g]/2-(V<B?P:j)-w[g]/2<0,I=F?V<B?V-B:V-M:0;return{[h]:f[h]+I,data:{[h]:H,centerOffset:V-H-I,...F&&{alignmentOffset:I}},reset:F}}}),TI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...x}=hc(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Bs(s),m=Er(a),y=Bs(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(y||!w?[Dl(a)]:mI(a)),k=g!=="none";!f&&k&&S.push(...wI(a,w,g,_));const C=[a,...S],E=await NI(t,x),N=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&N.push(E[v]),d){const V=hI(s,i,_);N.push(E[V[0]],E[V[1]])}if(P=[...P,{placement:s,overflows:N}],!N.every(V=>V<=0)){var j,B;const V=(((j=o.flip)==null?void 0:j.index)||0)+1,H=C[V];if(H&&(!(d==="alignment"?m!==Er(H):!1)||P.every(D=>Er(D.placement)===m?D.overflows[0]>0:!0)))return{data:{index:V,overflows:P},reset:{placement:H}};let F=(B=P.filter(I=>I.overflows[0]<=0).sort((I,D)=>I.overflows[1]-D.overflows[1])[0])==null?void 0:B.placement;if(!F)switch(h){case"bestFit":{var M;const I=(M=P.filter(D=>{if(k){const O=Er(D.placement);return O===m||O==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(O=>O>0).reduce((O,L)=>O+L,0)]).sort((D,O)=>D[1]-O[1])[0])==null?void 0:M[0];I&&(F=I);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}},OI=new Set(["left","top"]);async function RI(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Bs(n),a=Ti(n),l=Er(n)==="y",c=OI.has(i)?-1:1,u=o&&l?-1:1,d=hc(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(h=a==="end"?g*-1:g),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const jI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await RI(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}};function wx(e){const t=It(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=cn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=kl(n)!==o||kl(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Rp(e){return Xe(e)?e:e.contextElement}function _s(e){const t=Rp(e);if(!cn(t))return ln(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=wx(t);let i=(o?kl(n.width):n.width)/r,a=(o?kl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const II=ln(0);function xx(e){const t=gt(e);return!Pp()||!t.visualViewport?II:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gt(e)?!1:t}function Wr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Rp(e);let i=ln(1);t&&(r?Xe(r)&&(i=_s(r)):i=_s(e));const a=MI(o,n,r)?xx(o):ln(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(o){const f=gt(o),h=r&&Xe(r)?gt(r):r;let g=f,w=zd(g);for(;w&&r&&h!==g;){const x=_s(w),v=w.getBoundingClientRect(),m=It(w),y=v.left+(w.clientLeft+parseFloat(m.paddingLeft))*x.x,_=v.top+(w.clientTop+parseFloat(m.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=y,c+=_,g=gt(w),w=zd(g)}}return Cl({width:u,height:d,x:l,y:c})}function jp(e,t){const n=pc(e).scrollLeft;return t?t.left+n:Wr(un(e)).left+n}function bx(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:jp(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function AI(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=un(r),a=t?fc(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=ln(1);const u=ln(0),d=cn(r);if((d||!d&&!o)&&((eo(r)!=="body"||Pi(i))&&(l=pc(r)),cn(r))){const h=Wr(r);c=_s(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=i&&!d&&!o?bx(i,l,!0):ln(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function LI(e){return Array.from(e.getClientRects())}function FI(e){const t=un(e),n=pc(e),r=e.ownerDocument.body,s=jr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=jr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+jp(e);const a=-n.scrollTop;return It(r).direction==="rtl"&&(i+=jr(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function $I(e,t){const n=gt(e),r=un(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=Pp();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}const BI=new Set(["absolute","fixed"]);function UI(e,t){const n=Wr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=cn(e)?_s(e):ln(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function pg(e,t,n){let r;if(t==="viewport")r=$I(e,n);else if(t==="document")r=FI(un(e));else if(Xe(t))r=UI(t,n);else{const s=xx(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Cl(r)}function _x(e,t){const n=cr(e);return n===t||!Xe(n)||Fs(n)?!1:It(n).position==="fixed"||_x(n,t)}function WI(e,t){const n=t.get(e);if(n)return n;let r=mi(e,[],!1).filter(a=>Xe(a)&&eo(a)!=="body"),s=null;const o=It(e).position==="fixed";let i=o?cr(e):e;for(;Xe(i)&&!Fs(i);){const a=It(i),l=Np(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&BI.has(s.position)||Pi(i)&&!l&&_x(e,i))?r=r.filter(u=>u!==i):s=a,i=cr(i)}return t.set(e,r),r}function YI(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?fc(t)?[]:WI(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=pg(t,u,s);return c.top=jr(d.top,c.top),c.right=$s(d.right,c.right),c.bottom=$s(d.bottom,c.bottom),c.left=jr(d.left,c.left),c},pg(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function HI(e){const{width:t,height:n}=wx(e);return{width:t,height:n}}function zI(e,t,n){const r=cn(t),s=un(t),o=n==="fixed",i=Wr(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ln(0);function c(){l.x=jp(s)}if(r||!r&&!o)if((eo(t)!=="body"||Pi(s))&&(a=pc(t)),r){const h=Wr(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&c();o&&!r&&s&&c();const u=s&&!r&&!o?bx(s,a):ln(0),d=i.left+a.scrollLeft-l.x-u.x,f=i.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function gu(e){return It(e).position==="static"}function hg(e,t){if(!cn(e)||It(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return un(e)===n&&(n=n.ownerDocument.body),n}function Sx(e,t){const n=gt(e);if(fc(e))return n;if(!cn(e)){let s=cr(e);for(;s&&!Fs(s);){if(Xe(s)&&!gu(s))return s;s=cr(s)}return n}let r=hg(e,t);for(;r&&nI(r)&&gu(r);)r=hg(r,t);return r&&Fs(r)&&gu(r)&&!Np(r)?n:r||aI(e)||n}const VI=async function(e){const t=this.getOffsetParent||Sx,n=this.getDimensions,r=await n(e.floating);return{reference:zI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GI(e){return It(e).direction==="rtl"}const qI={convertOffsetParentRelativeRectToViewportRelativeRect:AI,getDocumentElement:un,getClippingRect:YI,getOffsetParent:Sx,getElementRects:VI,getClientRects:LI,getDimensions:HI,getScale:_s,isElement:Xe,isRTL:GI};function kx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function KI(e,t){let n=null,r;const s=un(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||t(),!f||!h)return;const g=ia(d),w=ia(s.clientWidth-(u+f)),x=ia(s.clientHeight-(d+h)),v=ia(u),y={rootMargin:-g+"px "+-w+"px "+-x+"px "+-v+"px",threshold:jr(0,$s(1,l))||1};let _=!0;function S(k){const C=k[0].intersectionRatio;if(C!==l){if(!_)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!kx(c,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return i(!0),o}function QI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Rp(e),u=s||o?[...c?mi(c):[],...mi(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=c&&a?KI(c,n):null;let f=-1,h=null;i&&(h=new ResizeObserver(v=>{let[m]=v;m&&m.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let g,w=l?Wr(e):null;l&&x();function x(){const v=Wr(e);w&&!kx(w,v)&&n(),w=v,g=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(m=>{s&&m.removeEventListener("scroll",n),o&&m.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const JI=jI,XI=TI,mg=PI,ZI=(e,t,n)=>{const r=new Map,s={platform:qI,...n},o={...s.platform,_c:r};return EI(e,t,{...s,platform:o})};var eM=typeof document<"u",tM=function(){},Ra=eM?b.useLayoutEffect:tM;function Nl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Nl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Nl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Dx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gg(e,t){const n=Dx(e);return Math.round(t*n)/n}function vu(e){const t=b.useRef(e);return Ra(()=>{t.current=e}),t}function nM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=b.useState(r);Nl(f,r)||h(r);const[g,w]=b.useState(null),[x,v]=b.useState(null),m=b.useCallback(D=>{D!==k.current&&(k.current=D,w(D))},[]),y=b.useCallback(D=>{D!==C.current&&(C.current=D,v(D))},[]),_=o||g,S=i||x,k=b.useRef(null),C=b.useRef(null),E=b.useRef(u),N=l!=null,P=vu(l),j=vu(s),B=vu(c),M=b.useCallback(()=>{if(!k.current||!C.current)return;const D={placement:t,strategy:n,middleware:f};j.current&&(D.platform=j.current),ZI(k.current,C.current,D).then(O=>{const L={...O,isPositioned:B.current!==!1};V.current&&!Nl(E.current,L)&&(E.current=L,bi.flushSync(()=>{d(L)}))})},[f,t,n,j,B]);Ra(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const V=b.useRef(!1);Ra(()=>(V.current=!0,()=>{V.current=!1}),[]),Ra(()=>{if(_&&(k.current=_),S&&(C.current=S),_&&S){if(P.current)return P.current(_,S,M);M()}},[_,S,M,P,N]);const H=b.useMemo(()=>({reference:k,floating:C,setReference:m,setFloating:y}),[m,y]),F=b.useMemo(()=>({reference:_,floating:S}),[_,S]),I=b.useMemo(()=>{const D={position:n,left:0,top:0};if(!F.floating)return D;const O=gg(F.floating,u.x),L=gg(F.floating,u.y);return a?{...D,transform:"translate("+O+"px, "+L+"px)",...Dx(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:L}},[n,a,F.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:M,refs:H,elements:F,floatingStyles:I}),[u,M,H,F,I])}const rM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mg({element:r.current,padding:s}).fn(n):{}:r?mg({element:r,padding:s}).fn(n):{}}}},sM=(e,t)=>({...JI(e),options:[e,t]}),oM=(e,t)=>({...XI(e),options:[e,t]}),iM=(e,t)=>({...rM(e),options:[e,t]}),aM={...Qg};let vg=!1,lM=0;const yg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lM++;function cM(){const[e,t]=b.useState(()=>vg?yg():void 0);return El(()=>{e==null&&t(yg())},[]),b.useEffect(()=>{vg=!0},[]),e}const uM=aM.useId,Cx=uM||cM,dM=b.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:o,shift:i}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:f,d:h,style:{transform:g,...w}={},...x}=t,v=Cx(),[m,y]=b.useState(!1);if(El(()=>{if(!s)return;It(s).direction==="rtl"&&y(!0)},[s]),!s)return null;const[_,S]=r.split("-"),k=_==="top"||_==="bottom";let C=d;(k&&i!=null&&i.x||!k&&i!=null&&i.y)&&(C=null);const E=u*2,N=E/2,P=a/2*(c/-8+1),j=l/2*c/4,B=!!h,M=C&&S==="end"?"bottom":"top";let V=C&&S==="end"?"right":"left";C&&m&&(V=S==="end"?"left":"right");const H=(o==null?void 0:o.x)!=null?C||o.x:"",F=(o==null?void 0:o.y)!=null?C||o.y:"",I=h||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(l-j))+(" Q"+a/2+","+l+" "+P+","+(l-j))+" Z",D={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[_];return p.jsxs("svg",{...x,"aria-hidden":!0,ref:n,width:B?a:a+E,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[V]:H,[M]:F,[_]:k||B?"100%":"calc(100% - "+E/2+"px)",transform:[D,g].filter(O=>!!O).join(" "),...w},children:[E>0&&p.jsx("path",{clipPath:"url(#"+v+")",fill:"none",stroke:f,strokeWidth:E+(h?0:1),d:I}),p.jsx("path",{stroke:E&&!h?x.fill:"none",d:I}),p.jsx("clipPath",{id:v,children:p.jsx("rect",{x:-N,y:N*(B?-1:1),width:a+E,height:a})})]})});function fM(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const pM=b.createContext(null),hM=b.createContext(null),mM=()=>{var e;return((e=b.useContext(pM))==null?void 0:e.id)||null},gM=()=>b.useContext(hM);function vM(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=Cx(),o=b.useRef({}),[i]=b.useState(()=>fM()),a=mM()!=null,[l,c]=b.useState(r.reference),u=CI((h,g,w)=>{o.current.openEvent=h?g:void 0,i.emit("openchange",{open:h,event:g,reason:w,nested:a}),n==null||n(h,g,w)}),d=b.useMemo(()=>({setPositionReference:c}),[]),f=b.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return b.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:f,events:i,floatingId:s,refs:d}),[t,u,f,i,s,d])}function yM(e){e===void 0&&(e={});const{nodeId:t}=e,n=vM({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[o,i]=b.useState(null),[a,l]=b.useState(null),u=(s==null?void 0:s.domReference)||o,d=b.useRef(null),f=gM();El(()=>{u&&(d.current=u)},[u]);const h=nM({...e,elements:{...s,...a&&{reference:a}}}),g=b.useCallback(y=>{const _=Xe(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),getClientRects:()=>y.getClientRects(),contextElement:y}:y;l(_),h.refs.setReference(_)},[h.refs]),w=b.useCallback(y=>{(Xe(y)||y===null)&&(d.current=y,i(y)),(Xe(h.refs.reference.current)||h.refs.reference.current===null||y!==null&&!Xe(y))&&h.refs.setReference(y)},[h.refs]),x=b.useMemo(()=>({...h.refs,setReference:w,setPositionReference:g,domReference:d}),[h.refs,w,g]),v=b.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),m=b.useMemo(()=>({...h,...r,refs:x,elements:v,nodeId:t}),[h,x,v,t,r]);return El(()=>{r.dataRef.current.floatingContext=m;const y=f==null?void 0:f.nodesRef.current.find(_=>_.id===t);y&&(y.context=m)}),b.useMemo(()=>({...h,context:m,refs:x,elements:v}),[h,x,v,m])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Gd=function(t,n){return Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Gd(t,n)};function Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ne=function(){return ne=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ne.apply(this,arguments)};function sn(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var wM=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,s=r===void 0?!1:r,o=e.className,i=e.children,a=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return T.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},i)},xM=function(e,t){var n=b.useRef(null),r=b.useRef(e);r.current=e;var s=b.useCallback(function(o){var i,a=o.composed&&o.composedPath&&o.composedPath().find(function(l){return l instanceof Node})||o.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||(i=r.current)===null||i===void 0||i.call(r,o))},[t]);return b.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),n},mc=function(e){var t=e.children,n=e.onClickOutside,r=e.className,s=e.containerRef,o=e.style,i=e.ignoreClass,a=xM(n,i);return T.createElement("div",{className:r,style:o,ref:function(l){a.current=l,s&&(s.current=l)}},t)},$;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})($||($={}));function Ex(){var e=typeof window<"u"?window:globalThis;return e}var Oi=12;function oe(e){if(e==null)return new Date;var t=typeof e=="string"?px(e):z(e);return gc(t)?t:new Date}function yu(e,t,n,r,s){s===void 0&&(s=oe());for(var o=Us(n)||Us(Ip()),i=Array.isArray(t)?t:[t],a=0,l=i;a<l.length;a++){var c=l[a],u=jj(e,c,s,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(gc(u)&&(!r||e===me(u,c,n)))return u}return null}function gc(e,t){return wl(e)&&!Ur(e,new Date("1/1/1800"))}function me(e,t,n){if(n==="en")return Yd(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Us(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Us(Ip()),Yd(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function _t(e,t){var n=t.dateFormat,r=t.locale,s=Array.isArray(n)&&n.length>0?n[0]:n;return e&&me(e,s,r)||""}var Nx=" - ";function bM(e,t,n){if(!e)return"";var r=_t(e,n),s=t?_t(t,n):"";return"".concat(r).concat(Nx).concat(s)}function _M(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?_t(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=_t(e[1],t);return"".concat(n,", ").concat(r)}var s=e.length-1;return"".concat(n," (+").concat(s,")")}function wu(e,t){var n=t.hour,r=n===void 0?0:n,s=t.minute,o=s===void 0?0:s,i=t.second,a=i===void 0?0:i;return Pa(Ta(Oa(e,a),o),r)}function SM(e){return kp(e)}function kM(e,t){return me(e,"ddd",t)}function ja(e){return Br(e)}function sr(e,t,n){var r=Us(t||Ip());return On(e,{locale:r,weekStartsOn:n})}function Dn(e){return nx(e)}function Co(e){return uc(e)}function wg(e){return Bd(e)}function xg(){return Br(oe())}function bg(e){return ex(e)}function DM(e){return WO(e)}function CM(e){return tx(e)}function en(e,t){return e&&t?Lj(e,t):!e&&!t}function Je(e,t){return e&&t?Mj(e,t):!e&&!t}function Pl(e,t){return e&&t?Aj(e,t):!e&&!t}function te(e,t){return e&&t?BO(e,t):!e&&!t}function Nr(e,t){return e&&t?FR(e,t):!e&&!t}function Eo(e,t,n){var r,s=Br(t),o=ex(n);try{r=hi(e,{start:s,end:o})}catch{r=!1}return r}function Ip(){var e=Ex();return e.__localeId__}function Us(e){if(typeof e=="string"){var t=Ex();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function EM(e,t,n){return t(me(e,"EEEE",n))}function NM(e,t){return me(e,"EEEEEE",t)}function PM(e,t){return me(e,"EEE",t)}function Mp(e,t){return me(St(oe(),e),"LLLL",t)}function Px(e,t){return me(St(oe(),e),"LLL",t)}function TM(e,t){return me(rs(oe(),e),"QQQ",t)}function Ct(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.maxDate,o=n.excludeDates,i=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return Ri(e,{minDate:r,maxDate:s})||o&&o.some(function(u){return u instanceof Date?te(e,u):te(e,u.date)})||i&&i.some(function(u){var d=u.start,f=u.end;return hi(e,{start:d,end:f})})||a&&!a.some(function(u){return te(e,u)})||l&&!l.some(function(u){var d=u.start,f=u.end;return hi(e,{start:d,end:f})})||c&&!c(oe(e))||!1}function Ap(e,t){var n=t===void 0?{}:t,r=n.excludeDates,s=n.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var i=o.start,a=o.end;return hi(e,{start:i,end:a})}):r&&r.some(function(o){var i;return o instanceof Date?te(e,o):te(e,(i=o.date)!==null&&i!==void 0?i:new Date)})||!1}function Tx(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.maxDate,o=n.excludeDates,i=n.includeDates,a=n.filterDate;return Ri(e,{minDate:r?nx(r):void 0,maxDate:s?tx(s):void 0})||(o==null?void 0:o.some(function(l){return Je(e,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return Je(e,l)})||a&&!a(oe(e))||!1}function aa(e,t,n,r){var s=Q(e),o=Ve(e),i=Q(t),a=Ve(t),l=Q(r);return s===i&&s===l?o<=n&&n<=a:s<i?l===s&&o<=n||l===i&&a>=n||l<i&&l>s:!1}function OM(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.maxDate,o=n.excludeDates,i=n.includeDates;return Ri(e,{minDate:r,maxDate:s})||o&&o.some(function(a){return Je(a instanceof Date?a:a.date,e)})||i&&!i.some(function(a){return Je(a,e)})||!1}function la(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.maxDate,o=n.excludeDates,i=n.includeDates,a=n.filterDate;return Ri(e,{minDate:r,maxDate:s})||(o==null?void 0:o.some(function(l){return Pl(e,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return Pl(e,l)})||a&&!a(oe(e))||!1}function ca(e,t,n){if(!t||!n||!wl(t)||!wl(n))return!1;var r=Q(t),s=Q(n);return r<=e&&s>=e}function Ia(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.maxDate,o=n.excludeDates,i=n.includeDates,a=n.filterDate,l=new Date(e,0,1);return Ri(l,{minDate:r?uc(r):void 0,maxDate:s?rx(s):void 0})||(o==null?void 0:o.some(function(c){return en(l,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return en(l,c)})||a&&!a(oe(l))||!1}function ua(e,t,n,r){var s=Q(e),o=Or(e),i=Q(t),a=Or(t),l=Q(r);return s===i&&s===l?o<=n&&n<=a:s<i?l===s&&o<=n||l===i&&a>=n||l<i&&l>s:!1}function Ri(e,t){var n,r=t===void 0?{}:t,s=r.minDate,o=r.maxDate;return(n=s&&As(e,s)<0||o&&As(e,o)>0)!==null&&n!==void 0?n:!1}function _g(e,t){return t.some(function(n){return Sn(n)===Sn(e)&&kn(n)===kn(e)&&rr(n)===rr(e)})}function Sg(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,s=n.includeTimes,o=n.filterTime;return r&&_g(e,r)||s&&!_g(e,s)||o&&!o(e)||!1}function kg(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=oe();s=Pa(s,Sn(e)),s=Ta(s,kn(e)),s=Oa(s,rr(e));var o=oe();o=Pa(o,Sn(n)),o=Ta(o,kn(n)),o=Oa(o,rr(n));var i=oe();i=Pa(i,Sn(r)),i=Ta(i,kn(r)),i=Oa(i,rr(r));var a;try{a=!hi(s,{start:o,end:i})}catch{a=!1}return a}function Dg(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.includeDates,o=Rr(e,1);return r&&xl(r,o)>0||s&&s.every(function(i){return xl(i,o)>0})||!1}function Cg(e,t){var n=t===void 0?{}:t,r=n.maxDate,s=n.includeDates,o=qt(e,1);return r&&xl(o,r)>0||s&&s.every(function(i){return xl(o,i)>0})||!1}function RM(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.includeDates,o=uc(e),i=mx(o,1);return r&&bl(r,i)>0||s&&s.every(function(a){return bl(a,i)>0})||!1}function jM(e,t){var n=t===void 0?{}:t,r=n.maxDate,s=n.includeDates,o=rx(e),i=Sp(o,1);return r&&bl(i,r)>0||s&&s.every(function(a){return bl(i,a)>0})||!1}function Eg(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.includeDates,o=Ls(e,1);return r&&_l(r,o)>0||s&&s.every(function(i){return _l(i,o)>0})||!1}function IM(e,t){var n=t===void 0?{}:t,r=n.minDate,s=n.yearItemNumber,o=s===void 0?Oi:s,i=Co(Ls(e,o)),a=Vn(i,o).endPeriod,l=r&&Q(r);return l&&l>a||!1}function Ng(e,t){var n=t===void 0?{}:t,r=n.maxDate,s=n.includeDates,o=bn(e,1);return r&&_l(o,r)>0||s&&s.every(function(i){return _l(o,i)>0})||!1}function MM(e,t){var n=t===void 0?{}:t,r=n.maxDate,s=n.yearItemNumber,o=s===void 0?Oi:s,i=bn(e,o),a=Vn(i,o).startPeriod,l=r&&Q(r);return l&&l<a||!1}function Ox(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(s){return As(s,t)>=0});return tg(r)}else return n?tg(n):t}function Rx(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(s){return As(s,t)<=0});return eg(r)}else return n?eg(n):t}function Pg(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,s=0,o=e.length;s<o;s++){var i=e[s];if(_n(i)){var a=me(i,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(t)||(l.push(t),r.set(a,l))}else if(typeof i=="object"){var c=Object.keys(i),u=(n=c[0])!==null&&n!==void 0?n:"",d=i[u];if(typeof u=="string"&&Array.isArray(d))for(var f=0,h=d.length;f<h;f++){var g=d[f];if(g){var a=me(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function AM(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function LM(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var s=r.date,o=r.holidayName;if(_n(s)){var i=me(s,"MM.dd.yyyy"),a=n.get(i)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===t&&AM(a.holidayNames,[o]))){a.className=t;var l=a.holidayNames;a.holidayNames=l?sn(sn([],l,!0),[o],!1):[o],n.set(i,a)}}}),n}function FM(e,t,n,r,s){for(var o=s.length,i=[],a=0;a<o;a++){var l=e,c=s[a];c&&(l=AO(l,Sn(c)),l=$d(l,kn(c)),l=$O(l,rr(c)));var u=$d(e,(n+1)*r);lr(l,t)&&Ur(l,u)&&c!=null&&i.push(c)}return i}function Tg(e){return e<10?"0".concat(e):"".concat(e)}function Vn(e,t){t===void 0&&(t=Oi);var n=Math.ceil(Q(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function $M(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Og(e){var t=e.getSeconds(),n=e.getMilliseconds();return z(e.getTime()-t*1e3-n)}function BM(e,t){return Og(e).getTime()===Og(t).getTime()}function Rg(e){if(!_n(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function jg(e,t){if(!_n(e)||!_n(t))throw new Error("Invalid date received");var n=Rg(e),r=Rg(t);return Ur(n,r)}function jx(e){return e.key===$.Space}var UM=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=T.createRef(),r.onTimeChange=function(s){var o,i;r.setState({time:s});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(s!=null&&s.includes(":")){var u=s.split(":"),d=u[0],f=u[1];c.setHours(Number(d)),c.setMinutes(Number(f))}(i=(o=r.props).onChange)===null||i===void 0||i.call(o,c)},r.renderTimeInput=function(){var s=r.state.time,o=r.props,i=o.date,a=o.timeString,l=o.customTimeInput;return l?b.cloneElement(l,{date:i,value:s,onChange:r.onTimeChange}):T.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:s,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return T.createElement("div",{className:"react-datepicker__input-time-container"},T.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),T.createElement("div",{className:"react-datepicker-time__input-container"},T.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(b.Component),WM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=b.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var s,o,i=r.key;i===$.Space&&(r.preventDefault(),r.key=$.Enter),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.isSameDay=function(r){return te(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var s=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!s&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Ct(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Ap(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return te(n.props.day,sr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&te(r,sr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,s=r.day,o=r.highlightDates;if(!o)return!1;var i=me(s,"MM.dd.yyyy");return o.get(i)},n.getHolidaysClass=function(){var r,s=n.props,o=s.day,i=s.holidays;if(!i)return[void 0];var a=me(o,"MM.dd.yyyy");return i.has(a)?[(r=i.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,s=r.day,o=r.startDate,i=r.endDate;return!o||!i?!1:Eo(s,o,i)},n.isInSelectingRange=function(){var r,s=n.props,o=s.day,i=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.selectsDisabledDaysInRange,u=s.startDate,d=s.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(i||a||l)||!f||!c&&n.isDisabled()?!1:i&&d&&(Ur(f,d)||Nr(f,d))?Eo(o,f,d):a&&u&&(lr(f,u)||Nr(f,u))||l&&u&&!d&&(lr(f,u)||Nr(f,u))?Eo(o,u,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,o=s.day,i=s.startDate,a=s.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?te(o,l):te(o,i)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,o=s.day,i=s.endDate,a=s.selectsEnd,l=s.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?te(o,c):te(o,i)},n.isRangeStart=function(){var r=n.props,s=r.day,o=r.startDate,i=r.endDate;return!o||!i?!1:te(o,s)},n.isRangeEnd=function(){var r=n.props,s=r.day,o=r.startDate,i=r.endDate;return!o||!i?!1:te(i,s)},n.isWeekend=function(){var r=IR(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ve(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ve(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(oe())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var s=n.props.dayClassName?n.props.dayClassName(r):void 0;return $e("react-datepicker__day",s,"react-datepicker__day--"+kM(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,s=r.day,o=r.ariaLabelPrefixWhenEnabled,i=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:i;return"".concat(c," ").concat(me(s,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,s=r.day,o=r.holidays,i=o===void 0?new Map:o,a=r.excludeDates,l=me(s,"MM.dd.yyyy"),c=[];return i.has(l)&&c.push.apply(c,i.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?te(u,s):te(u==null?void 0:u.date,s)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,s=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&te(s,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(ag(n.props.day),n.props.day):ag(n.props.day)},n.render=function(){return T.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&T.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,s;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(b.Component),YM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=b.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var s,o,i=r.key;i===$.Space&&(r.preventDefault(),r.key=$.Enter),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!te(n.props.date,n.props.selected)&&te(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||te(n.props.date,n.props.selected)&&te(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var s=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&te(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(s=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,s=n.isWeekDisabled,o=n.ariaLabelPrefix,i=o===void 0?t.defaultProps.ariaLabelPrefix:o,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!s,"react-datepicker__week-number--selected":!!a&&te(this.props.date,this.props.selected)};return T.createElement("div",{ref:this.weekNumberEl,className:$e(l),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(b.Component),HM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Ct(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,s){n.props.onDayClick&&n.props.onDayClick(r,s)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,s,o){for(var i,a,l,c=new Date(r),u=0;u<7;u++){var d=new Date(r);d.setDate(d.getDate()+u);var f=!n.isDisabled(d);if(f){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,s,o),n.props.showWeekPicker&&n.handleDayClick(c,o),((i=n.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):SM(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),s=zt(r,6),o=new Date(r);o<=s;){if(!n.isDisabled(o))return!1;o=zt(o,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),s=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;s.push(T.createElement(YM,ne({key:"W"},t.defaultProps,n.props,{weekNumber:o,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:i})))}return s.concat([0,1,2,3,4,5,6].map(function(a){var l=zt(r,a);return T.createElement(WM,ne({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return sr(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!te(n.startOfWeek(),n.props.selected)&&te(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":te(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return T.createElement("div",{className:$e(n)},this.renderDays())},t}(b.Component),wo,zM=6,Ss={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},xu=(wo={},wo[Ss.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},wo[Ss.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},wo[Ss.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},wo),da=1;function Ig(e,t){return e?Ss.FOUR_COLUMNS:t?Ss.TWO_COLUMNS:Ss.THREE_COLUMNS}var VM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=sn([],Array(12),!0).map(function(){return b.createRef()}),n.QUARTER_REFS=sn([],Array(4),!0).map(function(){return b.createRef()}),n.isDisabled=function(r){return Ct(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Ap(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,s){var o,i;(i=(o=n.props).onDayClick)===null||i===void 0||i.call(o,r,s,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var s,o;(o=(s=n.props).onDayMouseEnter)===null||o===void 0||o.call(s,r)},n.handleMouseLeave=function(){var r,s;(s=(r=n.props).onMouseLeave)===null||s===void 0||s.call(r)},n.isRangeStartMonth=function(r){var s=n.props,o=s.day,i=s.startDate,a=s.endDate;return!i||!a?!1:Je(St(o,r),i)},n.isRangeStartQuarter=function(r){var s=n.props,o=s.day,i=s.startDate,a=s.endDate;return!i||!a?!1:Pl(rs(o,r),i)},n.isRangeEndMonth=function(r){var s=n.props,o=s.day,i=s.startDate,a=s.endDate;return!i||!a?!1:Je(St(o,r),a)},n.isRangeEndQuarter=function(r){var s=n.props,o=s.day,i=s.startDate,a=s.endDate;return!i||!a?!1:Pl(rs(o,r),a)},n.isInSelectingRangeMonth=function(r){var s,o=n.props,i=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,f=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?aa(f,d,r,i):l&&u||c&&u&&!d?aa(u,f,r,i):!1},n.isSelectingMonthRangeStart=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,i=o.day,a=o.startDate,l=o.selectsStart,c=St(i,r),u=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return l?Je(c,u):Je(c,a)},n.isSelectingMonthRangeEnd=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,i=o.day,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=St(i,r),d=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return l||c?Je(u,d):Je(u,a)},n.isInSelectingRangeQuarter=function(r){var s,o=n.props,i=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,f=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?ua(f,d,r,i):l&&u||c&&u&&!d?ua(u,f,r,i):!1},n.isWeekInMonth=function(r){var s=n.props.day,o=zt(r,6);return Je(r,s)||Je(o,s)},n.isCurrentMonth=function(r,s){return Q(r)===Q(oe())&&s===Ve(oe())},n.isCurrentQuarter=function(r,s){return Q(r)===Q(oe())&&s===Or(oe())},n.isSelectedMonth=function(r,s,o){return Ve(o)===s&&Q(r)===Q(o)},n.isSelectMonthInList=function(r,s,o){return o.some(function(i){return n.isSelectedMonth(r,s,i)})},n.isSelectedQuarter=function(r,s,o){return Or(r)===s&&Q(r)===Q(o)},n.isMonthSelected=function(){var r=n.props,s=r.day,o=r.selected,i=r.selectedDates,a=r.selectsMultiple,l=Ve(s);return a?i==null?void 0:i.some(function(c){return n.isSelectedMonth(s,l,c)}):!!o&&n.isSelectedMonth(s,l,o)},n.renderWeeks=function(){for(var r=[],s=n.props.fixedHeight,o=0,i=!1,a=sr(Dn(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?sr(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(g){return n.props.showWeekPicker?sr(g,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;r.push(T.createElement(HM,ne({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:a,month:Ve(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!i;){o++,a=yl(a,1);var f=s&&o>=zM,h=!s&&!n.isWeekInMonth(a);if(f||h)if(n.props.peekNextMonth)i=!0;else break}return r},n.onMonthClick=function(r,s){var o=n.isMonthDisabledForLabelDate(s),i=o.isDisabled,a=o.labelDate;i||n.handleDayClick(Dn(a),r)},n.onMonthMouseEnter=function(r){var s=n.isMonthDisabledForLabelDate(r),o=s.isDisabled,i=s.labelDate;o||n.handleDayMouseEnter(Dn(i))},n.handleMonthNavigation=function(r,s){var o,i,a,l;(i=(o=n.props).setPreSelection)===null||i===void 0||i.call(o,s),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,s,o){var i,a=n.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,f=a.maxDate,h=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(c){var w=Ig(h,g),x=n.getVerticalOffset(w),v=(i=xu[w])===null||i===void 0?void 0:i.grid,m=function(C,E,N){var P,j,B=E,M=N;switch(C){case $.ArrowRight:B=qt(E,da),M=N===11?0:N+da;break;case $.ArrowLeft:B=Rr(E,da),M=N===0?11:N-da;break;case $.ArrowUp:B=Rr(E,x),M=!((P=v==null?void 0:v[0])===null||P===void 0)&&P.includes(N)?N+12-x:N-x;break;case $.ArrowDown:B=qt(E,x),M=!((j=v==null?void 0:v[v.length-1])===null||j===void 0)&&j.includes(N)?N-12+x:N+x;break}return{newCalculatedDate:B,newCalculatedMonth:M}},y=function(C,E,N){for(var P=40,j=C,B=!1,M=0,V=m(j,E,N),H=V.newCalculatedDate,F=V.newCalculatedMonth;!B;){if(M>=P){H=E,F=N;break}if(d&&H<d){j=$.ArrowRight;var I=m(j,H,F);H=I.newCalculatedDate,F=I.newCalculatedMonth}if(f&&H>f){j=$.ArrowLeft;var I=m(j,H,F);H=I.newCalculatedDate,F=I.newCalculatedMonth}if(OM(H,n.props)){var I=m(j,H,F);H=I.newCalculatedDate,F=I.newCalculatedMonth}else B=!0;M++}return{newCalculatedDate:H,newCalculatedMonth:F}};if(s===$.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),u==null||u(l));return}var _=y(s,c,o),S=_.newCalculatedDate,k=_.newCalculatedMonth;switch(s){case $.ArrowRight:case $.ArrowLeft:case $.ArrowUp:case $.ArrowDown:n.handleMonthNavigation(k,S);break}}},n.getVerticalOffset=function(r){var s,o;return(o=(s=xu[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,s){var o=n.props,i=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,l=r.key;l!==$.Tab&&r.preventDefault(),i||n.handleKeyboardNavigation(r,l,s),a&&a(r)},n.onQuarterClick=function(r,s){var o=rs(n.props.day,s);la(o,n.props)||n.handleDayClick(wg(o),r)},n.onQuarterMouseEnter=function(r){var s=rs(n.props.day,r);la(s,n.props)||n.handleDayMouseEnter(wg(s))},n.handleQuarterNavigation=function(r,s){var o,i,a,l;n.isDisabled(s)||n.isExcluded(s)||((i=(o=n.props).setPreSelection)===null||i===void 0||i.call(o,s),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,s){var o,i,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case $.Enter:n.onQuarterClick(r,s),(i=(o=n.props).setPreSelection)===null||i===void 0||i.call(o,n.props.selected);break;case $.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===4?1:s+1,Sp(n.props.preSelection,1));break;case $.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===1?4:s-1,mx(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var s,o=n.props,i=o.day,a=o.minDate,l=o.maxDate,c=o.excludeDates,u=o.includeDates,d=St(i,r);return{isDisabled:(s=(a||l||c||u)&&Tx(d,n.props))!==null&&s!==void 0?s:!1,labelDate:d}},n.isMonthDisabled=function(r){var s=n.isMonthDisabledForLabelDate(r).isDisabled;return s},n.getMonthClassNames=function(r){var s=n.props,o=s.day,i=s.startDate,a=s.endDate,l=s.preSelection,c=s.monthClassName,u=c?c(St(o,r)):void 0,d=n.getSelection();return $e("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(o,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(o,r,l)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":i&&a?aa(i,a,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=Ve(n.props.preSelection),o=n.isMonthDisabledForLabelDate(s).isDisabled,i=r===s&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=Or(n.props.preSelection),o=la(n.props.day,n.props),i=r===s&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getAriaLabel=function(r){var s=n.props,o=s.chooseDayAriaLabelPrefix,i=o===void 0?"Choose":o,a=s.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=s.day,u=s.locale,d=St(c,r),f=n.isDisabled(d)||n.isExcluded(d)?l:i;return"".concat(f," ").concat(me(d,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var s=n.props,o=s.day,i=s.startDate,a=s.endDate,l=s.selected,c=s.minDate,u=s.maxDate,d=s.excludeDates,f=s.includeDates,h=s.filterDate,g=s.preSelection,w=s.disabledKeyboardNavigation,x=(c||u||d||f||h)&&la(rs(o,r),n.props);return $e("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&g&&n.isSelectedQuarter(o,r,g)&&!x,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":i&&a?ua(i,a,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(o,r)})},n.getMonthContent=function(r){var s=n.props,o=s.showFullMonthYearPicker,i=s.renderMonthContent,a=s.locale,l=s.day,c=Px(r,a),u=Mp(r,a);return i?i(r,c,u,l):o?u:c},n.getQuarterContent=function(r){var s,o=n.props,i=o.renderQuarterContent,a=o.locale,l=TM(r,a);return(s=i==null?void 0:i(r,l))!==null&&s!==void 0?s:l},n.renderMonths=function(){var r,s=n.props,o=s.showTwoColumnMonthYearPicker,i=s.showFourColumnMonthYearPicker,a=s.day,l=s.selected,c=(r=xu[Ig(i,o)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,d){return T.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(f,h){return T.createElement("div",{ref:n.MONTH_REFS[f],key:h,onClick:function(g){n.onMonthClick(g,f)},onKeyDown:function(g){jx(g)&&(g.preventDefault(),g.key=$.Enter),n.onMonthKeyDown(g,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,f,l):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,s=r.day,o=r.selected,i=[1,2,3,4];return T.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(a,l){return T.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":o?n.isSelectedQuarter(s,a,o):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(s,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,s=r.selectingDate,o=r.selectsStart,i=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return $e("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||i)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,s=n.selectedDates,o=n.selectsMultiple;if(o)return s;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,s=n.showQuarterYearPicker,o=n.day,i=n.ariaLabelPrefix,a=i===void 0?"Month ":i,l=a?a.trim()+" ":"";return T.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(me(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},t}(b.Component),GM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,s){return T.createElement("div",{className:n.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,s),"aria-selected":n.isSelectedMonth(s)?"true":void 0},n.isSelectedMonth(s)?T.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return T.createElement(mc,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),qM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(s,o){return T.createElement("option",{key:s,value:o},s)})},n.renderSelectMode=function(r){return T.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(s){return n.onChange(parseInt(s.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,s){return T.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},T.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[n.props.month]))},n.renderDropdown=function(r){return T.createElement(GM,ne({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var s=n.state.dropdownVisible,o=[n.renderReadView(!s,r)];return s&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return Px(o,n.props.locale)}:function(o){return Mp(o,n.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return T.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},t}(b.Component);function KM(e,t){for(var n=[],r=Dn(e),s=Dn(t);!lr(r,s);)n.push(oe(r)),r=qt(r,1);return n}var QM=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var o=Hd(s),i=en(r.props.date,s)&&Je(r.props.date,s);return T.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":i?"true":void 0},i?T.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",me(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:KM(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=$e({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return T.createElement(mc,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),JM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Dn(n.props.minDate),s=Dn(n.props.maxDate),o=[];!lr(r,s);){var i=Hd(r);o.push(T.createElement("option",{key:i,value:i},me(r,n.props.dateFormat,n.props.locale))),r=qt(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return T.createElement("select",{value:Hd(Dn(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var s=me(n.props.date,n.props.dateFormat,n.props.locale);return T.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},T.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},n.renderDropdown=function(){return T.createElement(QM,ne({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown();var s=oe(r);en(n.props.date,s)&&Je(n.props.date,s)||n.props.onChange(s)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return T.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(b.Component),XM=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((s=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var s,o;(n.props.minTime||n.props.maxTime)&&kg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Sg(r,n.props)||(o=(s=n.props).onChange)===null||o===void 0||o.call(s,r)},n.isSelectedTime=function(r){return n.props.selected&&BM(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&kg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Sg(r,n.props)},n.liClasses=function(r){var s,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Sn(r)*3600+kn(r)*60+rr(r))%(((s=n.props.intervals)!==null&&s!==void 0?s:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,s){var o,i;r.key===$.Space&&(r.preventDefault(),r.key=$.Enter),(r.key===$.ArrowUp||r.key===$.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===$.ArrowDown||r.key===$.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===$.Enter&&n.handleClick(s),(i=(o=n.props).handleOnKeyDown)===null||i===void 0||i.call(o,r)},n.renderTimes=function(){for(var r,s=[],o=typeof n.props.format=="string"?n.props.format:"p",i=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,a=n.props.selected||n.props.openToDate||oe(),l=ja(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(x,v){return x.getTime()-v.getTime()}),u=60*$M(a),d=u/i,f=0;f<d;f++){var h=$d(l,f*i);if(s.push(h),c){var g=FM(l,h,f,i,c);s=s.concat(g)}}var w=s.reduce(function(x,v){return v.getTime()<=a.getTime()?v:x},s[0]);return s.map(function(x){return T.createElement("li",{key:x.valueOf(),onClick:n.handleClick.bind(n,x),className:n.liClasses(x),ref:function(v){x===w&&(n.centerLi=v)},onKeyDown:function(v){n.handleOnKeyDown(v,x)},tabIndex:x===w?0:-1,role:"option","aria-selected":n.isSelectedTime(x)?"true":void 0,"aria-disabled":n.isDisabledTime(x)?"true":void 0},me(x,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?T.createElement(T.Fragment,null):T.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},T.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,s=this.state.height;return T.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),T.createElement("div",{className:"react-datepicker__time"},T.createElement("div",{className:"react-datepicker__time-box"},T.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(b.Component),Mg=3,ZM=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=sn([],Array(r.props.yearItemNumber),!0).map(function(){return b.createRef()}),r.isDisabled=function(s){return Ct(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return Ap(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var o=function(){var i,a;(a=(i=r.YEAR_REFS[s])===null||i===void 0?void 0:i.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(s,o){r.props.onDayClick&&r.props.onDayClick(s,o)},r.handleYearNavigation=function(s,o){var i,a,l,c,u=r.props,d=u.date,f=u.yearItemNumber;if(!(d===void 0||f===void 0)){var h=Vn(d,f).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(i=r.props).setPreSelection)===null||a===void 0||a.call(i,o),s-h<0?r.updateFocusOnPaginate(f-(h-s)):s-h>=f?r.updateFocusOnPaginate(Math.abs(f-(s-h))):(c=(l=r.YEAR_REFS[s-h])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(s,o){return te(s,o)},r.isCurrentYear=function(s){return s===Q(oe())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&en(Zt(oe(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&en(Zt(oe(),s),r.props.endDate)},r.isInRange=function(s){return ca(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var o=r.props,i=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,c=o.startDate,u=o.endDate;return!(i||a||l)||!r.selectingDate()?!1:i&&u?ca(s,r.selectingDate(),u):a&&c||l&&c&&!u?ca(s,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var o;if(!r.isInSelectingRange(s))return!1;var i=r.props,a=i.startDate,l=i.selectsStart,c=Zt(oe(),s);return l?en(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):en(c,a??null)},r.isSelectingRangeEnd=function(s){var o;if(!r.isInSelectingRange(s))return!1;var i=r.props,a=i.endDate,l=i.selectsEnd,c=i.selectsRange,u=Zt(oe(),s);return l||c?en(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):en(u,a??null)},r.isKeyboardSelected=function(s){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,i=o.minDate,a=o.maxDate,l=o.excludeDates,c=o.includeDates,u=o.filterDate,d=Co(Zt(r.props.date,s)),f=(i||a||l||c||u)&&Ia(s,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!te(d,Co(r.props.selected))&&te(d,Co(r.props.preSelection))&&!f}},r.isSelectedYear=function(s){var o=r.props,i=o.selectsMultiple,a=o.selected,l=o.selectedDates;return i?l==null?void 0:l.some(function(c){return s===Q(c)}):!!a&&s===Q(a)},r.onYearClick=function(s,o){var i=r.props.date;i!==void 0&&r.handleYearClick(Co(Zt(i,o)),s)},r.onYearKeyDown=function(s,o){var i,a,l=s.key,c=r.props,u=c.date,d=c.yearItemNumber,f=c.handleOnKeyDown;if(l!==$.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case $.Enter:if(r.props.selected==null)break;r.onYearClick(s,o),(a=(i=r.props).setPreSelection)===null||a===void 0||a.call(i,r.props.selected);break;case $.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,bn(r.props.preSelection,1));break;case $.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Ls(r.props.preSelection,1));break;case $.ArrowUp:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var h=Vn(u,d).startPeriod,g=Mg,w=o-g;if(w<h){var x=d%g;o>=h&&o<h+x?g=x:g+=x,w=o-g}r.handleYearNavigation(w,Ls(r.props.preSelection,g));break}case $.ArrowDown:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var v=Vn(u,d).endPeriod,g=Mg,w=o+g;if(w>v){var x=d%g;o<=v&&o>v-x?g=x:g+=x,w=o+g}r.handleYearNavigation(w,bn(r.props.preSelection,g));break}}f&&f(s)},r.getYearClassNames=function(s){var o=r.props,i=o.date,a=o.minDate,l=o.maxDate,c=o.excludeDates,u=o.includeDates,d=o.filterDate,f=o.yearClassName;return $e("react-datepicker__year-text","react-datepicker__year-".concat(s),i?f==null?void 0:f(Zt(i,s)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(s),"react-datepicker__year-text--disabled":(a||l||c||u||d)&&Ia(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=Q(r.props.preSelection),i=Ia(s,r.props);return s===o&&!i?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return t.prototype.render=function(){var n=this,r=[],s=this.props,o=s.date,i=s.yearItemNumber,a=s.onYearMouseEnter,l=s.onYearMouseLeave;if(o===void 0)return null;for(var c=Vn(o,i),u=c.startPeriod,d=c.endPeriod,f=function(w){r.push(T.createElement("div",{ref:h.YEAR_REFS[w-u],onClick:function(x){n.onYearClick(x,w)},onKeyDown:function(x){jx(x)&&(x.preventDefault(),x.key=$.Enter),n.onYearKeyDown(x,w)},tabIndex:Number(h.getYearTabIndex(w)),className:h.getYearClassNames(w),onMouseEnter:h.props.usePointerEvent?void 0:function(x){return a(x,w)},onPointerEnter:h.props.usePointerEvent?function(x){return a(x,w)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(x){return l(x,w)},onPointerLeave:h.props.usePointerEvent?function(x){return l(x,w)}:void 0,key:w,"aria-current":h.isCurrentYear(w)?"date":void 0},h.getYearContent(w)))},h=this,g=u;g<=d;g++)f(g);return T.createElement("div",{className:"react-datepicker__year"},T.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(b.Component);function eA(e,t,n,r){for(var s=[],o=0;o<2*t+1;o++){var i=e+t-o,a=!0;n&&(a=Q(n)<=i),r&&a&&(a=Q(r)>=i),a&&s.push(i)}return s}var tA=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return T.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?T.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),c=r.props.minDate?Q(r.props.minDate):null,u=r.props.maxDate?Q(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.unshift(T.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},T.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push(T.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},T.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,i=s||(o?10:5);return r.state={yearsList:eA(r.props.year,i,r.props.minDate,r.props.maxDate)},r.dropdownRef=b.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,s=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=$e({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return T.createElement(mc,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),nA=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Q(n.props.minDate):1900,s=n.props.maxDate?Q(n.props.maxDate):2100,o=[],i=r;i<=s;i++)o.push(T.createElement("option",{key:i,value:i},i));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return T.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return T.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return n.toggleDropdown(s)}},T.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return T.createElement(tA,ne({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,s){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,s),n.setOpen()},n.onSelect=function(r,s){var o,i;(i=(o=n.props).onSelect)===null||i===void 0||i.call(o,r,s)},n.setOpen=function(){var r,s;(s=(r=n.props).setOpen)===null||s===void 0||s.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return T.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(b.Component),rA=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],sA=function(e){var t=(e.className||"").split(/\s+/);return rA.some(function(n){return t.indexOf(n)>=0})},oA=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var o,i;sA(s.target)&&((i=(o=r.props).onDropdownFocus)===null||i===void 0||i.call(o,s))},r.getDateInView=function(){var s=r.props,o=s.preSelection,i=s.selected,a=s.openToDate,l=Ox(r.props),c=Rx(r.props),u=oe(),d=a||i||o;return d||(l&&Ur(u,l)?l:c&&lr(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(s){var o=s.date;return{date:qt(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var o=s.date;return{date:Rr(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,o,i){r.props.onSelect(s,o,i),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,o){r.setState({selectingDate:Zt(oe(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,o)},r.handleYearMouseLeave=function(s,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,o)},r.handleYearChange=function(s){var o,i,a,l;(i=(o=r.props).onYearChange)===null||i===void 0||i.call(o,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!Ct(s,r.props))return s;for(var o=Dn(s),i=CM(s),a=UO(i,o),l=null,c=0;c<=a;c++){var u=zt(o,c);if(!Ct(u,r.props)){l=u;break}}return l},r.handleMonthChange=function(s){var o,i,a,l=(o=r.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(i=r.props).setOpen)===null||a===void 0||a.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(s){var o,i;(i=(o=r.props).onMonthChange)===null||i===void 0||i.call(o,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(o){var i=o.date;return{date:Zt(i,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(o){var i=o.date;return{date:St(i,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(o){var i=o.date;return{date:Zt(St(i,Ve(s)),Q(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var o=sr(s,r.props.locale,r.props.calendarStartDay),i=[];return r.props.showWeekNumbers&&i.push(T.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(a){var l=zt(o,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return T.createElement("div",{key:a,"aria-label":me(l,"EEEE",r.props.locale),className:$e("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(s,o){return r.props.formatWeekDay?EM(s,r.props.formatWeekDay,o):r.props.useWeekdaysShort?PM(s,o):NM(s,o)},r.decreaseYear=function(){r.setState(function(s){var o,i=s.date;return{date:Ls(i,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,o,i;if(!r.props.renderCustomHeader){var a=(s=r.props.monthsShown)!==null&&s!==void 0?s:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,u=Rr(r.state.date,c),d;switch(!0){case r.props.showMonthYearPicker:d=Eg(r.state.date,r.props);break;case r.props.showYearPicker:d=IM(r.state.date,r.props);break;case r.props.showQuarterYearPicker:d=RM(r.state.date,r.props);break;default:d=Dg(u,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&d||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],h=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),d&&r.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--previous--disabled"),g=void 0);var w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,x=r.props,v=x.previousMonthButtonLabel,m=v===void 0?t.defaultProps.previousMonthButtonLabel:v,y=x.previousYearButtonLabel,_=y===void 0?t.defaultProps.previousYearButtonLabel:y,S=r.props,k=S.previousMonthAriaLabel,C=k===void 0?typeof m=="string"?m:"Previous Month":k,E=S.previousYearAriaLabel,N=E===void 0?typeof _=="string"?_:"Previous Year":E;return T.createElement("button",{type:"button",className:h.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":w?N:C},T.createElement("span",{className:f.join(" ")},w?_:m))}}},r.increaseYear=function(){r.setState(function(s){var o,i=s.date;return{date:bn(i,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Ng(r.state.date,r.props);break;case r.props.showYearPicker:o=MM(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=jM(r.state.date,r.props);break;default:o=Cg(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,f=d===void 0?t.defaultProps.nextMonthButtonLabel:d,h=u.nextYearButtonLabel,g=h===void 0?t.defaultProps.nextYearButtonLabel:h,w=r.props,x=w.nextMonthAriaLabel,v=x===void 0?typeof f=="string"?f:"Next Month":x,m=w.nextYearAriaLabel,y=m===void 0?typeof g=="string"?g:"Next Year":m;return T.createElement("button",{type:"button",className:i.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?y:v},T.createElement("span",{className:a.join(" ")},c?g:f))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),T.createElement("h2",{className:o.join(" ")},me(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return T.createElement(nA,ne({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Q(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return T.createElement(qM,ne({},t.defaultProps,r.props,{month:Ve(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return T.createElement(JM,ne({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(xg(),s),r.props.setPreSelection&&r.props.setPreSelection(xg())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return T.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(s){var o=s.monthDate,i=s.i;return T.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),T.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(i!==0),r.renderMonthYearDropdown(i!==0),r.renderYearDropdown(i!==0)),T.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(s){var o,i,a=s.monthDate,l=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=Dg(r.state.date,r.props),u=Cg(r.state.date,r.props),d=Eg(r.state.date,r.props),f=Ng(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return T.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(i=(o=r.props).renderCustomHeader)===null||i===void 0?void 0:i.call(o,ne(ne({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),h&&T.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(s){var o=s.monthDate,i=r.props,a=i.showYearPicker,l=i.yearItemNumber,c=l===void 0?t.defaultProps.yearItemNumber:l,u=Vn(o,c),d=u.startPeriod,f=u.endPeriod;return T.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(f):Q(o))},r.renderHeader=function(s){var o=s.monthDate,i=s.i,a=i===void 0?0:i,l={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var s,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],a=(s=r.props.monthsShown)!==null&&s!==void 0?s:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?bn(r.state.date,l):Rr(r.state.date,l),u=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,d=0;d<a;++d){var f=d-u+l,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?bn(c,f):qt(c,f),g="month-".concat(d),w=d<a-1,x=d>0;i.push(T.createElement("div",{key:g,ref:function(v){r.monthContainer=v??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:d}),T.createElement(VM,ne({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:x}))))}return i}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return T.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),T.createElement(ZM,ne({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return T.createElement(XM,ne({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,o=s&&gc(s)&&!!r.props.selected,i=o?"".concat(Tg(s.getHours()),":").concat(Tg(s.getMinutes())):"";if(r.props.showTimeInput)return T.createElement(UM,ne({},t.defaultProps,r.props,{date:s,timeString:i,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,o=Vn(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber),i=o.startPeriod,a=o.endPeriod,l;return r.props.showYearPicker?l="".concat(i," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Q(r.state.date):l="".concat(Mp(Ve(r.state.date),r.props.locale)," ").concat(Q(r.state.date)),T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return T.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=b.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Oi}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!te(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var s=!Je(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!te(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||wM;return T.createElement(mc,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},T.createElement("div",{style:{display:"contents"},ref:this.containerRef},T.createElement(n,{className:$e("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(b.Component),iA=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,s=e.onClick,o="react-datepicker__calendar-icon";if(typeof t=="string")return T.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:s});if(T.isValidElement(t)){var i=t;return T.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(o," ").concat(r),onClick:function(a){typeof i.props.onClick=="function"&&i.props.onClick(a),typeof s=="function"&&s(a)}})}return T.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},T.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Ix=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Zy.createPortal(this.props.children,this.el)},t}(b.Component),aA="[tabindex], a, button, input, select, textarea",lA=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},Mx=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(aA),1,-1).filter(lA)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=b.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?T.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},T.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,T.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(b.Component);function cA(e){var t=function(n){var r,s=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=b.useRef(null),i=yM(ne({open:!s,whileElementsMounted:QI,placement:n.popperPlacement,middleware:sn([oM({padding:15}),sM(10),iM({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=ne(ne({},n),{hidePopper:s,popperProps:ne(ne({},i),{arrowRef:o})});return T.createElement(e,ne({},a))};return t}var uA=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,s=n.wrapperClassName,o=n.hidePopper,i=o===void 0?t.defaultProps.hidePopper:o,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,u=n.popperOnKeyDown,d=n.portalId,f=n.portalHost,h=n.popperProps,g=n.showArrow,w=void 0;if(!i){var x=$e("react-datepicker-popper",r);w=T.createElement(Mx,{enableTabLoop:c},T.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:x,"data-placement":h.placement,onKeyDown:u},a,g&&T.createElement(dM,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(w=b.createElement(this.props.popperContainer,{},w)),d&&!i&&(w=T.createElement(Ix,{portalId:d,portalHost:f},w));var v=$e("react-datepicker-wrapper",s);return T.createElement(T.Fragment,null,T.createElement("div",{ref:h.refs.setReference,className:v},l),w)},t}(b.Component),dA=cA(uA),Ag="react-datepicker-ignore-onclickoutside";function fA(e,t){return e&&t?Ve(e)!==Ve(t)||Q(e)!==Q(t):e!==t}var bu="Date input not valid.",pA=function(e){Ae(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:oe()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,i){var a=new Date(i.date);return gc(a)?sn(sn([],o,!0),[ne(ne({},i),{date:a})],!1):o},[])},r.calcInitialState=function(){var s,o=r.getPreSelection(),i=Ox(r.props),a=Rx(r.props),l=i&&Ur(o,ja(i))?i:a&&lr(o,bg(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:l,highlightDates:Pg(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ne(ne({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ne(ne({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var s,o;(o=(s=r.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},r.setBlur=function(){var s,o;(o=(s=r.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(s,o){o===void 0&&(o=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:_u},function(){s||r.setState(function(i){return{focused:o?i.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return _n(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var o,i,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((i=(o=r.props).onFocus)===null||i===void 0||i.call(o,s),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(s){var o,i;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((i=(o=r.props).onBlur)===null||i===void 0||i.call(o,s)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var o,i;r.props.inline||r.setOpen(!1),(i=(o=r.props).onClickOutside)===null||i===void 0||i.call(o,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,o,i,a,l,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){r.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:hA});var f=r.props,h=f.selectsRange,g=f.startDate,w=f.endDate,x=(s=r.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,v=(o=r.props.strictParsing)!==null&&o!==void 0?o:t.defaultProps.strictParsing,m=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(h){var y=m.split(x.includes("-")?Nx:"-",2).map(function(j){return j.trim()}),_=y[0],S=y[1],k=yu(_??"",x,r.props.locale,v),C=yu(S??"",x,r.props.locale,v),E=(g==null?void 0:g.getTime())!==(k==null?void 0:k.getTime()),N=(w==null?void 0:w.getTime())!==(C==null?void 0:C.getTime());if(!E&&!N||k&&Ct(k,r.props)||C&&Ct(C,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[k,C],d)}else{var P=yu(m,x,r.props.locale,v,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(P||!m)&&r.setSelected(P,d,!0)}}},r.handleSelect=function(s,o,i){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(s,o,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!jg(s,l))&&r.setOpen(!1)}}},r.setSelected=function(s,o,i,a){var l,c,u=s;if(r.props.showYearPicker){if(u!==null&&Ia(Q(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&Tx(u,r.props))return}else if(u!==null&&Ct(u,r.props))return;var d=r.props,f=d.onChange,h=d.selectsRange,g=d.startDate,w=d.endDate,x=d.selectsMultiple,v=d.selectedDates,m=d.minTime,y=d.swapRange;if(!Nr(r.props.selected,u)||r.props.allowSameDay||h||x)if(u!==null&&(r.props.selected&&(!i||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=wu(u,{hour:Sn(r.props.selected),minute:kn(r.props.selected),second:rr(r.props.selected)})),!i&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&m&&(u=wu(u,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),h){var _=!g&&!w,S=g&&!w,k=g&&w;_?f==null||f([u,null],o):S&&(u===null?f==null||f([null,null],o):jg(u,g)?y?f==null||f([u,g],o):f==null||f([u,null],o):f==null||f([g,u],o)),k&&(f==null||f([u,null],o))}else if(x){if(u!==null)if(!(v!=null&&v.length))f==null||f([u],o);else{var C=v.some(function(N){return te(N,u)});if(C){var E=v.filter(function(N){return!te(N,u)});f==null||f(E,o)}else f==null||f(sn(sn([],v,!0),[u],!1),o)}}else f==null||f(u,o);i||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,u,o),r.setState({inputValue:null}))},r.setPreSelection=function(s){if(!r.props.readOnly){var o=_n(r.props.minDate),i=_n(r.props.maxDate),a=!0;if(s){var l=ja(s);if(o&&i)a=Eo(s,r.props.minDate,r.props.maxDate);else if(o){var c=ja(r.props.minDate);a=lr(s,c)||Nr(l,c)}else if(i){var u=bg(r.props.maxDate);a=Ur(s,u)||Nr(l,u)}}a&&r.setState({preSelection:s})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var o,i;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?s:wu(a,{hour:Sn(s),minute:kn(s)});r.setState({preSelection:l}),(i=(o=r.props).onChange)===null||i===void 0||i.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(s=r.props).onInputClick)===null||o===void 0||o.call(s)},r.onInputKeyDown=function(s){var o,i,a,l,c,u;(i=(o=r.props).onKeyDown)===null||i===void 0||i.call(o,s);var d=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===$.ArrowDown||d===$.ArrowUp||d===$.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(d===$.ArrowDown||d===$.ArrowUp){s.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var g=oe(r.state.preSelection);d===$.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===_u?(r.handleSelect(g,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):d===$.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):d===$.Tab&&r.setOpen(!1),r.inputOk()||(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:bu})}},r.onPortalKeyDown=function(s){var o=s.key;o===$.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var o,i,a,l,c,u,d=r.props,f=d.minDate,h=d.maxDate,g=d.disabledKeyboardNavigation,w=d.showWeekPicker,x=d.shouldCloseOnSelect,v=d.locale,m=d.calendarStartDay,y=d.adjustDateOnChange,_=d.inline;if((i=(o=r.props).onKeyDown)===null||i===void 0||i.call(o,s),!g){var S=s.key,k=s.shiftKey,C=oe(r.state.preSelection),E=function(H,F){var I=F;switch(H){case $.ArrowRight:I=w?yl(F,1):zt(F,1);break;case $.ArrowLeft:I=w?lg(F,1):Fj(F,1);break;case $.ArrowUp:I=lg(F,1);break;case $.ArrowDown:I=yl(F,1);break;case $.PageUp:I=k?Ls(F,1):Rr(F,1);break;case $.PageDown:I=k?bn(F,1):qt(F,1);break;case $.Home:I=sr(F,v,m);break;case $.End:I=DM(F);break}return I},N=function(H,F){for(var I=40,D=H,O=!1,L=0,Y=E(H,F);!O;){if(L>=I){Y=F;break}f&&Y<f&&(D=$.ArrowRight,Y=Ct(f,r.props)?E(D,Y):f),h&&Y>h&&(D=$.ArrowLeft,Y=Ct(h,r.props)?E(D,Y):h),Ct(Y,r.props)?((D===$.PageUp||D===$.Home)&&(D=$.ArrowRight),(D===$.PageDown||D===$.End)&&(D=$.ArrowLeft),Y=E(D,Y)):O=!0,L++}return Y};if(S===$.Enter){s.preventDefault(),r.handleSelect(C,s),!x&&r.setPreSelection(C);return}else if(S===$.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:bu});return}var P=null;switch(S){case $.ArrowLeft:case $.ArrowRight:case $.ArrowUp:case $.ArrowDown:case $.PageUp:case $.PageDown:case $.Home:case $.End:P=N(S,C);break}if(!P){(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:bu});return}if(s.preventDefault(),r.setState({lastPreSelectChange:_u}),y&&r.setSelected(P),r.setPreSelection(P),_){var j=Ve(C),B=Ve(P),M=Q(C),V=Q(P);j!==B||M!==V?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var o=s.key;o===$.Escape&&(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var o=r.props,i=o.selectsRange,a=o.onChange;i?a==null||a([null,null],s):a==null||a(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,o;return!r.props.inline&&!r.isCalendarOpen()?null:T.createElement(oA,ne({showMonthYearDropdown:void 0,ref:function(i){r.calendar=i}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:LM(r.modifyHolidays()),outsideClickIgnoreClass:Ag,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s=r.props,o=s.dateFormat,i=o===void 0?t.defaultProps.dateFormat:o,a=s.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(_t(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+_t(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(_t(r.props.selected,{dateFormat:i,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(_t(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(_t(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(_t(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(_t(r.props.selected,{dateFormat:c,locale:a})),T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var s,o,i,a=$e(r.props.className,(s={},s[Ag]=r.state.open,s)),l=r.props.customInput||T.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,d=u.dateFormat,f=d===void 0?t.defaultProps.dateFormat:d,h=u.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?bM(r.props.startDate,r.props.endDate,{dateFormat:f,locale:h}):r.props.selectsMultiple?_M((i=r.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:f,locale:h}):_t(r.props.selected,{dateFormat:f,locale:h});return b.cloneElement(l,(o={},o[c]=function(w){r.input=w},o.value=g,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=$e(l.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var s=r.props,o=s.isClearable,i=s.disabled,a=s.selected,l=s.startDate,c=s.endDate,u=s.clearButtonTitle,d=s.clearButtonClassName,f=d===void 0?"":d,h=s.ariaLabelClose,g=h===void 0?"Close":h,w=s.selectedDates,x=s.readOnly;return o&&!x&&(a!=null||l!=null||c!=null||w!=null&&w.length)?T.createElement("button",{type:"button",className:$e("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":g,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Oi,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var s,o,i,a;n.inline&&fA(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Pg(this.props.highlightDates)}),!r.focused&&!Nr(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),r.open===!0&&this.state.open===!1&&((a=(i=this.props).onCalendarClose)===null||a===void 0||a.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,s=n.icon,o=n.calendarIconClassname,i=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),T.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&T.createElement(iA,ne({icon:s,className:$e(i,!i&&o,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?T.createElement(Mx,{enableTabLoop:this.props.enableTabLoop},T.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=T.createElement(Ix,ne({portalId:this.props.portalId},this.props),r)),T.createElement("div",null,this.renderInputContainer(),r)}return T.createElement(dA,ne({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(b.Component),hA="input",_u="navigate";function mA({value:e,onChange:t,label:n="Site Submit"}){const[r,s]=b.useState(""),[o,i]=b.useState([]),[a,l]=b.useState(null),[c,u]=b.useState(!1),d=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{e?q.from("site_submit").select("*").eq("id",e).single().then(({data:x})=>{x&&(l(x),s(x.code||""))}):(l(null),s(""))},[e]),b.useEffect(()=>{const v=setTimeout(async()=>{if(r.length===0){i([]);return}const{data:m}=await q.from("site_submit").select("*").or(`site_submit_name.ilike.%${r}%,code.ilike.%${r}%`).limit(10).order("site_submit_name");m&&i(m)},300);return()=>clearTimeout(v)},[r]),b.useEffect(()=>{const x=v=>{f.current&&!f.current.contains(v.target)&&d.current&&!d.current.contains(v.target)&&u(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const h=x=>{l(x),s(x.code||""),t(x.id),u(!1),i([])},g=x=>{s(x.target.value),u(!0),x.target.value===""&&(t(null),l(null))},w=()=>{d.current&&d.current.select(),r.length>0&&u(!0)};return p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx("input",{ref:d,type:"text",value:r,onChange:g,onFocus:w,placeholder:"Search by site submit name...",className:"block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}),c&&o.length>0&&p.jsx("div",{ref:f,className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-auto",children:o.map(x=>p.jsxs("div",{onClick:()=>h(x),className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",children:[p.jsx("div",{className:"font-medium",children:x.code}),x.site_submit_name&&p.jsx("div",{className:"text-xs text-gray-500",children:x.site_submit_name})]},x.id))})]}),a&&p.jsx("div",{className:"mt-1",children:p.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:text-blue-800",onClick:()=>{console.log("View site submit:",a.id)},children:"View Site Submit Details "})})]})}function gA({value:e,onChange:t,propertyId:n,label:r="Property Unit"}){const[s,o]=b.useState(""),[i,a]=b.useState([]),[l,c]=b.useState(null),[u,d]=b.useState(!1),f=b.useRef(null),h=b.useRef(null);b.useEffect(()=>{e?q.from("property_unit").select("*").eq("id",e).single().then(({data:m})=>{m&&(c(m),o(m.property_unit_name||""))}):(c(null),o(""))},[e]),b.useEffect(()=>{const y=setTimeout(async()=>{if(!n){a([]);return}let _=q.from("property_unit").select("*").eq("property_id",n);s.length>0&&(_=_.ilike("property_unit_name",`%${s}%`));const{data:S}=await _.limit(20).order("property_unit_name");S&&a(S)},300);return()=>clearTimeout(y)},[s,n,u]),b.useEffect(()=>{const m=y=>{h.current&&!h.current.contains(y.target)&&f.current&&!f.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const g=m=>{c(m),o(m.property_unit_name||""),t(m.id),d(!1)},w=m=>{o(m.target.value),d(!0),m.target.value===""&&(t(null),c(null))},x=()=>{n&&(f.current&&f.current.select(),d(!0))},v=m=>{const y=[];m.sqft&&y.push(`${Number(m.sqft).toLocaleString()} sqft`),m.rent&&y.push(`$${Number(m.rent).toLocaleString()}/mo`);const _=[];return m.inline===!0&&_.push("Inline"),m.end_cap===!0&&_.push("End Cap"),m.patio===!0&&_.push("Patio"),_.length>0&&y.push(_.join(", ")),y.join("  ")};return p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx("input",{ref:f,type:"text",value:s,onChange:w,onFocus:x,placeholder:n?"Search or select unit...":"Select a property first",disabled:!n,className:"block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"}),u&&i.length>0&&n&&p.jsx("div",{ref:h,className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-auto",children:i.map(m=>p.jsxs("div",{onClick:()=>g(m),className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",children:[p.jsx("div",{className:"font-medium",children:m.property_unit_name}),p.jsx("div",{className:"text-xs text-gray-500",children:v(m)})]},m.id))}),u&&i.length===0&&n&&s.length>0&&p.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg p-2 text-sm text-gray-500",children:"No units found for this property"})]}),l&&p.jsx("div",{className:"mt-1",children:p.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:text-blue-800",onClick:()=>{console.log("View property unit:",l.id)},children:"View Property Unit Details "})})]})}function vA({value:e,onChange:t,label:n="Property"}){const[r,s]=b.useState(""),[o,i]=b.useState([]),[a,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),h=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{e?q.from("property").select("*").eq("id",e).single().then(({data:m})=>{m&&(l(m),s(m.property_name||""))}):(l(null),s(""))},[e]),b.useEffect(()=>{const y=setTimeout(async()=>{if(!r||r.trim().length===0){i([]);return}f(!0),console.log("Searching for:",r);const{data:_,error:S}=await q.from("property").select("*").ilike("property_name",`%${r}%`).limit(10).order("property_name");i(_||[]),f(!1)},300);return()=>clearTimeout(y)},[r]),b.useEffect(()=>{const m=y=>{g.current&&!g.current.contains(y.target)&&h.current&&!h.current.contains(y.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const w=m=>{l(m),s(m.property_name||""),t(m.id),u(!1),i([])},x=m=>{const y=m.target.value;s(y),y.length>0&&u(!0),a&&y!==a.property_name&&(l(null),t(null)),y===""&&(t(null),l(null),i([]),u(!1))},v=()=>{h.current&&h.current.select(),o.length>0&&u(!0)};return p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx("input",{ref:h,type:"text",value:r,onChange:x,onFocus:v,placeholder:"Type to search properties...",className:"block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}),c&&p.jsx("div",{ref:g,className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-auto",children:d?p.jsx("div",{className:"p-2 text-sm text-gray-500",children:"Loading..."}):o.length>0?o.map(m=>{var y,_,S,k;return p.jsxs("div",{onClick:()=>w(m),className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",children:[p.jsx("div",{className:"font-medium",children:m.property_name}),(((y=m.property_type)==null?void 0:y.label)||((_=m.property_stage)==null?void 0:_.label))&&p.jsx("div",{className:"text-xs text-gray-500",children:[(S=m.property_type)==null?void 0:S.label,(k=m.property_stage)==null?void 0:k.label].filter(Boolean).join("  ")})]},m.id)}):r.length>0?p.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No properties found"}):null})]}),a&&p.jsx("div",{className:"mt-1",children:p.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:text-blue-800",onClick:()=>{console.log("View property:",a.id)},children:"View Property Details "})})]})}const yA={"Negotiating LOI":50,"At Lease/PSA":75,"Under Contract / Contingent":85,Booked:90,"Executed Payable":95,"Closed Paid":100,Lost:0};function wA({deal:e,onSave:t}){const[n,r]=b.useState(e),[s,o]=b.useState(!1),[i,a]=b.useState(null),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,h]=b.useState(""),[g,w]=b.useState(""),[x,v]=b.useState([]),[m,y]=b.useState({}),[_,S]=b.useState(!1),[k,C]=b.useState(!1),E=b.useRef(null),N=b.useRef(!0);b.useEffect(()=>{r(e),y({}),C(!1),E.current=e.stage_id??null,N.current=!0},[e]),b.useEffect(()=>{q.from("deal_stage").select("id, label").then(({data:D})=>D&&c(D)),q.from("deal_team").select("id, label").then(({data:D})=>D&&d(D)),e.updated_by_id&&q.from("user").select("name").eq("id",e.updated_by_id).maybeSingle().then(({data:D})=>(D==null?void 0:D.name)&&h(D.name)),e.client_id?q.from("client").select("client_name").eq("id",e.client_id).maybeSingle().then(({data:D})=>(D==null?void 0:D.client_name)&&w(D.client_name)):w("")},[e.client_id,e.property_id]),b.useEffect(()=>{const O=setTimeout(async()=>{const L=g.trim();if(!L)return v([]);const{data:Y}=await q.from("client").select("id, client_name").ilike("client_name",`%${L}%`).order("client_name",{ascending:!0}).limit(5);Y&&v(Y.map(Z=>({id:Z.id,label:Z.client_name})))},150);return()=>clearTimeout(O)},[g]);const P=(D,O)=>{D==="probability"&&C(!0);const L={...n,[D]:O};if(r(L),["deal_name","deal_value","commission_percent"].includes(D)){const Y=M(D,O);y(Z=>{const Ee={...Z},Ne=Y[D];return Ne?Ee[D]=Ne:delete Ee[D],Ee})}if(D==="commission_percent"){const Y=L.flat_fee_override??(L.deal_value??0)*((O??0)/100);(async()=>{const{data:Ee,error:Ne}=await q.from("deal").update({commission_percent:O,fee:Y}).eq("id",n.id).select().single();Ne?console.error("Error auto-saving commission:",Ne):Ee&&t(Ee)})()}},j=n.flat_fee_override??(n.deal_value??0)*((n.commission_percent??0)/100),B=()=>{var D;return(D=l.find(O=>O.id===n.stage_id))==null?void 0:D.label};b.useEffect(()=>{if(!n.stage_id||l.length===0)return;const D=B();if(!D)return;const O=yA[D];if(N.current){if(N.current=!1,n.probability==null&&typeof O=="number"){r(Z=>({...Z,probability:O})),S(!0);const Y=setTimeout(()=>S(!1),800);return()=>clearTimeout(Y)}return}if(E.current!==n.stage_id&&typeof O=="number"){r(Z=>({...Z,probability:O})),C(!1),S(!0);const Y=setTimeout(()=>S(!1),800);return E.current=n.stage_id,()=>clearTimeout(Y)}E.current=n.stage_id},[n.stage_id,l]);const M=(D,O)=>{const L={};if(D==="deal_name"&&(!O||String(O).trim().length===0)&&(L.deal_name="Opportunity Name is required."),D==="deal_value"&&(O===null||O===""||isNaN(Number(O))?L.deal_value="Enter a number.":Number(O)<0&&(L.deal_value="Must be  0.")),D==="commission_percent"){const Y=Number(O);O===null||O===""||isNaN(Y)?L.commission_percent="Enter a percent.":(Y<0||Y>100)&&(L.commission_percent="0100 only.")}return L},V=D=>{const O={};return Object.assign(O,M("deal_name",D.deal_name)),Object.assign(O,M("deal_value",D.deal_value)),Object.assign(O,M("commission_percent",D.commission_percent)),O},H=async()=>{const D=V(n);if(y(D),Object.keys(D).length>0)return;o(!0);const O={deal_name:n.deal_name,client_id:n.client_id,property_id:n.property_id,property_unit_id:n.property_unit_id,site_submit_id:n.site_submit_id,deal_value:n.deal_value,commission_percent:n.commission_percent,flat_fee_override:n.flat_fee_override,fee:j,target_close_date:n.target_close_date,loi_signed_date:n.loi_signed_date,closed_date:n.closed_date,probability:n.probability,deal_team_id:n.deal_team_id,stage_id:n.stage_id,updated_at:new Date().toISOString()},{data:L,error:Y}=await q.from("deal").update(O).eq("id",n.id).select().single();o(!1),Y?alert("Error saving: "+Y.message):L&&t(L)},F=B(),I=F==="Closed Paid";return p.jsxs("div",{className:"relative",children:[p.jsx(fa,{title:"Deal Context",help:"Name the opportunity, choose the client, property, and deal team.",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(xA,{label:"Opportunity Name",value:n.deal_name,onChange:D=>P("deal_name",D)}),p.jsx(bA,{label:"Client",search:g,setSearch:w,suggestions:x,onSelect:(D,O)=>{P("client_id",D),w(O),v([])}}),p.jsx(vA,{value:n.property_id,onChange:D=>P("property_id",D),label:"Property"}),p.jsx(gA,{value:n.property_unit_id,onChange:D=>P("property_unit_id",D),propertyId:n.property_id,label:"Property Unit"}),p.jsx(mA,{value:n.site_submit_id,onChange:D=>P("site_submit_id",D),label:"Site Submit"}),p.jsx(Lg,{label:"Deal Team",value:n.deal_team_id,onChange:D=>P("deal_team_id",D),options:u}),m.deal_name&&p.jsx(Su,{msg:m.deal_name,className:"col-span-2"})]})}),p.jsx(fa,{title:"Financials",help:"Set value and commission. Fee auto-calculates unless a flat fee is set.",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(sa,{label:"Deal Value",value:n.deal_value,onChange:D=>P("deal_value",D===""?null:parseFloat(D)),format:D=>pu(D,2),editingField:i,setEditingField:a,fieldKey:"deal_value"}),m.deal_value&&p.jsx(Su,{msg:m.deal_value}),p.jsx(sa,{label:"Commission %",value:n.commission_percent,onChange:D=>P("commission_percent",D===""?null:parseFloat(D)),format:D=>RO(D,2),editingField:i,setEditingField:a,fieldKey:"commission_percent"}),m.commission_percent&&p.jsx(Su,{msg:m.commission_percent}),p.jsx(sa,{label:"Flat Fee Override",value:n.flat_fee_override,onChange:D=>P("flat_fee_override",D===""?null:parseFloat(D)),format:D=>D===null?"":pu(D,2),editingField:i,setEditingField:a,fieldKey:"flat_fee_override"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Calculated Fee"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:isNaN(j)?"":pu(j,2)})]})]})}),p.jsx(fa,{title:"Stage & Probability",help:"Choosing a stage will set a default probability. You can override it.",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Lg,{label:"Stage",value:n.stage_id,onChange:D=>P("stage_id",D),options:l}),p.jsx("div",{className:"rounded transition-colors duration-700 "+(_?"bg-yellow-50":"bg-transparent"),children:p.jsx(sa,{label:"Probability %",value:n.probability,onChange:D=>P("probability",D===""?null:parseFloat(D)),format:D=>jO(D),editingField:i,setEditingField:a,fieldKey:"probability"})})]})}),p.jsx(fa,{title:"Timeline",help:"Target and actual dates. Closed Date enabled only at Closed Paid.",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(ku,{label:"Target Close Date",value:n.target_close_date,onChange:D=>P("target_close_date",D)}),p.jsx(ku,{label:"LOI Signed Date",value:n.loi_signed_date,onChange:D=>P("loi_signed_date",D)}),p.jsx(ku,{label:"Closed Date",value:n.closed_date,onChange:D=>P("closed_date",D),disabled:!I,tooltip:I?void 0:"Set Stage to 'Closed Paid' to enable"})]})}),p.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white border-t mt-6 p-3 flex items-center justify-between shadow-sm",children:[p.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:n.updated_at?p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Last Updated by"}),p.jsx("span",{className:"font-medium",children:f||"Unknown"}),p.jsxs("span",{children:[new Date(n.updated_at).toLocaleDateString()," ",new Date(n.updated_at).toLocaleTimeString()]})]}):p.jsx("span",{children:"Not yet saved"})}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-xs text-gray-500",children:F?`Stage: ${F}`:"No stage selected"}),p.jsx("button",{onClick:H,disabled:s||Object.keys(m).length>0,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-60",children:s?"Saving...":"Save Deal"})]})]})]})}function fa({title:e,help:t,children:n}){return p.jsxs("section",{className:"bg-white rounded-md border p-4 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:e}),t&&p.jsx("span",{className:"text-gray-500 text-xs border rounded-full w-4 h-4 inline-flex items-center justify-center",title:t,"aria-label":t,children:"i"})]}),n]})}function Su({msg:e,className:t=""}){return p.jsx("p",{className:"text-xs text-red-600 mt-1 "+t,children:e})}function xA({label:e,value:t,onChange:n,type:r="text",className:s=""}){return p.jsxs("div",{className:s,children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),p.jsx("input",{type:r,value:t??"",onChange:o=>n(o.target.value),className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"})]})}function ku({label:e,value:t,onChange:n,disabled:r,tooltip:s}){const o=t?px(t):null;return p.jsxs("div",{title:s,children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),p.jsx(pA,{selected:o,onChange:i=>n(i?Yd(i,"yyyy-MM-dd"):null),className:`mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm ${r?"bg-gray-100 cursor-not-allowed":""}`,dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:r})]})}function Lg({label:e,value:t,onChange:n,options:r}){return p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),p.jsxs("select",{value:t??"",onChange:s=>n(s.target.value),className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",children:[p.jsx("option",{value:"",children:"-- Select --"}),r.map(s=>p.jsx("option",{value:s.id,children:s.label},s.id))]})]})}function bA({label:e,search:t,setSearch:n,suggestions:r,onSelect:s}){const o=b.useRef(null),i=()=>{o.current&&o.current.select()};return p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),p.jsx("input",{ref:o,type:"text",value:t,onChange:a=>n(a.target.value),onFocus:i,placeholder:`Search ${e.toLowerCase()}...`,className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}),r.filter(a=>a.label!==t).length>0&&p.jsx("ul",{className:"bg-white border border-gray-300 rounded mt-1 max-h-48 overflow-auto",children:r.filter(a=>a.label!==t).map(a=>p.jsx("li",{onClick:()=>s(a.id,a.label),className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",children:a.label},a.id))})]})}const Ax=b.createContext(null),Lx=()=>{const e=b.useContext(Ax);if(!e)throw new Error("usePanelManager must be used within a FloatingPanelManager");return e},_A=({children:e})=>{const[t,n]=b.useState(null),r=i=>{n(i)},s=()=>{n(null)},o=i=>{t===i?s():r(i)};return p.jsx(Ax.Provider,{value:{activePanel:t,openPanel:r,closePanel:s,togglePanel:o},children:e})},xo=({type:e,icon:t,count:n,label:r,position:s})=>{const{activePanel:o,togglePanel:i}=Lx(),a=o===e;return p.jsxs("div",{className:"relative group",children:[p.jsxs("button",{onClick:()=>i(e),className:`
          relative flex items-center justify-center w-10 h-10 rounded-full shadow-md
          transition-all duration-300 ease-out hover:scale-110 hover:shadow-lg
          backdrop-blur-sm border
          ${a?"bg-blue-600 text-white border-blue-500 shadow-blue-200":"bg-white/90 text-gray-600 hover:bg-white border-gray-200 hover:text-gray-800"}
        `,title:r,children:[p.jsx("span",{className:"text-sm",children:t}),n!==void 0&&n>0&&p.jsx("span",{className:`
            absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 text-xs font-medium rounded-full
            border-2 border-white
            ${a?"bg-white text-blue-600":"bg-red-500 text-white"}
          `,children:n>99?"99+":n})]}),p.jsxs("div",{className:"absolute right-full mr-3 px-3 py-1.5 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none",children:[r,n!==void 0&&p.jsxs("span",{className:"ml-1 text-gray-300",children:["(",n,")"]}),p.jsx("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 w-0 h-0 border-l-4 border-l-gray-900 border-t-4 border-t-transparent border-b-4 border-b-transparent"})]})]})},SA=({children:e,contactCount:t=0,notesCount:n=0,filesCount:r=0,activityCount:s=0,paymentsCount:o=0})=>p.jsxs("div",{className:"relative",children:[e,p.jsxs("div",{className:"fixed right-4 top-1/2 transform -translate-y-1/2 space-y-3",style:{zIndex:50},children:[p.jsx(xo,{type:"contacts",icon:"",count:t,label:"Contact Roles",position:0}),p.jsx(xo,{type:"notes",icon:"",count:n,label:"Notes",position:1}),p.jsx(xo,{type:"files",icon:"",count:r,label:"Files",position:2}),p.jsx(xo,{type:"activity",icon:"",count:s,label:"Activity",position:3}),p.jsx(xo,{type:"payments",icon:"",count:o,label:"Payments",position:4})]})]}),Fx=e=>{const[t,n]=b.useState([]),[r,s]=b.useState(!0),[o,i]=b.useState(null);return b.useEffect(()=>{(async()=>{if(!e){n([]),s(!1);return}try{s(!0),i(null);const{data:l,error:c}=await q.from("deal_contact").select("id, contact_id, role_id, primary_contact").eq("deal_id",e);if(c)throw c;if(!l||l.length===0){n([]),s(!1);return}const u=[...new Set(l.map(y=>y.contact_id).filter(Boolean))],d=[...new Set(l.map(y=>y.role_id).filter(Boolean))],{data:f,error:h}=await q.from("contact").select("id, first_name, last_name, email, phone, mobile_phone").in("id",u);if(h)throw h;const{data:g,error:w}=await q.from("contact_role").select("role_id, label").in("role_id",d);if(w)throw w;const x=new Map;f==null||f.forEach(y=>{x.set(y.id,y)});const v=new Map;g==null||g.forEach(y=>{v.set(y.role_id,y)});const m=l.map(y=>{const _=x.get(y.contact_id),S=v.get(y.role_id);let k="Unknown Contact";if(_){const C=_.first_name||"",E=_.last_name||"";C&&E?k=`${C} ${E}`:C?k=C:E&&(k=E)}return{id:y.id,contact_name:k,contact_email:(_==null?void 0:_.email)||null,contact_phone:(_==null?void 0:_.phone)||null,contact_mobile:(_==null?void 0:_.mobile_phone)||null,role_label:(S==null?void 0:S.label)||"No Role",primary_contact:y.primary_contact||!1,contact_id:y.contact_id}});m.sort((y,_)=>y.primary_contact&&!_.primary_contact?-1:!y.primary_contact&&_.primary_contact?1:y.role_label.localeCompare(_.role_label)),n(m)}catch(l){console.error("Error fetching deal contacts:",l),i("Failed to load contacts")}finally{s(!1)}})()},[e]),{contacts:t,loading:r,error:o,refetch:()=>{e&&s(!0)}}},kA=({dealId:e})=>{const{activePanel:t,closePanel:n}=Lx(),{contacts:r,loading:s,error:o}=Fx(e),i=t==="contacts",a=c=>{const u=c.split(" ");return u.length>=2?`${u[0].charAt(0)}${u[u.length-1].charAt(0)}`.toUpperCase():c.charAt(0).toUpperCase()||"?"},l=(c,u)=>{c&&window.open(`tel:${c}`,"_self")};return i?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 bg-black/10 transition-all duration-300 z-40",onClick:n}),p.jsxs("div",{className:`
        fixed right-0 top-0 h-full w-80 bg-white shadow-2xl border-l border-gray-200
        transform transition-all duration-300 ease-out z-50
        ${i?"translate-x-0":"translate-x-full"}
        flex flex-col
      `,children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm",children:p.jsx("span",{className:"text-white text-sm",children:""})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Contacts"}),p.jsxs("p",{className:"text-xs text-gray-500",children:[r.length," contact",r.length!==1?"s":""," on this deal"]})]})]}),p.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:p.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:s?p.jsx("div",{className:"p-4 space-y-4",children:[...Array(3)].map((c,u)=>p.jsx("div",{className:"animate-pulse",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),p.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},u))}):o?p.jsxs("div",{className:"p-6 text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-red-500 text-lg",children:""})}),p.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Contacts"}),p.jsx("p",{className:"text-sm text-gray-500",children:o})]}):r.length===0?p.jsxs("div",{className:"p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("span",{className:"text-gray-300 text-2xl",children:""})}),p.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"No Contacts Yet"}),p.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add contacts to this deal to see them here"}),p.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Add Contact"})]}):p.jsx("div",{className:"divide-y divide-gray-50",children:r.map(c=>p.jsx("div",{className:"p-4 hover:bg-gray-25 transition-colors",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full flex items-center justify-center shadow-sm",children:p.jsx("span",{className:"text-white font-medium text-sm",children:a(c.contact_name)})})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[p.jsx("button",{className:"text-sm font-semibold text-gray-900 hover:text-blue-600 transition-colors truncate",onClick:()=>{console.log("View contact:",c.contact_id)},children:c.contact_name}),c.primary_contact&&p.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700 border border-green-200",children:"Primary"})]}),p.jsx("p",{className:"text-xs font-medium text-blue-600 mb-2",children:c.role_label}),p.jsxs("div",{className:"space-y-1",children:[c.contact_email&&p.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[" ",c.contact_email]}),c.contact_phone&&p.jsxs("button",{onClick:()=>l(c.contact_phone,c.contact_name),className:"text-xs text-gray-600 hover:text-blue-600 transition-colors cursor-pointer",children:[" ",c.contact_phone]}),c.contact_mobile&&p.jsxs("button",{onClick:()=>l(c.contact_mobile,c.contact_name),className:"text-xs text-gray-600 hover:text-blue-600 transition-colors cursor-pointer block",children:[" ",c.contact_mobile]})]})]})]})},c.id))})}),p.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 shrink-0",children:p.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[p.jsx("span",{className:"mr-2",children:"+"}),"Add Contact Role"]})})]})]}):null},es=({label:e,value:t,onChange:n,disabled:r=!1})=>{const[s,o]=b.useState(!1),[i,a]=b.useState(""),l=t?`${t.toFixed(1)}%`:"0.0%",c=()=>{r||(o(!0),a((t==null?void 0:t.toString())||""))},u=()=>{const h=parseFloat(i);n(isNaN(h)?null:h),o(!1)},d=()=>{o(!1),a("")},f=h=>{h.key==="Enter"?u():h.key==="Escape"&&d()};return s?p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),p.jsx("input",{type:"number",step:"0.1",value:i,onChange:h=>a(h.target.value),onBlur:u,onKeyDown:f,className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",autoFocus:!0})]}):p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),p.jsx("div",{onClick:c,className:`mt-1 block w-full rounded border-gray-300 shadow-sm px-3 py-2 transition-colors border text-sm ${r?"bg-gray-100 cursor-not-allowed border-gray-200":"cursor-pointer hover:bg-blue-50 border-transparent hover:border-blue-200"}`,title:r?"Not editable":"Click to edit",children:l})]})},DA=({value:e,onChange:t,label:n="Referral Payee"})=>{const[r,s]=b.useState(""),[o,i]=b.useState([]),a=b.useRef(null);b.useEffect(()=>{(async()=>{if(e){const{data:f}=await q.from("client").select("client_name").eq("id",e).single();f!=null&&f.client_name&&s(f.client_name)}else s("")})()},[e]),b.useEffect(()=>{const f=setTimeout(async()=>{const h=r.trim();if(!h)return i([]);const{data:g}=await q.from("client").select("id, client_name").ilike("client_name",`%${h}%`).order("client_name",{ascending:!0}).limit(5);g&&i(g.map(w=>({id:w.id,label:w.client_name})))},150);return()=>clearTimeout(f)},[r]);const l=()=>{a.current&&a.current.select()},c=(d,f)=>{t(d),s(f),i([])},u=d=>{const f=d.target.value;s(f),f===""&&t(null)};return p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),p.jsx("input",{ref:a,type:"text",value:r,onChange:u,onFocus:l,placeholder:`Search ${n.toLowerCase()}...`,className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}),o.filter(d=>d.label!==r).length>0&&p.jsx("ul",{className:"bg-white border border-gray-300 rounded mt-1 max-h-48 overflow-auto",children:o.filter(d=>d.label!==r).map(d=>p.jsx("li",{onClick:()=>c(d.id,d.label),className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",children:d.label},d.id))})]})},Lp=(e,t=[])=>b.useMemo(()=>{const n=(e==null?void 0:e.gci)||0,r=(e==null?void 0:e.house_usd)||0,s=n-r,o=(e==null?void 0:e.origination_percent)||0,i=(e==null?void 0:e.site_percent)||0,a=(e==null?void 0:e.deal_percent)||0,l=o/100*s,c=i/100*s,u=a/100*s,d=l+c+u,f=t.map(v=>{const m=(v==null?void 0:v.split_origination_percent)||0,y=(v==null?void 0:v.split_site_percent)||0,_=(v==null?void 0:v.split_deal_percent)||0,S=m/100*l,k=y/100*c,C=_/100*u,E=S+k+C;return{...v,calculatedOriginationUSD:S,calculatedSiteUSD:k,calculatedDealUSD:C,calculatedTotalUSD:E}}),h=f.reduce((v,m)=>v+(m.split_origination_percent||0),0),g=f.reduce((v,m)=>v+(m.split_site_percent||0),0),w=f.reduce((v,m)=>v+(m.split_deal_percent||0),0),x=f.reduce((v,m)=>v+m.calculatedTotalUSD,0);return{baseAmounts:{gci:n,houseUsd:r,agci:s,originationPercent:o,sitePercent:i,dealPercent:a,originationUSD:l,siteUSD:c,dealUSD:u,totalDealUSD:d},brokerSplits:f,totals:{originationPercent:h,sitePercent:g,dealPercent:w,brokerUSD:x},validation:{isOriginationValid:h<=100,isSiteValid:g<=100,isDealValid:w<=100,areAllValid:h<=100&&g<=100&&w<=100}}},[e,t]),CA=({title:e,help:t,children:n})=>p.jsxs("section",{className:"bg-white rounded-md border p-4 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:e}),t&&p.jsx("span",{className:"text-gray-500 text-xs border rounded-full w-4 h-4 inline-flex items-center justify-center",title:t,"aria-label":t,children:"i"})]}),n]}),EA=({deal:e,onFieldUpdate:t})=>{const{baseAmounts:n}=Lp(e),r=o=>o==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o),s=o=>o==null?"0.0%":`${o.toFixed(1)}%`;return p.jsx(CA,{title:"Commission Details",help:"Set commission percentages and amounts. Click any percentage to edit.",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deal Fee"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(e.fee)})]}),p.jsx(es,{label:"Commission Rate %",value:e.commission_percent,onChange:o=>t("commission_percent",o)}),p.jsx(es,{label:"Referral Fee %",value:e.referral_fee_percent,onChange:o=>t("referral_fee_percent",o)}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Referral Fee $"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(e.referral_fee_usd)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number of Payments"}),p.jsx("input",{type:"number",step:"1",min:"1",value:e.number_of_payments||1,onChange:o=>t("number_of_payments",parseInt(o.target.value)||1),className:"mt-1 block w-full rounded border-gray-300 shadow-sm cursor-pointer hover:bg-blue-50 px-3 py-2 transition-colors border border-transparent hover:border-blue-200 text-sm"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsx(DA,{value:e.referral_payee_client_id,onChange:o=>t("referral_payee_client_id",o),label:"Referral Payee"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GCI"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(e.gci)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"AGCI"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(e.agci)})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(es,{label:"House %",value:e.house_percent,onChange:o=>t("house_percent",o)}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"House $"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(e.house_usd)})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(es,{label:"Origination %",value:e.origination_percent,onChange:o=>t("origination_percent",o)}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Origination $"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(n.originationUSD)})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(es,{label:"Site %",value:e.site_percent,onChange:o=>t("site_percent",o)}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site $"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(n.siteUSD)})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(es,{label:"Deal %",value:e.deal_percent,onChange:o=>t("deal_percent",o)}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deal $"}),p.jsx("div",{className:"mt-1 p-2 bg-gray-100 rounded text-sm",children:r(n.dealUSD)})]})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[p.jsx("h4",{className:"text-xs font-medium text-blue-800 mb-2",children:"Broker Split Summary (Origination + Site + Deal)"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-blue-700",children:"Origination:"})," ",s(e.origination_percent)]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-blue-700",children:"Site:"})," ",s(e.site_percent)]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-blue-700",children:"Deal:"})," ",s(e.deal_percent)]}),p.jsxs("div",{className:"font-semibold",children:[p.jsx("span",{className:"text-blue-700",children:"Total:"})," ",s((e.origination_percent||0)+(e.site_percent||0)+(e.deal_percent||0))]})]}),p.jsx("div",{className:"mt-2 text-xs text-blue-600",children:"House % is separate and not included in the 100% split validation."})]})]})})},$x=({isOpen:e,onClose:t,onConfirm:n,title:r,itemName:s,message:o})=>e?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.962-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),p.jsx("div",{className:"ml-3",children:p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r})})]}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("p",{className:"text-sm text-gray-600",children:["Are you sure you want to delete ",p.jsx("strong",{children:s}),"?"]}),o&&p.jsx("p",{className:"text-sm text-gray-600 mt-2",children:o})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),p.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Delete"})]})]})}):null,dn=e=>e==null||isNaN(e)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Du=({value:e,onChange:t,label:n})=>{const[r,s]=b.useState(!1),[o,i]=b.useState(""),a=e?`${e.toFixed(1)}%`:"0.0%",l=()=>{s(!0),i((e==null?void 0:e.toString())||"0")},c=()=>{const f=parseFloat(o);t(isNaN(f)?null:f),s(!1)},u=()=>{s(!1),i("")},d=f=>{f.key==="Enter"?c():f.key==="Escape"&&u()};return r?p.jsx("input",{type:"number",step:"0.1",value:o,onChange:f=>i(f.target.value),onBlur:c,onKeyDown:d,className:"w-16 px-1 py-0.5 text-sm border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}):p.jsx("span",{onClick:l,className:"cursor-pointer hover:bg-blue-50 px-1 py-0.5 rounded text-sm",title:`Click to edit ${n||"percentage"}`,children:a})},NA=({deal:e,onDealUpdate:t})=>{const[n,r]=b.useState([]),[s,o]=b.useState([]),[i,a]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState({isOpen:!1,splitId:"",brokerName:""}),{baseAmounts:f}=Lp(e,n),h=S=>{const k=s.find(C=>C.id===S);return k?k.name:"Unknown Broker"};b.useEffect(()=>{(async()=>{if(e.id)try{a(!0);const{data:k,error:C}=await q.from("commission_split").select("*").eq("deal_id",e.id).order("created_at");if(C)throw C;const{data:E,error:N}=await q.from("broker").select("*").order("name");if(N)throw N;r(k||[]),o(E||[])}catch(k){console.error("Error fetching commission data:",k),c("Failed to load commission splits")}finally{a(!1)}})()},[e.id]);const g=async(S,k,C)=>{console.log(" updateCommissionSplit called:",{splitId:S,field:k,value:C});try{const E=n.find(j=>j.id===S);if(!E)return;const N={...E};k==="split_origination_percent"?(N.split_origination_percent=C||0,N.split_origination_usd=(C||0)/100*f.originationUSD):k==="split_site_percent"?(N.split_site_percent=C||0,N.split_site_usd=(C||0)/100*f.siteUSD):k==="split_deal_percent"&&(N.split_deal_percent=C||0,N.split_deal_usd=(C||0)/100*f.dealUSD),N.split_broker_total=(N.split_origination_usd||0)+(N.split_site_usd||0)+(N.split_deal_usd||0);const{error:P}=await q.from("commission_split").update({split_origination_percent:N.split_origination_percent,split_origination_usd:N.split_origination_usd,split_site_percent:N.split_site_percent,split_site_usd:N.split_site_usd,split_deal_percent:N.split_deal_percent,split_deal_usd:N.split_deal_usd,split_broker_total:N.split_broker_total}).eq("id",S);if(P)throw P;r(j=>j.map(B=>B.id===S?N:B)),console.log(" Commission split updated successfully")}catch(E){console.error("Error updating commission split:",E),c("Failed to update commission split")}},w=async S=>{if(e.id)try{if(!s.find(P=>P.id===S))return;const C={deal_id:e.id,broker_id:S,split_origination_percent:0,split_origination_usd:0,split_site_percent:0,split_site_usd:0,split_deal_percent:0,split_deal_usd:0,split_broker_total:0},{data:E,error:N}=await q.from("commission_split").insert(C).select("*").single();if(N)throw N;r([...n,E])}catch(k){console.error("Error adding broker split:",k),c("Failed to add broker split")}},x=async S=>{try{const{error:k}=await q.from("commission_split").delete().eq("id",S);if(k){if(k.code==="23503"&&k.message.includes("payment_split")){c("Cannot delete this broker split because it has related payments. You must delete the payments first, or contact support to safely remove this split.");return}throw k}r(C=>C.filter(E=>E.id!==S)),c(null),d({isOpen:!1,splitId:"",brokerName:""})}catch(k){console.error("Error deleting broker split:",k),c("Failed to delete broker split: "+(k instanceof Error?k.message:"Unknown error")),d({isOpen:!1,splitId:"",brokerName:""})}},v=(S,k)=>{d({isOpen:!0,splitId:S,brokerName:k})},m=()=>{x(u.splitId)},y=()=>{d({isOpen:!1,splitId:"",brokerName:""})},_=s.filter(S=>!n.some(k=>k.broker_id===S.id));return i?p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Broker Commission Splits"}),p.jsx("div",{className:"text-gray-500",children:"Loading..."})]}):p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Broker Commission Splits"}),_.length>0&&p.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:S=>{S.target.value&&(w(S.target.value),S.target.value="")},defaultValue:"",children:[p.jsx("option",{value:"",children:"+ Add Broker"}),_.map(S=>p.jsx("option",{value:S.id,children:S.name},S.id))]})]}),l&&p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:p.jsx("p",{className:"text-red-600 text-sm",children:l})}),n.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx("p",{children:"No broker splits configured for this deal."}),_.length>0&&p.jsx("p",{className:"text-sm mt-2",children:"Use the dropdown above to add brokers."})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-gray-200",children:[p.jsx("th",{className:"text-left py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider w-48",children:"Broker"}),p.jsx("th",{className:"text-center py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origination %"}),p.jsx("th",{className:"text-right py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origination $"}),p.jsx("th",{className:"text-center py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Site %"}),p.jsx("th",{className:"text-right py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Site $"}),p.jsx("th",{className:"text-center py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deal %"}),p.jsx("th",{className:"text-right py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deal $"}),p.jsx("th",{className:"text-right py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total $"}),p.jsx("th",{className:"w-16 text-center py-3 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{children:n.map(S=>p.jsxs("tr",{className:"border-b border-gray-100",children:[p.jsx("td",{className:"py-3 px-3 w-48 whitespace-nowrap",children:p.jsx("div",{className:"text-xs text-gray-900 font-medium",children:h(S.broker_id)})}),p.jsx("td",{className:"py-3 px-3 text-center",children:p.jsx(Du,{value:S.split_origination_percent,onChange:k=>g(S.id,"split_origination_percent",k),label:"Origination %"})}),p.jsx("td",{className:"py-3 px-3 text-right text-sm text-gray-900",children:dn((S.split_origination_percent||0)/100*f.originationUSD)}),p.jsx("td",{className:"py-3 px-3 text-center",children:p.jsx(Du,{value:S.split_site_percent,onChange:k=>g(S.id,"split_site_percent",k),label:"Site %"})}),p.jsx("td",{className:"py-3 px-3 text-right text-sm text-gray-900",children:dn((S.split_site_percent||0)/100*f.siteUSD)}),p.jsx("td",{className:"py-3 px-3 text-center",children:p.jsx(Du,{value:S.split_deal_percent,onChange:k=>g(S.id,"split_deal_percent",k),label:"Deal %"})}),p.jsx("td",{className:"py-3 px-3 text-right text-sm text-gray-900",children:dn((S.split_deal_percent||0)/100*f.dealUSD)}),p.jsx("td",{className:"py-3 px-3 text-right text-sm font-medium text-gray-900",children:dn((S.split_origination_percent||0)/100*f.originationUSD+(S.split_site_percent||0)/100*f.siteUSD+(S.split_deal_percent||0)/100*f.dealUSD)}),p.jsx("td",{className:"py-3 px-3 text-center",children:p.jsx("button",{onClick:()=>v(S.id,h(S.broker_id)),className:"text-red-500 hover:text-red-700 font-bold text-lg",title:"Delete broker split",children:""})})]},S.id))}),p.jsx("tfoot",{children:p.jsxs("tr",{className:"border-t-2 border-gray-300 font-semibold bg-gray-50",children:[p.jsx("td",{className:"py-3 px-3 text-sm text-gray-900",children:"TOTALS"}),p.jsx("td",{className:"py-3 px-3 text-center",children:(()=>{const S=n.reduce((C,E)=>C+(Number(E.split_origination_percent)||0),0),k=Math.abs(S-100)<.1;return p.jsxs("span",{className:`text-sm ${k?"text-blue-600":"text-red-600"}`,children:[S.toFixed(1),"%"]})})()}),p.jsx("td",{className:"py-3 px-3 text-right text-sm text-blue-600",children:dn(n.reduce((S,k)=>S+(k.split_origination_percent||0)/100*f.originationUSD,0))}),p.jsx("td",{className:"py-3 px-3 text-center",children:(()=>{const S=n.reduce((C,E)=>C+(Number(E.split_site_percent)||0),0),k=Math.abs(S-100)<.1;return p.jsxs("span",{className:`text-sm ${k?"text-blue-600":"text-red-600"}`,children:[S.toFixed(1),"%"]})})()}),p.jsx("td",{className:"py-3 px-3 text-right text-sm text-blue-600",children:dn(n.reduce((S,k)=>S+(k.split_site_percent||0)/100*f.siteUSD,0))}),p.jsx("td",{className:"py-3 px-3 text-center",children:(()=>{const S=n.reduce((C,E)=>C+(Number(E.split_deal_percent)||0),0),k=Math.abs(S-100)<.1;return p.jsxs("span",{className:`text-sm ${k?"text-blue-600":"text-red-600"}`,children:[S.toFixed(1),"%"]})})()}),p.jsx("td",{className:"py-3 px-3 text-right text-sm text-blue-600",children:dn(n.reduce((S,k)=>S+(k.split_deal_percent||0)/100*f.dealUSD,0))}),p.jsx("td",{className:"py-3 px-3 text-right text-sm font-semibold text-blue-600",children:dn(n.reduce((S,k)=>{const C=(k.split_origination_percent||0)/100*f.originationUSD,E=(k.split_site_percent||0)/100*f.siteUSD,N=(k.split_deal_percent||0)/100*f.dealUSD;return S+C+E+N},0))}),p.jsx("td",{className:"py-3 px-3"})]})})]})}),p.jsxs("div",{className:"mt-4 text-sm text-gray-600 space-y-1",children:[p.jsxs("p",{children:[" Split percentages are applied to AGCI: ",dn(Number(e.agci||0))]}),p.jsx("p",{children:" These splits serve as templates for payment generation"}),p.jsx("p",{children:" Click on percentage values to edit them directly"})]}),p.jsx($x,{isOpen:u.isOpen,onClose:y,onConfirm:m,title:"Delete Broker Split",itemName:u.brokerName,message:"This action cannot be undone. If this broker has related payments, the deletion will be blocked."})]})},Fg=({title:e,help:t,children:n})=>p.jsxs("section",{className:"bg-white rounded-md border p-4 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:e}),t&&p.jsx("span",{className:"text-gray-500 text-xs border rounded-full w-4 h-4 inline-flex items-center justify-center",title:t,"aria-label":t,children:"i"})]}),n]}),PA=({dealId:e,deal:t,onDealUpdate:n})=>{const[r,s]=b.useState(t),[o,i]=b.useState([]),[a,l]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState(!0),[h,g]=b.useState(null),[w,x]=b.useState(!1);b.useEffect(()=>{s(t)},[t]),b.useEffect(()=>{v()},[e]);const v=async()=>{try{f(!0);const{data:N,error:P}=await q.from("commission_split").select("*").eq("deal_id",e);if(P)throw P;const{data:j,error:B}=await q.from("broker").select("*");if(B)throw B;l(j.filter(F=>F.active));const M=N.map(F=>{const I=j.find(D=>D.id===F.broker_id);return{...F,broker_name:I?I.name:"Unknown Broker"}});i(M);const{data:V,error:H}=await q.from("payment").select("*").eq("deal_id",e);if(H)throw H;u(V)}catch(N){g(N instanceof Error?N.message:"An error occurred")}finally{f(!1)}},m=N=>{const P=N.deal_value||0,j=N.commission_percent||0,B=N.referral_fee_percent||0,M=N.flat_fee_override??P*(j/100),V=M*(B/100),H=M-V,F=H*((N.house_percent||0)/100),I=H-F,D=I*((N.origination_percent||0)/100),O=I*((N.site_percent||0)/100),L=I*((N.deal_percent||0)/100);return{...N,fee:Math.round(M*100)/100,gci:Math.round(H*100)/100,referral_fee_usd:Math.round(V*100)/100,agci:Math.round(I*100)/100,house_usd:Math.round(F*100)/100,origination_usd:Math.round(D*100)/100,site_usd:Math.round(O*100)/100,deal_usd:Math.round(L*100)/100}},y=async(N,P)=>{if(!r)return;const j={...r,[N]:P},B=["commission_percent","referral_fee_percent","house_percent","origination_percent","site_percent","deal_percent"];let M=j;B.includes(N)&&(M=m(j));const V={commission_percent:M.commission_percent,referral_fee_percent:M.referral_fee_percent,house_percent:M.house_percent,origination_percent:M.origination_percent,site_percent:M.site_percent,deal_percent:M.deal_percent,number_of_payments:M.number_of_payments,fee:M.fee,updated_at:new Date().toISOString()};M.gci!==void 0&&(V.gci=M.gci),M.referral_fee_usd!==void 0&&(V.referral_fee_usd=M.referral_fee_usd),M.agci!==void 0&&(V.agci=M.agci),M.house_usd!==void 0&&(V.house_usd=M.house_usd),M.origination_usd!==void 0&&(V.origination_usd=M.origination_usd),M.site_usd!==void 0&&(V.site_usd=M.site_usd),M.deal_usd!==void 0&&(V.deal_usd=M.deal_usd),N==="referral_payee_client_id"&&M.referral_payee_client_id!==void 0&&(V.referral_payee_client_id=M.referral_payee_client_id);try{console.log("Updating field:",N,"with value:",P),console.log("Update payload:",V);const{data:H,error:F}=await q.from("deal").update(V).eq("id",e).select().single();if(F)throw console.error("Supabase error:",F),F;console.log("Update successful:",H),s(H),n(H)}catch(H){console.error("Error saving:",H),alert(`Error saving: ${H instanceof Error?H.message:"Failed to save"}`)}},_=async()=>{try{x(!0);const{data:N,error:P}=await q.rpc("generate_payments_for_deal",{deal_uuid:e});if(P)throw P;await v(),alert(`Success: ${N}`)}catch(N){alert(`Error: ${N instanceof Error?N.message:"Failed to generate payments"}`)}finally{x(!1)}},S=N=>N==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N),k=N=>{const P=[],j=Number(N.origination_percent)||0,B=Number(N.site_percent)||0,M=Number(N.deal_percent)||0,V=Number(N.commission_percent)||0,H=Number(N.referral_fee_percent)||0,F=j+B+M;return F>100&&P.push("Broker split percentages total "+F.toFixed(1)+"% (over 100%)"),V>50&&P.push("Commission rate "+V.toFixed(1)+"% seems high"),H>100&&P.push("Referral fee "+H.toFixed(1)+"% cannot exceed 100%"),P};if(d)return p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"text-sm text-gray-600",children:"Loading commission data..."})});if(h)return p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[p.jsx("h3",{className:"text-sm font-semibold text-red-800 mb-2",children:"Error Loading Commission Data"}),p.jsx("p",{className:"text-sm text-red-600",children:h}),p.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Try Again"})]});if(!r)return p.jsx("div",{className:"text-center text-gray-600 py-8",children:p.jsx("p",{className:"text-sm",children:"Deal not found"})});const C=c.length>0,E=k(r);return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-xs font-medium text-blue-800 mb-1",children:"Deal Fee"}),p.jsx("p",{className:"text-lg font-bold text-blue-900",children:S(r.fee)})]}),p.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-xs font-medium text-purple-800 mb-1",children:"Number of Payments"}),p.jsx("p",{className:"text-lg font-bold text-purple-900",children:r.number_of_payments})]}),p.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-xs font-medium text-orange-800 mb-1",children:"Commission Rate"}),p.jsx("p",{className:"text-lg font-bold text-orange-900",children:r.commission_percent?`${r.commission_percent.toFixed(1)}%`:"0%"})]})]}),E.length>0&&p.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"ml-3",children:[p.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Validation Warnings"}),p.jsx("ul",{className:"mt-1 text-xs text-yellow-700 list-disc list-inside",children:E.map((N,P)=>p.jsx("li",{children:N},P))})]})]})}),C&&p.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"ml-3",children:[p.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Payments Already Generated"}),p.jsxs("p",{className:"mt-1 text-xs text-yellow-700",children:["This deal already has ",c.length," payment",c.length!==1?"s":""," generated. To regenerate payments, you would need to delete the existing ones first."]})]})]})}),o.length===0&&p.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"ml-3",children:[p.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"No Commission Splits Found"}),p.jsx("p",{className:"mt-1 text-xs text-blue-700",children:"Commission splits are imported from Salesforce. If this deal should have commission data, check that it exists in Salesforce and run the migration again."})]})]})}),p.jsx(EA,{deal:r,onFieldUpdate:y}),p.jsx(NA,{deal:r,onDealUpdate:n}),p.jsxs(Fg,{title:"Payment Generation",help:"Generate payments based on commission splits",children:[p.jsx("div",{className:"flex justify-end mb-3",children:p.jsx("button",{onClick:_,disabled:o.length===0||C||w,className:`px-4 py-2 rounded font-medium text-sm ${o.length>0&&!C&&!w?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:w?"Generating...":"Generate Payments"})}),o.length===0&&p.jsx("div",{className:"text-center text-gray-500 py-4",children:p.jsx("p",{className:"text-sm",children:"No commission splits available for payment generation."})})]}),o.length>0&&p.jsx(Fg,{title:"Quick Summary",help:"Overview of commission allocation",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[p.jsx("h4",{className:"text-xs font-medium text-green-800 mb-1",children:"Total Commission Splits"}),p.jsx("p",{className:"text-lg font-bold text-green-900",children:o.length})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[p.jsx("h4",{className:"text-xs font-medium text-blue-800 mb-1",children:"Total Broker Amount"}),p.jsx("p",{className:"text-lg font-bold text-blue-900",children:S(o.reduce((N,P)=>N+(P.split_broker_total||0),0))})]}),p.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[p.jsx("h4",{className:"text-xs font-medium text-purple-800 mb-1",children:"Payments Status"}),p.jsx("p",{className:"text-lg font-bold text-purple-900",children:C?`${c.length} Generated`:"Not Generated"})]}),p.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[p.jsx("h4",{className:"text-xs font-medium text-orange-800 mb-1",children:"Per Payment Amount"}),p.jsx("p",{className:"text-lg font-bold text-orange-900",children:r.number_of_payments&&r.fee?S(r.fee/r.number_of_payments):"$0.00"})]})]})})]})},Bx=(e,t=[],n=[])=>{const r=b.useMemo(()=>{const l=e.fee||0,c=e.number_of_payments||1,u=c>0?l/c:0,d=u*c;return{calculatedPaymentAmount:u,totalCalculatedPayments:d}},[e.fee,e.number_of_payments]),s=b.useMemo(()=>{const l=r.calculatedPaymentAmount,c=e.house_percent||0,u=c/100*l,d=l-u,f=e.origination_percent||0,h=e.site_percent||0,g=e.deal_percent||0,w=f/100*d,x=h/100*d,v=g/100*d;return{gci:l,house_usd:u,house_percent:c,agci:d,origination_percent:f,origination_usd:w,site_percent:h,site_usd:x,deal_percent:g,deal_usd:v}},[r.calculatedPaymentAmount,e.house_percent,e.origination_percent,e.site_percent,e.deal_percent]),o=b.useMemo(()=>l=>l.map(c=>{const u=(c.split_origination_percent||0)/100*s.origination_usd,d=(c.split_site_percent||0)/100*s.site_usd,f=(c.split_deal_percent||0)/100*s.deal_usd,h=u+d+f;return{broker_id:c.broker_id||"",origination_amount:u,site_amount:d,deal_amount:f,total_amount:h}}),[s]),i=b.useMemo(()=>{const l=[];let c=!0;return(!e.fee||e.fee<=0)&&(l.push("Commission fee is not set"),c=!1),(!e.number_of_payments||e.number_of_payments<1)&&(l.push("Number of payments must be at least 1"),c=!1),e.number_of_payments&&e.number_of_payments>10&&(l.push("Number of payments cannot exceed 10"),c=!1),(e.origination_percent||0)+(e.site_percent||0)+(e.deal_percent||0)===0&&l.push("Commission split percentages are not configured"),{canGeneratePayments:c,validationMessages:l}},[e.fee,e.number_of_payments,e.origination_percent,e.site_percent,e.deal_percent]),a=b.useMemo(()=>t.map(l=>({payment_id:l.payment_id,calculated_amount:r.calculatedPaymentAmount,database_amount:l.payment_amount||0,needs_update:Math.abs((l.payment_amount||0)-r.calculatedPaymentAmount)>.01})),[t,r.calculatedPaymentAmount]);return{calculatedPaymentAmount:r.calculatedPaymentAmount,totalCalculatedPayments:r.totalCalculatedPayments,paymentCommissionBreakdown:s,calculateBrokerSplitsForPayment:o,canGeneratePayments:i.canGeneratePayments,validationMessages:i.validationMessages,paymentComparisons:a}},TA=({deal:e,hasPayments:t,existingPayments:n=[],commissionSplits:r=[],onGeneratePayments:s,onUpdatePaymentAmounts:o,generatingPayments:i})=>{const{calculatedPaymentAmount:a,totalCalculatedPayments:l,paymentCommissionBreakdown:c,canGeneratePayments:u,validationMessages:d,paymentComparisons:f}=Bx(e,n,r),h=e.number_of_payments||1,g=v=>v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),w=f.some(v=>v.needs_update);n.length<h;const x=n.length===h;return p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment Generation"}),t&&p.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.length," of ",h," Payments Created"]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"font-medium text-gray-900",children:"Configuration Summary"}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"Commission Fee:"}),p.jsx("span",{className:"font-medium",children:e.fee?`$${g(e.fee)}`:"Not set"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"House Amount:"}),p.jsx("span",{className:"font-medium",children:c.house_usd?`$${g(c.house_usd)} (${c.house_percent}%)`:"Not configured"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"AGCI per Payment:"}),p.jsx("span",{className:"font-medium",children:c.agci?`$${g(c.agci)}`:"Not calculated"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"Number of Payments:"}),p.jsx("span",{className:"font-medium",children:h})]}),p.jsxs("div",{className:"flex justify-between border-t pt-2",children:[p.jsx("span",{className:"text-gray-600 font-medium",children:"Payment Amount:"}),p.jsxs("span",{className:"font-semibold text-blue-600",children:["$",g(a)]})]})]}),a>0&&p.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[p.jsx("div",{className:"text-sm font-medium text-blue-800 mb-2",children:"Commission Breakdown (per payment)"}),p.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:["Origination (",c.origination_percent,"%):"]}),p.jsxs("span",{children:["$",g(c.origination_usd)]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:["Site (",c.site_percent,"%):"]}),p.jsxs("span",{children:["$",g(c.site_usd)]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:["Deal (",c.deal_percent,"%):"]}),p.jsxs("span",{children:["$",g(c.deal_usd)]})]})]})]}),d.length>0&&p.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[p.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Configuration Issues:"}),p.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:d.map((v,m)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-yellow-600 mr-1",children:""}),v]},m))})]}),t&&w&&p.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-md",children:[p.jsx("div",{className:"text-sm font-medium text-amber-800 mb-1",children:" Calculation Update Available"}),p.jsx("div",{className:"text-sm text-amber-700",children:"Existing payment amounts differ from current commission configuration. You can update amounts to match current setup without affecting invoice data."})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"font-medium text-gray-900",children:"Payment Actions"}),p.jsxs("div",{className:"space-y-3",children:[x?p.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-md p-3",children:[p.jsx("div",{className:"font-medium mb-1",children:" All Payments Created"}),p.jsxs("div",{children:["All ",h," payments have been created for this deal."]})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:s,disabled:!u||i,className:`w-full px-4 py-3 rounded-md font-medium transition-colors ${u&&!i?"bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i?p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Creating Additional Payments...":"Generating Payments..."]}):t?`Create Remaining ${h-n.length} Payments`:`Generate ${h} Payment${h>1?"s":""}`}),t&&p.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 border border-blue-200 rounded-md p-3",children:[p.jsx("div",{className:"font-medium mb-1",children:" Safe Generation"}),p.jsx("div",{children:"This will create the remaining payments without affecting existing payment records or their associated invoice data."})]})]}),t&&w&&o&&p.jsx("button",{onClick:o,disabled:i,className:"w-full px-4 py-2 border border-amber-300 bg-amber-50 text-amber-700 rounded-md font-medium hover:bg-amber-100 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Update Payment Amounts"}),!u&&p.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 border border-gray-200 rounded-md p-3",children:[p.jsx("div",{className:"font-medium mb-1",children:"Configuration Required"}),p.jsx("div",{children:"Complete commission configuration in the Commission tab before generating payments."})]})]}),u&&h>1&&p.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:[p.jsx("div",{className:"text-sm font-medium text-green-800 mb-2",children:"Payment Schedule Preview"}),p.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[Array.from({length:h},(v,m)=>{const y=n.find(_=>_.payment_sequence===m+1);return p.jsxs("div",{className:"flex justify-between",children:["  ",p.jsxs("span",{children:["Payment ",m+1,":"]}),p.jsxs("span",{className:`font-medium ${y?"text-green-600":""}`,children:["$",g(a),y&&" "]})]},m)}),p.jsxs("div",{className:"flex justify-between border-t pt-1 font-semibold",children:[p.jsx("span",{children:"Total:"}),p.jsxs("span",{children:["$",g(l)]})]})]})]}),t&&f.length>0&&p.jsxs("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-md",children:[p.jsx("div",{className:"text-sm font-medium text-gray-800 mb-2",children:"Current vs Calculated"}),p.jsx("div",{className:"text-sm text-gray-700 space-y-1",children:f.map((v,m)=>p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:["Payment ",m+1,":"]}),p.jsxs("span",{className:v.needs_update?"text-amber-700 font-medium":"text-gray-600",children:["$",g(v.database_amount),"  $",g(v.calculated_amount),v.needs_update&&" "]})]},m))})]})]})]})]})},OA=({payments:e,paymentSplits:t,brokers:n,onUpdatePayment:r,onDeletePayment:s})=>{const[o,i]=b.useState(null),[a,l]=b.useState(!1),[c,u]=b.useState(null),d=m=>t.filter(y=>y.payment_id===m),f=m=>{const y=n.find(_=>_.id===m);return y?y.name:"Unknown Broker"},h=async(m,y)=>{try{await r(m,{payment_amount:y})}catch(_){console.error("Error updating payment amount:",_)}},g=async(m,y)=>{try{await r(m,{payment_date:y})}catch(_){console.error("Error updating payment date:",_)}},w=async(m,y)=>{try{await r(m,{notes:y})}catch(_){console.error("Error updating payment notes:",_)}},x=m=>{u(m),l(!0)},v=async()=>{if(c)try{await s(c.id),l(!1),u(null)}catch(m){console.error("Error deleting payment:",m)}};return p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[p.jsxs("div",{className:"p-6 border-b border-gray-200",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Management"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage individual payments and track their status"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment #"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Date"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Broker Splits"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(m=>{const y=d(m.id),_=o===m.id;return p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",m.payment_sequence]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_?p.jsx("input",{type:"number",step:"0.01",value:m.payment_amount||0,onChange:S=>h(m.id,parseFloat(S.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded-md text-sm",onBlur:()=>i(null),onKeyDown:S=>{S.key==="Enter"&&i(null),S.key==="Escape"&&i(null)},autoFocus:!0}):p.jsxs("button",{onClick:()=>i(m.id),className:"hover:bg-gray-100 px-2 py-1 rounded transition-colors",children:["$",(m.payment_amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:m.payment_received||!1,onChange:S=>r(m.id,{payment_received:S.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),p.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.payment_received?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:m.payment_received?"Received":"Pending"})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.jsx("input",{type:"date",value:m.payment_date_actual||"",onChange:S=>g(m.id,S.target.value),className:"border border-gray-300 rounded-md px-2 py-1 text-sm"})}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.length>0?p.jsx("div",{className:"space-y-1",children:y.map(S=>p.jsxs("div",{className:"flex justify-between text-xs",children:[p.jsxs("span",{className:"text-gray-600",children:[f(S.broker_id),":"]}),p.jsxs("span",{className:"font-medium",children:["$",(S.split_broker_total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},S.id))}):p.jsx("span",{className:"text-gray-400 text-xs",children:"No splits"})}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p.jsx("input",{type:"text",value:m.notes||"",onChange:S=>w(m.id,S.target.value),placeholder:"Add notes...",className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.jsx("button",{onClick:()=>x(m),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete payment",children:"Delete"})})]},m.id)})})]})}),p.jsx($x,{isOpen:a,onClose:()=>l(!1),onConfirm:v,title:"Delete Payment",itemName:c?`Payment #${c.payment_sequence}`:"",message:"This will permanently delete the payment and all associated commission splits. This action cannot be undone."})]})},RA=({statusSummary:e,hasOverdue:t,completionRate:n})=>p.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[p.jsxs("div",{className:"text-sm font-medium text-gray-600 mb-3",children:["Payment Status",e.total>0&&p.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",Math.round(n),"% complete)"]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[e.received>0&&p.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-green-100 rounded min-w-0 flex-1",children:[p.jsx("span",{className:"text-green-800",children:" Received"}),p.jsx("span",{className:"font-bold text-green-900 ml-2",children:e.received})]}),e.sent>0&&p.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-blue-100 rounded min-w-0 flex-1",children:[p.jsx("span",{className:"text-blue-800",children:" Sent"}),p.jsx("span",{className:"font-bold text-blue-900 ml-2",children:e.sent})]}),e.pending>0&&p.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-yellow-100 rounded min-w-0 flex-1",children:[p.jsx("span",{className:"text-yellow-800",children:" Pending"}),p.jsx("span",{className:"font-bold text-yellow-900 ml-2",children:e.pending})]}),e.overdue>0&&p.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-red-100 rounded min-w-0 flex-1",children:[p.jsx("span",{className:"text-red-800",children:" Overdue"}),p.jsx("span",{className:"font-bold text-red-900 ml-2",children:e.overdue})]})]}),t&&p.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:[p.jsx("strong",{children:"Action needed:"})," ",e.overdue," payment",e.overdue!==1?"s":"",e.overdue===1?" is":" are"," overdue and require",e.overdue===1?"s":""," attention."]}),e.total>0&&p.jsx("div",{className:"mt-3",children:p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})})})]}),jA=({deal:e,commissionSplits:t=[],onEditClick:n,className:r=""})=>{const{baseAmounts:s}=Lp(e,t),{gci:o,houseUsd:i,agci:a,originationPercent:l,sitePercent:c,dealPercent:u,originationUSD:d,siteUSD:f,dealUSD:h,totalDealUSD:g}=s,w=e.fee||0,x=e.referral_fee_percent||0,v=e.referral_fee_usd||x/100*w,m=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(P),y=w>0?i/w*100:0,_=w>0?v/w*100:0,S=w>0?i/w*100:0,k=w>0?d/w*100:0,C=w>0?f/w*100:0,E=w>0?h/w*100:0,N=_>0||S>0||k>0||C>0||E>0;return!e.fee||e.fee===0?p.jsxs("div",{className:`bg-white rounded-lg border p-4 ${r}`,children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Commission breakdown will appear when commission fee is set"}),n&&p.jsx("button",{onClick:n,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Set Commission Details "})]}):p.jsxs("div",{className:`bg-white rounded-lg border p-4 ${r}`,children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 text-sm",children:[p.jsxs("span",{className:"font-medium text-gray-900",children:["Total Commission: ",p.jsx("span",{className:"text-green-600",children:m(w)})]}),v>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-gray-400",children:""}),p.jsxs("span",{className:"text-gray-600",children:["Referral: ",p.jsx("span",{className:"text-orange-600",children:m(v)})]})]}),i>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-gray-400",children:""}),p.jsxs("span",{className:"text-gray-600",children:["House: ",p.jsx("span",{className:"text-gray-600",children:m(i)})]})]}),p.jsx("span",{className:"text-gray-400",children:""}),p.jsxs("span",{className:"text-gray-600",children:["AGCI: ",p.jsx("span",{className:"text-blue-600 font-medium",children:m(a)})]})]}),n&&p.jsx("button",{onClick:n,className:"mt-2 sm:mt-0 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md transition-colors",children:"Edit Commission"})]}),N&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex h-8 bg-gray-200 rounded-lg overflow-hidden",children:[_>0&&p.jsx("div",{className:"bg-orange-500 flex items-center justify-center relative group",style:{width:`${_}%`},title:`Referral: ${x}% of total - ${m(v)}`,children:_>15&&p.jsxs("span",{className:"text-white text-xs font-medium",children:[x.toFixed(1),"%"]})}),S>0&&p.jsx("div",{className:"bg-gray-500 flex items-center justify-center relative group",style:{width:`${S}%`},title:`House: ${y.toFixed(1)}% of total - ${m(i)}`,children:S>15&&p.jsxs("span",{className:"text-white text-xs font-medium",children:[y.toFixed(1),"%"]})}),k>0&&p.jsx("div",{className:"bg-blue-500 flex items-center justify-center relative group",style:{width:`${k}%`},title:`Origination: ${l}% of AGCI - ${m(d)}`,children:k>15&&p.jsxs("span",{className:"text-white text-xs font-medium",children:[l,"%"]})}),C>0&&p.jsx("div",{className:"bg-green-500 flex items-center justify-center relative group",style:{width:`${C}%`},title:`Site: ${c}% of AGCI - ${m(f)}`,children:C>15&&p.jsxs("span",{className:"text-white text-xs font-medium",children:[c,"%"]})}),E>0&&p.jsx("div",{className:"bg-purple-500 flex items-center justify-center relative group",style:{width:`${E}%`},title:`Deal: ${u}% of AGCI - ${m(h)}`,children:E>15&&p.jsxs("span",{className:"text-white text-xs font-medium",children:[u,"%"]})})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[v>0&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[p.jsx("span",{className:"font-medium",children:"Referral"})," ",m(v)]})]}),i>0&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[p.jsx("span",{className:"font-medium",children:"House"})," ",m(i)]})]}),l>0&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[p.jsx("span",{className:"font-medium",children:"Origination"})," ",m(d)]})]}),c>0&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[p.jsx("span",{className:"font-medium",children:"Site"})," ",m(f)]})]}),u>0&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded mr-2"}),p.jsxs("span",{className:"text-sm text-gray-900",children:[p.jsx("span",{className:"font-medium",children:"Deal"})," ",m(h)]})]})]}),g!==a&&a>0&&p.jsx("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded",children:" Commission percentages don't total to 100% of AGCI"})]}),!N&&p.jsxs("div",{className:"text-center py-4",children:[p.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Commission breakdown percentages not configured"}),n&&p.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Configure Commission Splits "})]})]})},IA=e=>{const t=i=>{if(i.payment_received)return"received";if(i.invoice_sent&&!i.payment_received){if(i.payment_date_estimated){const a=new Date(i.payment_date_estimated),l=new Date;if(l.setHours(0,0,0,0),a<l)return"overdue"}return"sent"}if(i.payment_date_estimated&&!i.invoice_sent){const a=new Date(i.payment_date_estimated),l=new Date;if(l.setHours(0,0,0,0),a<l)return"overdue"}return"pending"},n=e.reduce((i,a)=>{const l=t(a);return i[l]=(i[l]||0)+1,i.total++,i},{pending:0,sent:0,overdue:0,received:0,total:0}),r=n.overdue>0,s=n.overdue>0||n.sent>0,o=n.total>0?n.received/n.total*100:0;return{getPaymentStatus:t,statusSummary:n,hasOverdue:r,hasActionItems:s,completionRate:o}},MA=({deal:e,onDealUpdate:t})=>{const[n,r]=b.useState([]),[s,o]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState(!0),[f,h]=b.useState(null),[g,w]=b.useState(!1),{calculatedPaymentAmount:x,totalCalculatedPayments:v,paymentCommissionBreakdown:m,canGeneratePayments:y,validationMessages:_}=Bx(e,n,i),S=async()=>{if(e.id)try{d(!0),h(null);const{data:I,error:D}=await q.from("payment").select("*").eq("deal_id",e.id).order("payment_sequence",{ascending:!0});if(D)throw D;const O=(I==null?void 0:I.map(Mt=>Mt.id))||[];let L=[];if(O.length>0){const{data:Mt,error:nt}=await q.from("payment_split").select("*").in("payment_id",O);if(nt)throw nt;L=Mt||[]}const{data:Y,error:Z}=await q.from("commission_split").select("*").eq("deal_id",e.id);if(Z)throw Z;const{data:Ee,error:Ne}=await q.from("broker").select("*").order("name");if(Ne)throw Ne;r(I||[]),o(L),a(Y||[]),c(Ee||[])}catch(I){console.error("Error fetching payment data:",I),h(I instanceof Error?I.message:"Failed to load payment data")}finally{d(!1)}},k=async()=>{if(e.id)try{w(!0),h(null);const{data:I,error:D}=await q.rpc("generate_payments_for_deal",{deal_uuid:e.id});if(D)throw D;await S()}catch(I){console.error("Error generating payments:",I),h(I instanceof Error?I.message:"Failed to generate payments")}finally{w(!1)}},C=async(I,D)=>{try{const{error:O}=await q.from("payment").update(D).eq("id",I);if(O)throw O;r(L=>L.map(Y=>Y.id===I?{...Y,...D}:Y))}catch(O){console.error("Error updating payment:",O),h(O instanceof Error?O.message:"Failed to update payment")}},E=async I=>{try{const{error:D}=await q.from("payment_split").delete().eq("payment_id",I);if(D)throw D;const{error:O}=await q.from("payment").delete().eq("id",I);if(O)throw O;r(L=>L.filter(Y=>Y.id!==I)),o(L=>L.filter(Y=>Y.payment_id!==I))}catch(D){console.error("Error deleting payment:",D),h(D instanceof Error?D.message:"Failed to delete payment")}};if(b.useEffect(()=>{S()},[e.id]),u)return p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"text-gray-500",children:"Loading payment data..."})});const N=n.length>0,P=n.reduce((I,D)=>I+(D.payment_amount||0),0),j=e.fee||0,{statusSummary:B,hasOverdue:M,hasActionItems:V,completionRate:H}=IA(n),F=I=>I.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return p.jsxs("div",{className:"space-y-6",children:[f&&p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:p.jsx("div",{className:"text-red-700",children:f})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[p.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Total Commission"}),p.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",F(j)]})]}),p.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[p.jsx("div",{className:"text-sm font-medium text-green-600",children:"Calculated Payments"}),p.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",F(v)]}),p.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[e.number_of_payments||1,"  $",F(x)]})]}),p.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[p.jsx("div",{className:"text-sm font-medium text-purple-600",children:"Current Total"}),p.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:["$",F(P)]}),p.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:[n.length," payments generated"]})]}),p.jsx(RA,{statusSummary:B,hasOverdue:M,completionRate:H})]}),p.jsx(jA,{deal:e,commissionSplits:i,className:"mb-6"}),p.jsx(TA,{deal:e,hasPayments:N,existingPayments:n,commissionSplits:i,onGeneratePayments:k,generatingPayments:g}),N?p.jsx("div",{className:"space-y-6",children:p.jsx(OA,{payments:n,paymentSplits:s,brokers:l,onUpdatePayment:C,onDeletePayment:E})}):p.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[p.jsx("div",{className:"text-gray-500 text-lg mb-2",children:"No payments generated yet"}),p.jsx("div",{className:"text-gray-400 text-sm",children:y?'Click "Generate Payments" above to create payment records':"Complete commission configuration to enable payment generation"}),_.length>0&&p.jsxs("div",{className:"mt-4 text-left max-w-md mx-auto",children:[p.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Required configuration:"}),p.jsx("ul",{className:"text-sm text-gray-500 space-y-1",children:_.map((I,D)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-gray-400 mr-1",children:""}),I]},D))})]})]})]})},AA=({deal:e})=>{const[t,n]=b.useState(null),[r,s]=b.useState(null),[o,i]=b.useState(!0);b.useEffect(()=>{(async()=>{try{if(e.client_id){const{data:d}=await q.from("client").select("id, client_name").eq("id",e.client_id).single();d&&n(d)}if(e.stage_id){const{data:d}=await q.from("deal_stage").select("id, label").eq("id",e.stage_id).single();d&&s(d)}}catch(d){console.error("Error fetching header data:",d)}finally{i(!1)}})()},[e.client_id,e.stage_id]);const a=u=>u==null?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),l=u=>{if(!u)return"Not set";try{return new Date(u).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}catch{return"Invalid date"}},c=()=>p.jsxs("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}),p.jsx("circle",{cx:"4",cy:"4",r:"1",fill:"currentColor"}),p.jsx("circle",{cx:"13",cy:"7",r:"1",fill:"currentColor"}),p.jsx("circle",{cx:"21",cy:"7",r:"1",fill:"currentColor"})]});return o?p.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 border-b border-slate-600 text-white px-6 py-4",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center",children:p.jsx(c,{})}),p.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Loading..."})]})})})}):p.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 border-b border-slate-600 text-white px-6 py-4",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-600 rounded-lg",children:[p.jsx(c,{}),p.jsx("span",{className:"text-white text-sm font-medium",children:"Deal"})]}),p.jsx("h1",{className:"text-xl font-bold leading-tight",children:e.deal_name||"Unnamed Deal"})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-slate-300 font-medium mb-1",children:"Account Name"}),p.jsx("div",{className:"text-white",children:(t==null?void 0:t.client_name)||"No Client"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-slate-300 font-medium mb-1",children:"Stage"}),p.jsx("div",{className:"text-white font-semibold",children:(r==null?void 0:r.label)||"No Stage"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-slate-300 font-medium mb-1",children:"Probability"}),p.jsx("div",{className:"text-white font-semibold",children:e.probability!==null?`${e.probability}%`:"0%"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-slate-300 font-medium mb-1",children:"Target Close Date"}),p.jsx("div",{className:"text-white",children:l(e.target_close_date)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-slate-300 font-medium mb-1",children:"Deal Value"}),p.jsx("div",{className:"text-white font-bold text-base",children:a(e.deal_value)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-slate-300 font-medium mb-1",children:"Fee"}),p.jsx("div",{className:"text-emerald-400 font-bold text-base",children:a(e.fee)})]})]})]})})};function LA(){const{dealId:e}=qS(),[t,n]=b.useState(null),[r,s]=b.useState("overview"),{contacts:o}=Fx(e||null);b.useEffect(()=>{e&&(async()=>{const{data:c,error:u}=await q.from("deal").select("*").eq("id",e).single();!u&&c&&n(c)})()},[e]);const i=l=>{n(l)},a=async l=>{const c={...t,...l};return n(c),Promise.resolve()};return t?p.jsxs(_A,{children:[p.jsxs(SA,{contactCount:o.length,notesCount:0,filesCount:0,activityCount:0,paymentsCount:0,children:[p.jsx(AA,{deal:t}),p.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[p.jsx("div",{className:"border-b border-gray-200 mb-6",children:p.jsxs("nav",{className:"-mb-px flex space-x-8",children:[p.jsx("button",{onClick:()=>s("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),p.jsx("button",{onClick:()=>s("commission"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="commission"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Commission"}),p.jsx("button",{onClick:()=>s("payments"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="payments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Payments"})]})}),r==="overview"&&p.jsx(wA,{deal:t,onSave:i}),r==="commission"&&p.jsx(PA,{dealId:e,deal:t,onDealUpdate:a}),r==="payments"&&p.jsx(MA,{deal:t,onDealUpdate:a})]})]}),e&&p.jsx(kA,{dealId:e})]}):p.jsx("div",{className:"p-4",children:"Loading..."})}function FA(){const e=jn(),{user:t,signOut:n}=sC(),r=o=>`px-4 py-2 rounded hover:bg-blue-100 ${e.pathname===o?"bg-blue-200 font-semibold":""}`,s=async()=>{await n()};return p.jsxs("nav",{className:"bg-white shadow p-4 flex justify-between items-center",children:[p.jsxs("div",{className:"flex space-x-4",children:[p.jsx(oi,{to:"/master-pipeline",className:r("/master-pipeline"),children:"Master Pipeline"}),p.jsx(oi,{to:"/deal-test",className:r("/deal-test"),children:"Test Deal"})]}),t&&p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("span",{className:"text-sm text-gray-600",children:t.email}),p.jsx("button",{onClick:s,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Sign Out"})]})]})}function $A(){return p.jsx(oC,{children:p.jsx(iC,{children:p.jsxs("div",{className:"min-h-screen bg-gray-100",children:[p.jsx(FA,{}),p.jsxs(uk,{children:[p.jsx(Da,{path:"/",element:p.jsx(lk,{to:"/master-pipeline",replace:!0})}),p.jsx(Da,{path:"/master-pipeline",element:p.jsx(OO,{})}),p.jsx(Da,{path:"/deal/:dealId",element:p.jsx(LA,{})})]})]})})})}Cu.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(Ik,{children:p.jsx($A,{})})}));
